{
  "version": 3,
  "sources": ["../node_modules/applicationinsights/Library/Logging.ts", "../node_modules/diagnostic-channel/node_modules/semver/semver.js", "../node_modules/diagnostic-channel/dist/src/patchRequire.js", "../node_modules/diagnostic-channel/dist/src/channel.js", "../node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/console.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js", "../node_modules/diagnostic-channel-publishers/dist/src/index.js", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/initialization.ts", "../node_modules/cls-hooked/node_modules/semver/semver.js", "../node_modules/shimmer/index.js", "../node_modules/emitter-listener/listener.js", "../node_modules/cls-hooked/context.js", "../node_modules/async-hook-jl/patches/next-tick.js", "../node_modules/async-hook-jl/patches/promise.js", "../node_modules/async-hook-jl/patches/timers.js", "../node_modules/async-hook-jl/async-hook.js", "../node_modules/stack-chain/format.js", "../node_modules/stack-chain/stack-chain.js", "../node_modules/stack-chain/index.js", "../node_modules/async-hook-jl/index.js", "../node_modules/cls-hooked/context-legacy.js", "../node_modules/cls-hooked/index.js", "../node_modules/async-listener/node_modules/semver/semver.js", "../node_modules/async-listener/glue.js", "../node_modules/async-listener/es6-wrapped-promise.js", "../node_modules/async-listener/index.js", "../node_modules/continuation-local-storage/context.js", "../node_modules/applicationinsights/AutoCollection/CorrelationContextManager.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/Domain.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/AvailabilityData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/Base.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/ContextTagKeys.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/Data.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/DataPointType.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/DataPoint.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/Envelope.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/EventData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/ExceptionData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/ExceptionDetails.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/MessageData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/MetricData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/PageViewData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/RemoteDependencyData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/RequestData.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/SeverityLevel.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/StackFrame.ts", "../node_modules/applicationinsights/Declarations/Contracts/Generated/index.ts", "../node_modules/applicationinsights/Declarations/Contracts/Constants.ts", "../node_modules/applicationinsights/Declarations/Contracts/TelemetryTypes/TelemetryType.ts", "../node_modules/applicationinsights/Declarations/Contracts/TelemetryTypes/index.ts", "../node_modules/applicationinsights/Declarations/Contracts/index.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/console.sub.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/bunyan.sub.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/winston.sub.ts", "../node_modules/applicationinsights/AutoCollection/Console.ts", "../node_modules/applicationinsights/AutoCollection/Exceptions.ts", "../node_modules/applicationinsights/Declarations/Constants.ts", "../node_modules/applicationinsights/AutoCollection/Performance.ts", "../node_modules/applicationinsights/Library/RequestResponseHeaders.ts", "../node_modules/applicationinsights/Library/Util.ts", "../node_modules/applicationinsights/AutoCollection/RequestParser.ts", "../node_modules/applicationinsights/Library/CorrelationIdManager.ts", "../node_modules/applicationinsights/AutoCollection/HttpDependencyParser.ts", "../node_modules/applicationinsights/Library/Traceparent.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/mongodb.sub.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/mysql.sub.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/redis.sub.ts", "../node_modules/applicationinsights/AutoCollection/diagnostic-channel/postgres.sub.ts", "../node_modules/applicationinsights/AutoCollection/HttpDependencies.ts", "../node_modules/applicationinsights/Library/Tracestate.ts", "../node_modules/applicationinsights/AutoCollection/HttpRequestParser.ts", "../node_modules/applicationinsights/AutoCollection/HttpRequests.ts", "../node_modules/applicationinsights/Library/ConnectionStringParser.ts", "../node_modules/applicationinsights/Library/Config.ts", "../node_modules/applicationinsights/Library/QuickPulseEnvelopeFactory.ts", "../node_modules/applicationinsights/Library/QuickPulseSender.ts", "../node_modules/applicationinsights/Library/Context.ts", "../node_modules/applicationinsights/Library/QuickPulseStateManager.ts", "../node_modules/applicationinsights/AutoCollection/NativePerformance.ts", "../node_modules/applicationinsights/Library/Channel.ts", "../node_modules/applicationinsights/TelemetryProcessors/SamplingTelemetryProcessor.ts", "../node_modules/applicationinsights/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.ts", "../node_modules/applicationinsights/TelemetryProcessors/index.ts", "../node_modules/applicationinsights/Library/Sender.ts", "../node_modules/applicationinsights/Library/EnvelopeFactory.ts", "../node_modules/applicationinsights/Library/TelemetryClient.ts", "../node_modules/applicationinsights/Library/NodeClient.ts", "../node_modules/applicationinsights/applicationinsights.ts", "../node_modules/vscode-extension-telemetry/lib/telemetryReporter.js", "../node_modules/semver/internal/constants.js", "../node_modules/semver/internal/debug.js", "../node_modules/semver/internal/re.js", "../node_modules/semver/internal/parse-options.js", "../node_modules/semver/internal/identifiers.js", "../node_modules/semver/classes/semver.js", "../node_modules/semver/functions/parse.js", "../node_modules/semver/functions/valid.js", "../node_modules/semver/functions/clean.js", "../node_modules/semver/functions/inc.js", "../node_modules/semver/functions/compare.js", "../node_modules/semver/functions/eq.js", "../node_modules/semver/functions/diff.js", "../node_modules/semver/functions/major.js", "../node_modules/semver/functions/minor.js", "../node_modules/semver/functions/patch.js", "../node_modules/semver/functions/prerelease.js", "../node_modules/semver/functions/rcompare.js", "../node_modules/semver/functions/compare-loose.js", "../node_modules/semver/functions/compare-build.js", "../node_modules/semver/functions/sort.js", "../node_modules/semver/functions/rsort.js", "../node_modules/semver/functions/gt.js", "../node_modules/semver/functions/lt.js", "../node_modules/semver/functions/neq.js", "../node_modules/semver/functions/gte.js", "../node_modules/semver/functions/lte.js", "../node_modules/semver/functions/cmp.js", "../node_modules/semver/functions/coerce.js", "../node_modules/yallist/iterator.js", "../node_modules/yallist/yallist.js", "../node_modules/lru-cache/index.js", "../node_modules/semver/classes/range.js", "../node_modules/semver/classes/comparator.js", "../node_modules/semver/functions/satisfies.js", "../node_modules/semver/ranges/to-comparators.js", "../node_modules/semver/ranges/max-satisfying.js", "../node_modules/semver/ranges/min-satisfying.js", "../node_modules/semver/ranges/min-version.js", "../node_modules/semver/ranges/valid.js", "../node_modules/semver/ranges/outside.js", "../node_modules/semver/ranges/gtr.js", "../node_modules/semver/ranges/ltr.js", "../node_modules/semver/ranges/intersects.js", "../node_modules/semver/ranges/simplify.js", "../node_modules/semver/ranges/subset.js", "../node_modules/semver/index.js", "../node_modules/picomatch/lib/constants.js", "../node_modules/picomatch/lib/utils.js", "../node_modules/picomatch/lib/scan.js", "../node_modules/picomatch/lib/parse.js", "../node_modules/picomatch/lib/picomatch.js", "../node_modules/picomatch/index.js", "../node_modules/readdirp/index.js", "../node_modules/normalize-path/index.js", "../node_modules/anymatch/index.js", "../node_modules/is-extglob/index.js", "../node_modules/is-glob/index.js", "../node_modules/glob-parent/index.js", "../node_modules/braces/lib/utils.js", "../node_modules/braces/lib/stringify.js", "../node_modules/is-number/index.js", "../node_modules/to-regex-range/index.js", "../node_modules/fill-range/index.js", "../node_modules/braces/lib/compile.js", "../node_modules/braces/lib/expand.js", "../node_modules/braces/lib/constants.js", "../node_modules/braces/lib/parse.js", "../node_modules/braces/index.js", "../node_modules/binary-extensions/index.js", "../node_modules/is-binary-path/index.js", "../node_modules/chokidar/lib/constants.js", "../node_modules/chokidar/lib/nodefs-handler.js", "../node_modules/chokidar/lib/fsevents-handler.js", "../node_modules/chokidar/index.js", "../node_modules/whatwg-url/node_modules/webidl-conversions/lib/index.js", "../node_modules/whatwg-url/lib/utils.js", "../node_modules/whatwg-url/node_modules/tr46/index.js", "../node_modules/whatwg-url/lib/url-state-machine.js", "../node_modules/whatwg-url/lib/URL-impl.js", "../node_modules/whatwg-url/lib/URL.js", "../node_modules/whatwg-url/lib/public-api.js", "../node_modules/node-fetch/lib/index.js", "../src/extension.ts", "../src/services/node/index.ts", "../src/services/workspace/index.ts", "../src/environment.ts", "../src/services/logger/output.ts", "../src/services/logger/index.ts", "../src/services/testRunner/parser.ts", "../src/services/testRunner/subtasks.ts", "../src/services/testRunner/throttle.ts", "../src/services/telemetry/index.ts", "../src/services/testRunner/formatOutput.ts", "../src/services/testRunner/index.ts", "../src/services/webview/create.ts", "../src/services/webview/render.ts", "../src/services/dependencies/index.ts", "../src/services/git/index.ts", "../src/services/hooks/utils/commits.ts", "../src/services/hooks/utils/watchers.ts", "../src/services/hooks/utils/openFiles.ts", "../src/services/hooks/utils/runCommands.ts", "../src/services/hooks/utils/runVSCodeCommands.ts", "../src/actions/onTest.ts", "../src/services/hooks/webhooks.ts", "../src/services/hooks/index.ts", "../src/channel.ts", "../src/services/storage/index.ts", "../src/services/context/state/Position.ts", "../src/services/context/state/Tutorial.ts", "../src/services/context/context.ts", "../src/actions/onStartup.ts", "../src/actions/onTutorialConfigNew.ts", "../src/actions/utils/tutorialConfig.ts", "../src/actions/onTutorialConfigContinue.ts", "../src/actions/onValidateSetup.ts", "../src/services/reset/index.ts", "../src/services/reset/lastHash.ts", "../src/actions/onRunReset.ts", "../src/actions/onOpenLogs.ts", "../src/commands.ts"],
  "sourcesContent": ["class Logging {\n    public static enableDebug = false;\n    public static disableWarnings = false;\n    public static disableErrors = false;\n\n    private static TAG = \"ApplicationInsights:\";\n\n    public static info(message?: any, ...optionalParams: any[]) {\n        if(Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    }\n\n    public static warn(message?: any, ...optionalParams: any[]) {\n        if(!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    }\n}\n\nexport = Logging;", "exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n", "\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map", "\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map", "\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map", "\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map", "\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map", "\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\n\r\n// Don't reference modules from these directly. Use only for types.\r\n// This is to avoid requiring the actual module if the NO_DIAGNOSTIC_CHANNEL env is present\r\nimport * as DiagChannelPublishers from \"diagnostic-channel-publishers\";\r\nimport * as DiagChannel from \"diagnostic-channel\";\r\nimport Logging = require(\"../../Library/Logging\");\r\n\r\nexport const IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\r\nconst TAG = \"DiagnosticChannel\";\r\n\r\nif (IsInitialized) {\r\n    const publishers: typeof DiagChannelPublishers = require(\"diagnostic-channel-publishers\");\r\n    const individualOptOuts: string = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\r\n    const unpatchedModules = individualOptOuts.split(\",\");\r\n    const modules: {[key: string] : any} = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston\r\n    };\r\n    for (const mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n            Logging.info(TAG, `Subscribed to ${mod} events`);\r\n        }\r\n    }\r\n    if (unpatchedModules.length > 0) {\r\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\r\n    }\r\n} else {\r\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\r\n}\r\n\r\nexport function registerContextPreservation(cb: (cb: Function) => Function) {\r\n    if (!IsInitialized) {\r\n        return;\r\n    }\r\n\r\n    (require(\"diagnostic-channel\") as typeof DiagChannel).channel.addContextPreservation(cb);\r\n}\r\n", "exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n", "'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n", "'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n", "/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n", "'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n", "'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n", "'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n", "'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};", "// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n", "\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n", "// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n", "'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}", "'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n", "'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n", "exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n", "var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n", "'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n", "'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n", "'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n", "import http = require(\"http\");\nimport events = require(\"events\");\nimport Util = require(\"../Library/Util\");\nimport Logging = require(\"../Library/Logging\");\n\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\n\n// Don't reference modules from these directly. Use only for types.\nimport * as cls from \"cls-hooked\";\nimport Traceparent = require(\"../Library/Traceparent\");\nimport Tracestate = require(\"../Library/Tracestate\");\n\nexport interface CustomProperties {\n    /**\n     * Get a custom property from the correlation context\n     */\n    getProperty(key: string): string;\n    /**\n     * Store a custom property in the correlation context.\n     * Do not store sensitive information here.\n     * Properties stored here are exposed via outgoing HTTP headers for correlating data cross-component.\n     * The characters ',' and '=' are disallowed within keys or values.\n     */\n    setProperty(key: string, value: string): void;\n}\n\nexport interface PrivateCustomProperties extends CustomProperties {\n    addHeaderData(header: string): void;\n    serializeToHeader(): string;\n}\n\nexport interface CorrelationContext {\n    operation: {\n        name: string;\n        id: string;\n        parentId: string; // Always used for dependencies, may be ignored in favor of incoming headers for requests\n        traceparent?: Traceparent; // w3c context trace\n        tracestate?: Tracestate; // w3c context state\n    };\n\n    /** Do not store sensitive information here.\n     *  Properties here are exposed via outgoing HTTP headers for correlating data cross-component.\n     */\n    customProperties: CustomProperties\n}\n\nexport class CorrelationContextManager {\n    private static enabled: boolean = false;\n    private static hasEverEnabled: boolean = false;\n    private static forceClsHooked: boolean = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    private static session: cls.Namespace;\n    private static cls: typeof cls;\n    private static CONTEXT_NAME = \"ApplicationInsights-Context\"\n\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    public static getCurrentContext(): CorrelationContext {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        const context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n\n        if (context === undefined) { // cast undefined to null\n            return null;\n        }\n        return context;\n    }\n\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    public static generateContextObject(operationId: string, parentId?: string, operationName?: string, correlationContextHeader?: string, traceparent?: Traceparent, tracestate?: Tracestate): CorrelationContext {\n        parentId = parentId || operationId;\n\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent,\n                    tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n\n        return null;\n    }\n\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    public static runWithContext(context: CorrelationContext, fn: ()=>any): any {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, {[CorrelationContextManager.CONTEXT_NAME]: context})();\n        } else {\n            return fn();\n        }\n    }\n\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    public static wrapEmitter(emitter: events.EventEmitter): void {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    }\n\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    public static wrapCallback<T extends Function>(fn: T): T {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    }\n\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    public static enable(forceClsHooked?: boolean) {\n        if (this.enabled) {\n            return;\n        }\n\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                } else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n\n            DiagChannel.registerContextPreservation((cb) => {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n\n        this.enabled = true;\n    }\n\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    public static disable() {\n        this.enabled = false;\n    }\n\n    /**\n     * Reset the namespace\n     */\n    public static reset() {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    }\n\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    public static isNodeVersionCompatible() {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n\n    }\n\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    public static shouldUseClsHooked() {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    }\n\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    public static canUseClsHooked() {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2)\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7) // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    }\n}\n\nclass CustomPropertiesImpl implements PrivateCustomProperties {\n    private static bannedCharacters = /[,=]/;\n    private props: {key: string, value:string}[] = [];\n\n    public constructor(header: string) {\n        this.addHeaderData(header);\n    }\n\n    public addHeaderData(header?: string) {\n        const keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map((keyval) => {\n            const parts = keyval.split(\"=\");\n            return {key: parts[0], value: parts[1]};\n        }).concat(this.props);\n    }\n\n    public serializeToHeader() {\n        return this.props.map((keyval) => {\n            return `${keyval.key}=${keyval.value}`\n        }).join(\", \");\n    }\n\n    public getProperty(prop: string) {\n        for(let i = 0; i < this.props.length; ++i) {\n            const keyval = this.props[i]\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    }\n\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    public setProperty(prop: string, val: string) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \"+ val);\n            return;\n        }\n        for (let i = 0; i < this.props.length; ++i) {\n            const keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({key: prop, value: val});\n    }\n}\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n    \n    /**\n     * The abstract common base of all domains.\n     */\n    class Domain\n    {\n        \n        constructor()\n        {\n        }\n    }\nexport = Domain;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\n\"use strict\";\n    \n    /**\n     * Instances of AvailabilityData represent the result of executing an availability test.\n     */\n    class AvailabilityData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Identifier of a test run. Use it to correlate steps of test run and telemetry generated by the service.\n         */\n        public id: string;\n        \n        /**\n         * Name of the test that these availability results represent.\n         */\n        public name: string;\n        \n        /**\n         * Duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\n         */\n        public duration: string;\n        \n        /**\n         * Success flag.\n         */\n        public success: boolean;\n        \n        /**\n         * Name of the location where the test was run from.\n         */\n        public runLocation: string;\n        \n        /**\n         * Diagnostic message for the result.\n         */\n        public message: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = AvailabilityData;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n    \n    /**\n     * Data struct to contain only C section with custom fields.\n     */\n    class Base\n    {\n        \n        /**\n         * Name of item (B section) if any. If telemetry data is derived straight from this, this should be null.\n         */\n        public baseType: string;\n        \n        constructor()\n        {\n        }\n    }\nexport = Base;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nclass ContextTagKeys {\n\n    /**\n     * Application version. Information in the application context fields is always about the application that is sending the telemetry.\n     */\n    public applicationVersion: string;\n\n    /**\n     * Unique client device id. Computer name in most cases.\n     */\n    public deviceId: string;\n\n    /**\n     * Device locale using <language>-<REGION> pattern, following RFC 5646. Example 'en-US'.\n     */\n    public deviceLocale: string;\n\n    /**\n     * Model of the device the end user of the application is using. Used for client scenarios. If this field is empty then it is derived from the user agent.\n     */\n    public deviceModel: string;\n\n    /**\n     * Client device OEM name taken from the browser.\n     */\n    public deviceOEMName: string;\n\n    /**\n     * Operating system name and version of the device the end user of the application is using. If this field is empty then it is derived from the user agent. Example 'Windows 10 Pro 10.0.10586.0'\n     */\n    public deviceOSVersion: string;\n\n    /**\n     * The type of the device the end user of the application is using. Used primarily to distinguish JavaScript telemetry from server side telemetry. Examples: 'PC', 'Phone', 'Browser'. 'PC' is the default value.\n     */\n    public deviceType: string;\n\n    /**\n     * The IP address of the client device. IPv4 and IPv6 are supported. Information in the location context fields is always about the end user. When telemetry is sent from a service, the location context is about the user that initiated the operation in the service.\n     */\n    public locationIp: string;\n\n    /**\n     * A unique identifier for the operation instance. The operation.id is created by either a request or a page view. All other telemetry sets this to the value for the containing request or page view. Operation.id is used for finding all the telemetry items for a specific operation instance.\n     */\n    public operationId: string;\n\n    /**\n     * The name (group) of the operation. The operation.name is created by either a request or a page view. All other telemetry items set this to the value for the containing request or page view. Operation.name is used for finding all the telemetry items for a group of operations (i.e. 'GET Home/Index').\n     */\n    public operationName: string;\n\n    /**\n     * The unique identifier of the telemetry item's immediate parent.\n     */\n    public operationParentId: string;\n\n    /**\n     * Name of synthetic source. Some telemetry from the application may represent a synthetic traffic. It may be web crawler indexing the web site, site availability tests or traces from diagnostic libraries like Application Insights SDK itself.\n     */\n    public operationSyntheticSource: string;\n\n    /**\n     * The correlation vector is a light weight vector clock which can be used to identify and order related events across clients and services.\n     */\n    public operationCorrelationVector: string;\n\n    /**\n     * Session ID - the instance of the user's interaction with the app. Information in the session context fields is always about the end user. When telemetry is sent from a service, the session context is about the user that initiated the operation in the service.\n     */\n    public sessionId: string;\n\n    /**\n     * Boolean value indicating whether the session identified by ai.session.id is first for the user or not.\n     */\n    public sessionIsFirst: string;\n\n    /**\n     * In multi-tenant applications this is the account ID or name which the user is acting with. Examples may be subscription ID for Azure portal or blog name blogging platform.\n     */\n    public userAccountId: string;\n\n    /**\n     * Anonymous user id. Represents the end user of the application. When telemetry is sent from a service, the user context is about the user that initiated the operation in the service.\n     */\n    public userId: string;\n\n    /**\n     * Authenticated user id. The opposite of ai.user.id, this represents the user with a friendly name. Since it's PII information it is not collected by default by most SDKs.\n     */\n    public userAuthUserId: string;\n\n    /**\n     * Name of the role the application is a part of. For Azure environment, this should be initialized with \n     * [Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment]::CurrentRoleInstance.Role.Name\n     * See more details here: https://dzone.com/articles/accessing-azure-role-0\n     * It is recommended that you initialize environment variable with this value during machine startup, and then set context field from environment variable\n     * appInsights.client.context.tags[appInsights.client.context.keys.cloudRole] = process.env.RoleName\n     */\n    public cloudRole: string;\n\n    /**\n     * Name of the instance where the application is running. For Azure environment, this should be initialized with \n     * [Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment]::CurrentRoleInstance.Id\n     * See more details here: https://dzone.com/articles/accessing-azure-role-0\n     * It is recommended that you initialize environment variable with this value during machine startup, and then set context field from environment variable\n     * appInsights.client.context.tags[appInsights.client.context.keys.cloudRoleInstance] = process.env.RoleInstanceId\n     */\n    public cloudRoleInstance: string;\n\n\n    /**\n     * SDK version. See https://github.com/Microsoft/ApplicationInsights-Home/blob/master/SDK-AUTHORING.md#sdk-version-specification for information.\n     */\n    public internalSdkVersion: string;\n\n    /**\n     * Agent version. Used to indicate the version of StatusMonitor installed on the computer if it is used for data collection.\n     */\n    public internalAgentVersion: string;\n\n    /**\n     * This is the node name used for billing purposes. Use it to override the standard detection of nodes.\n     */\n    public internalNodeName: string;\n\n    constructor() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n}\nexport = ContextTagKeys;\n", "// THIS FILE WAS AUTOGENERATED\nimport Base = require('./Base');\n\"use strict\";\n    \n    /**\n     * Data struct to contain both B and C sections.\n     */\n    class Data<TDomain> extends Base\n    {\n        \n        /**\n         * Name of item (B section) if any. If telemetry data is derived straight from this, this should be null.\n         */\n        public baseType: string;\n        \n        /**\n         * Container for data item (B section).\n         */\n        public baseData: TDomain;\n        \n        constructor()\n        {\n            super();\n            \n        }\n    }\nexport = Data;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n    \n    /**\n     * Type of the metric data measurement.\n     */\n    enum DataPointType\n    {\n        Measurement = 0,\n        Aggregation = 1,\n    }\nexport = DataPointType;\n", "// THIS FILE WAS AUTOGENERATED\nimport DataPointType = require('./DataPointType');\n\"use strict\";\n    \n    /**\n     * Metric data single measurement.\n     */\n    class DataPoint\n    {\n        \n        /**\n         * Name of the metric.\n         */\n        public name: string;\n        \n        /**\n         * Metric type. Single measurement or the aggregated value.\n         */\n        public kind: DataPointType;\n        \n        /**\n         * Single value for measurement. Sum of individual measurements for the aggregation.\n         */\n        public value: number;\n        \n        /**\n         * Metric weight of the aggregated metric. Should not be set for a measurement.\n         */\n        public count: number;\n        \n        /**\n         * Minimum value of the aggregated metric. Should not be set for a measurement.\n         */\n        public min: number;\n        \n        /**\n         * Maximum value of the aggregated metric. Should not be set for a measurement.\n         */\n        public max: number;\n        \n        /**\n         * Standard deviation of the aggregated metric. Should not be set for a measurement.\n         */\n        public stdDev: number;\n        \n        constructor()\n        {\n            this.kind = DataPointType.Measurement;\n        }\n    }\nexport = DataPoint;\n", "// THIS FILE WAS AUTOGENERATED\nimport Base = require('./Base');\n\"use strict\";\n    \n    /**\n     * System variables for a telemetry item.\n     */\n    class Envelope\n    {\n        \n        /**\n         * Envelope version. For internal use only. By assigning this the default, it will not be serialized within the payload unless changed to a value other than #1.\n         */\n        public ver: number;\n        \n        /**\n         * Type name of telemetry data item.\n         */\n        public name: string;\n        \n        /**\n         * Event date time when telemetry item was created. This is the wall clock time on the client when the event was generated. There is no guarantee that the client's time is accurate. This field must be formatted in UTC ISO 8601 format, with a trailing 'Z' character, as described publicly on https://en.wikipedia.org/wiki/ISO_8601#UTC. Note: the number of decimal seconds digits provided are variable (and unspecified). Consumers should handle this, i.e. managed code consumers should not use format 'O' for parsing as it specifies a fixed length. Example: 2009-06-15T13:45:30.0000000Z.\n         */\n        public time: string;\n        \n        /**\n         * Sampling rate used in application. This telemetry item represents 1 / sampleRate actual telemetry items.\n         */\n        public sampleRate: number;\n        \n        /**\n         * Sequence field used to track absolute order of uploaded events.\n         */\n        public seq: string;\n        \n        /**\n         * The application's instrumentation key. The key is typically represented as a GUID, but there are cases when it is not a guid. No code should rely on iKey being a GUID. Instrumentation key is case insensitive.\n         */\n        public iKey: string;\n        \n        /**\n         * Key/value collection of context properties. See ContextTagKeys for information on available properties.\n         */\n        public tags: any;\n        \n        /**\n         * Telemetry data item.\n         */\n        public data: Base;\n        \n        constructor()\n        {\n            this.ver = 1;\n            this.sampleRate = 100.0;\n            this.tags = {};\n        }\n    }\nexport = Envelope;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\n\"use strict\";\n    \n    /**\n     * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n     */\n    class EventData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Event name. Keep it low cardinality to allow proper grouping and useful metrics.\n         */\n        public name: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = EventData;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\nimport ExceptionDetails = require('./ExceptionDetails');\nimport SeverityLevel = require('./SeverityLevel');\n\"use strict\";\n    \n    /**\n     * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n     */\n    class ExceptionData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Exception chain - list of inner exceptions.\n         */\n        public exceptions: ExceptionDetails[];\n        \n        /**\n         * Severity level. Mostly used to indicate exception severity level when it is reported by logging library.\n         */\n        public severityLevel: SeverityLevel;\n        \n        /**\n         * Identifier of where the exception was thrown in code. Used for exceptions grouping. Typically a combination of exception type and a function from the call stack.\n         */\n        public problemId: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.exceptions = [];\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = ExceptionData;\n", "// THIS FILE WAS AUTOGENERATED\nimport StackFrame = require('./StackFrame');\n\"use strict\";\n    \n    /**\n     * Exception details of the exception in a chain.\n     */\n    class ExceptionDetails\n    {\n        \n        /**\n         * In case exception is nested (outer exception contains inner one), the id and outerId properties are used to represent the nesting.\n         */\n        public id: number;\n        \n        /**\n         * The value of outerId is a reference to an element in ExceptionDetails that represents the outer exception\n         */\n        public outerId: number;\n        \n        /**\n         * Exception type name.\n         */\n        public typeName: string;\n        \n        /**\n         * Exception message.\n         */\n        public message: string;\n        \n        /**\n         * Indicates if full exception stack is provided in the exception. The stack may be trimmed, such as in the case of a StackOverflow exception.\n         */\n        public hasFullStack: boolean;\n        \n        /**\n         * Text describing the stack. Either stack or parsedStack should have a value.\n         */\n        public stack: string;\n        \n        /**\n         * List of stack frames. Either stack or parsedStack should have a value.\n         */\n        public parsedStack: StackFrame[];\n        \n        constructor()\n        {\n            this.hasFullStack = true;\n            this.parsedStack = [];\n        }\n    }\nexport = ExceptionDetails;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\nimport SeverityLevel = require('./SeverityLevel');\n\"use strict\";\n    \n    /**\n     * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n     */\n    class MessageData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Trace message\n         */\n        public message: string;\n        \n        /**\n         * Trace severity level.\n         */\n        public severityLevel: SeverityLevel;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.properties = {};\n        }\n    }\nexport = MessageData;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\nimport DataPoint = require('./DataPoint');\n\"use strict\";\n    \n    /**\n     * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n     */\n    class MetricData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * List of metrics. Only one metric in the list is currently supported by Application Insights storage. If multiple data points were sent only the first one will be used.\n         */\n        public metrics: DataPoint[];\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.metrics = [];\n            this.properties = {};\n        }\n    }\nexport = MetricData;\n", "// THIS FILE WAS AUTOGENERATED\nimport EventData = require('./EventData');\n\"use strict\";\n    \n    /**\n     * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n     */\n    class PageViewData extends EventData\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Request URL with all query string parameters\n         */\n        public url: string;\n        \n        /**\n         * Event name. Keep it low cardinality to allow proper grouping and useful metrics.\n         */\n        public name: string;\n        \n        /**\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. For a page view (PageViewData), this is the duration. For a page view with performance information (PageViewPerfData), this is the page load time. Must be less than 1000 days.\n         */\n        public duration: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = PageViewData;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\n\"use strict\";\n    \n    /**\n     * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n     */\n    class RemoteDependencyData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Name of the command initiated with this dependency call. Low cardinality value. Examples are stored procedure name and URL path template.\n         */\n        public name: string;\n        \n        /**\n         * Identifier of a dependency call instance. Used for correlation with the request telemetry item corresponding to this dependency call.\n         */\n        public id: string;\n        \n        /**\n         * Result code of a dependency call. Examples are SQL error code and HTTP status code.\n         */\n        public resultCode: string;\n        \n        /**\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\n         */\n        public duration: string;\n        \n        /**\n         * Indication of successfull or unsuccessfull call.\n         */\n        public success: boolean;\n        \n        /**\n         * Command initiated by this dependency call. Examples are SQL statement and HTTP URL's with all query parameters.\n         */\n        public data: string;\n        \n        /**\n         * Target site of a dependency call. Examples are server name, host address.\n         */\n        public target: string;\n        \n        /**\n         * Dependency type name. Very low cardinality value for logical grouping of dependencies and interpretation of other fields like commandName and resultCode. Examples are SQL, Azure table, and HTTP.\n         */\n        public type: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.success = true;\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = RemoteDependencyData;\n", "// THIS FILE WAS AUTOGENERATED\nimport Domain = require('./Domain');\n\"use strict\";\n    \n    /**\n     * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n     */\n    class RequestData extends Domain\n    {\n        \n        /**\n         * Schema version\n         */\n        public ver: number;\n        \n        /**\n         * Identifier of a request call instance. Used for correlation between request and other telemetry items.\n         */\n        public id: string;\n        \n        /**\n         * Source of the request. Examples are the instrumentation key of the caller or the ip address of the caller.\n         */\n        public source: string;\n        \n        /**\n         * Name of the request. Represents code path taken to process request. Low cardinality value to allow better grouping of requests. For HTTP requests it represents the HTTP method and URL path template like 'GET /values/{id}'.\n         */\n        public name: string;\n        \n        /**\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\n         */\n        public duration: string;\n        \n        /**\n         * Result of a request execution. HTTP status code for HTTP requests.\n         */\n        public responseCode: string;\n        \n        /**\n         * Indication of successfull or unsuccessfull call.\n         */\n        public success: boolean;\n        \n        /**\n         * Request URL with all query string parameters.\n         */\n        public url: string;\n        \n        /**\n         * Collection of custom properties.\n         */\n        public properties: any;\n        \n        /**\n         * Collection of custom measurements.\n         */\n        public measurements: any;\n        \n        constructor()\n        {\n            super();\n            \n            this.ver = 2;\n            this.properties = {};\n            this.measurements = {};\n        }\n    }\nexport = RequestData;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n    \n    /**\n     * Defines the level of severity for the event.\n     */\n    enum SeverityLevel\n    {\n        Verbose = 0,\n        Information = 1,\n        Warning = 2,\n        Error = 3,\n        Critical = 4,\n    }\nexport = SeverityLevel;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n    \n    /**\n     * Stack frame information.\n     */\n    class StackFrame\n    {\n        \n        /**\n         * Level in the call stack. For the long stacks SDK may not report every function in a call stack.\n         */\n        public level: number;\n        \n        /**\n         * Method name.\n         */\n        public method: string;\n        \n        /**\n         * Name of the assembly (dll, jar, etc.) containing this function.\n         */\n        public assembly: string;\n        \n        /**\n         * File name or URL of the method implementation.\n         */\n        public fileName: string;\n        \n        /**\n         * Line number of the code implementation.\n         */\n        public line: number;\n        \n        constructor()\n        {\n        }\n    }\nexport = StackFrame;\n", "// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nexport import AvailabilityData = require(\"./AvailabilityData\");\nexport import Base = require(\"./Base\");\nexport import ContextTagKeys = require(\"./ContextTagKeys\");\nexport import Data = require(\"./Data\");\nexport import DataPoint = require(\"./DataPoint\");\nexport import DataPointType = require(\"./DataPointType\");\nexport import Domain = require(\"./Domain\");\nexport import Envelope = require(\"./Envelope\");\nexport import EventData = require(\"./EventData\");\nexport import ExceptionData = require(\"./ExceptionData\");\nexport import ExceptionDetails = require(\"./ExceptionDetails\");\nexport import MessageData = require(\"./MessageData\");\nexport import MetricData = require(\"./MetricData\");\nexport import PageViewData = require(\"./PageViewData\");\nexport import RemoteDependencyData = require(\"./RemoteDependencyData\");\nexport import RequestData = require(\"./RequestData\");\nexport import SeverityLevel = require(\"./SeverityLevel\");\nexport import StackFrame = require(\"./StackFrame\");\n", "import { Domain, EventData, ExceptionData, MessageData, MetricData, PageViewData, RemoteDependencyData, RequestData } from \"./Generated\";\n\nexport class RemoteDependencyDataConstants {\n    public static TYPE_HTTP:string = \"Http\";\n    public static TYPE_AI:string = \"Http (tracked component)\";\n}\n\nexport interface ISupportProperties extends Domain {\n    properties: any;\n}\n\nexport function domainSupportsProperties(domain: Domain): domain is ISupportProperties {\n    return \"properties\" in domain || // Do extra typechecks in case the type supports it but properties is null/undefined\n        domain instanceof EventData ||\n        domain instanceof ExceptionData ||\n        domain instanceof MessageData ||\n        domain instanceof MetricData ||\n        domain instanceof PageViewData ||\n        domain instanceof RemoteDependencyData ||\n        domain instanceof RequestData;\n}\n\n/**\n * Subset of Connection String fields which this SDK can parse. Lower-typecased to\n * allow for case-insensitivity across field names\n * @type ConnectionStringKey\n */\nexport interface ConnectionString {\n    authorization?: string;\n    instrumentationkey?: string;\n    ingestionendpoint?: string;\n    liveendpoint?: string;\n    location?: string;\n    endpointsuffix?: string;\n\n    // Note: this is a node types backcompat equivalent to\n    // type ConnectionString = { [key in ConnectionStringKey]?: string }\n}\n\nexport type ConnectionStringKey = \"authorization\" | \"instrumentationkey\" | \"ingestionendpoint\" | \"liveendpoint\" | \"location\" | \"endpointsuffix\";\n", "export type TelemetryTypeKeys = \"Event\" | \"Exception\" | \"Trace\" | \"Metric\" | \"Request\" | \"Dependency\" | \"Availability\";\nexport type TelemetryTypeValues =\n    | \"EventData\"\n    | \"ExceptionData\"\n    | \"MessageData\"\n    | \"MetricData\"\n    | \"RequestData\"\n    | \"RemoteDependencyData\"\n    | \"AvailabilityData\";\n\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nexport function telemetryTypeToBaseType(type: TelemetryType): TelemetryTypeValues {\n    switch(type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\n\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nexport function baseTypeToTelemetryType(baseType: TelemetryTypeValues): TelemetryType {\n    switch(baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\n\nexport const TelemetryTypeString: {[key: string]: TelemetryTypeValues} = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n}\n\n/**\n * Telemetry types supported by this SDK\n */\nexport enum TelemetryType {\n    Event,\n    Exception,\n    Trace,\n    Metric,\n    Request,\n    Dependency,\n    Availability\n}\n\nexport interface Identified {\n    id?: string;\n}\n", "export * from \"./DependencyTelemetry\";\nexport * from \"./EventTelemetry\";\nexport * from \"./ExceptionTelemetry\";\nexport * from \"./MetricTelemetry\";\nexport * from \"./RequestTelemetry\";\nexport * from \"./TraceTelemetry\";\nexport * from \"./Telemetry\";\n\nexport * from \"./NodeHttpDependencyTelemetry\";\nexport * from \"./NodeHttpRequestTelemetry\";\nexport * from \"./AvailabilityTelemetry\";\n\nexport * from \"./TelemetryType\";", "export * from \"./Constants\";\nexport * from \"./Generated\";\nexport * from \"./TelemetryTypes\";\nexport * from \"./QuickPulseTypes\";\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport {SeverityLevel} from \"../../Declarations/Contracts\";\r\n\r\nimport {channel, IStandardEvent} from \"diagnostic-channel\";\r\n\r\nimport {console as consolePub} from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nconst subscriber = (event: IStandardEvent<consolePub.IConsoleData>) => {\r\n    let message = event.data.message as Error | string;\r\n    clients.forEach((client) => {\r\n        if (message instanceof Error) {\r\n            client.trackException({ exception: message});\r\n        } else {\r\n            // Message can have a trailing newline\r\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n                message = message.substring(0, message.length - 1);\r\n            }\r\n            client.trackTrace({message: message, severity: (event.data.stderr ? SeverityLevel.Warning : SeverityLevel.Information)});\r\n        }\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            channel.subscribe<consolePub.IConsoleData>(\"console\", subscriber);\r\n        };\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dispose() {\r\n    channel.unsubscribe(\"console\", subscriber);\r\n    clients = [];\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport {SeverityLevel} from \"../../Declarations/Contracts\";\r\n\r\nimport {channel, IStandardEvent} from \"diagnostic-channel\";\r\n\r\nimport {bunyan} from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nconst bunyanToAILevelMap: {[key: number] : number} = {\r\n    10: SeverityLevel.Verbose,\r\n    20: SeverityLevel.Verbose,\r\n    30: SeverityLevel.Information,\r\n    40: SeverityLevel.Warning,\r\n    50: SeverityLevel.Error,\r\n    60: SeverityLevel.Critical,\r\n};\r\n\r\nconst subscriber = (event: IStandardEvent<bunyan.IBunyanData>) => {\r\n    const message = event.data.result as Error | string;\r\n    clients.forEach((client) => {\r\n        const AIlevel = bunyanToAILevelMap[event.data.level];\r\n        if (message instanceof Error) {\r\n            client.trackException({ exception: (message) });\r\n        } else {\r\n            client.trackTrace({message: message, severity: AIlevel});\r\n        }\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            channel.subscribe<bunyan.IBunyanData>(\"bunyan\", subscriber);\r\n        };\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dispose() {\r\n    channel.unsubscribe(\"bunyan\", subscriber);\r\n    clients = [];\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\nimport { SeverityLevel } from \"../../Declarations/Contracts\";\n\nimport { channel, IStandardEvent } from \"diagnostic-channel\";\n\nimport { winston } from \"diagnostic-channel-publishers\";\n\nlet clients: TelemetryClient[] = [];\n\nconst winstonToAILevelMap: { [key: string]: (og: string) => number } = {\n    syslog(og: string) {\n        const map: { [key: string ]: number } = {\n            emerg: SeverityLevel.Critical,\n            alert: SeverityLevel.Critical,\n            crit: SeverityLevel.Critical,\n            error: SeverityLevel.Error,\n            warning: SeverityLevel.Warning,\n            notice: SeverityLevel.Information,\n            info: SeverityLevel.Information,\n            debug: SeverityLevel.Verbose\n        };\n\n        return map[og] === undefined ? SeverityLevel.Information : map[og];\n    },\n    npm(og: string) {\n        const map: { [key: string ]: number } = {\n            error: SeverityLevel.Error,\n            warn: SeverityLevel.Warning,\n            info: SeverityLevel.Information,\n            verbose: SeverityLevel.Verbose,\n            debug: SeverityLevel.Verbose,\n            silly: SeverityLevel.Verbose\n        };\n\n        return map[og] === undefined ? SeverityLevel.Information : map[og];\n    },\n    unknown(og: string) {\n        return SeverityLevel.Information;\n    }\n};\n\nconst subscriber = (event: IStandardEvent<winston.IWinstonData>) => {\n    const message = event.data.message as Error | string;\n    clients.forEach((client) => {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        } else {\n            const AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\n\nexport function enable(enabled: boolean, client: TelemetryClient) {\n    if (enabled) {\n        if (clients.length === 0) {\n            channel.subscribe<winston.IWinstonData>(\"winston\", subscriber);\n        };\n        clients.push(client);\n    } else {\n        clients = clients.filter((c) => c != client);\n        if (clients.length === 0) {\n            channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\n\nexport function dispose() {\n    channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}", "import TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\n\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\n\nclass AutoCollectConsole {\n    public static originalMethods: {[name: string]: (message?: any, ...optionalParams: any[]) => void};\n\n    public static INSTANCE: AutoCollectConsole;\n    private static _methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n\n    private _client: TelemetryClient;\n    private _isInitialized: boolean;\n\n    constructor(client: TelemetryClient) {\n        if(!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n\n    public enable(isEnabled: boolean, collectConsoleLog: boolean) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    }\n\n    public isInitialized() {\n        return this._isInitialized;\n    }\n\n    public dispose() {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    }\n}\n\nexport = AutoCollectConsole;\n", "import http = require(\"http\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport Logging = require(\"../Library/Logging\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Sender = require(\"../Library/Sender\");\nimport Queue = require(\"../Library/Channel\");\nimport Util = require(\"../Library/Util\");\n\nclass AutoCollectExceptions {\n\n    public static INSTANCE: AutoCollectExceptions = null;\n    public static UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    public static UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    public static UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n\n    private static _RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    private static _FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    private static _canUseUncaughtExceptionMonitor = false;\n    private _exceptionListenerHandle: (reThrow: boolean, error: Error) => void;\n    private _rejectionListenerHandle: (reThrow: boolean, error: Error) => void;\n    private _client: TelemetryClient;\n    private _isInitialized: boolean;\n\n    constructor(client: TelemetryClient) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n\n        // Only use for 13.7.0+\n        const nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n\n    public isInitialized() {\n        return this._isInitialized;\n    }\n\n    public enable(isEnabled: boolean) {\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = (reThrow: boolean, name?: string, error: Error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE)) => {\n                    this._client.trackException({ exception: error });\n                    this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                } else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n\n        } else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                } else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    }\n\n    public dispose() {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    }\n}\n\n\n\nexport = AutoCollectExceptions;\n", "import Contracts = require(\"./Contracts\")\n\nexport const DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexport const DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexport const DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\n\nexport enum QuickPulseCounter {\n    // Memory\n    COMMITTED_BYTES= \"\\\\Memory\\\\Committed Bytes\",\n\n    // CPU\n    PROCESSOR_TIME= \"\\\\Processor(_Total)\\\\% Processor Time\",\n\n    // Request\n    REQUEST_RATE= \"\\\\ApplicationInsights\\\\Requests\\/Sec\",\n    REQUEST_FAILURE_RATE= \"\\\\ApplicationInsights\\\\Requests Failed\\/Sec\",\n    REQUEST_DURATION= \"\\\\ApplicationInsights\\\\Request Duration\",\n\n    // Dependency\n    DEPENDENCY_RATE= \"\\\\ApplicationInsights\\\\Dependency Calls\\/Sec\",\n    DEPENDENCY_FAILURE_RATE= \"\\\\ApplicationInsights\\\\Dependency Calls Failed\\/Sec\",\n    DEPENDENCY_DURATION= \"\\\\ApplicationInsights\\\\Dependency Call Duration\",\n\n    // Exception\n    EXCEPTION_RATE= \"\\\\ApplicationInsights\\\\Exceptions\\/Sec\"\n}\n\nexport enum PerformanceCounter {\n    // Memory\n    PRIVATE_BYTES= \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\",\n    AVAILABLE_BYTES= \"\\\\Memory\\\\Available Bytes\",\n\n    // CPU\n    PROCESSOR_TIME= \"\\\\Processor(_Total)\\\\% Processor Time\",\n    PROCESS_TIME= \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\",\n\n    // Requests\n    REQUEST_RATE= \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\",\n    REQUEST_DURATION= \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\"\n};\n\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexport const PerformanceToQuickPulseCounter: {[key: string]: QuickPulseCounter} = {\n    [PerformanceCounter.PROCESSOR_TIME]: QuickPulseCounter.PROCESSOR_TIME,\n    [PerformanceCounter.REQUEST_RATE]: QuickPulseCounter.REQUEST_RATE,\n    [PerformanceCounter.REQUEST_DURATION]: QuickPulseCounter.REQUEST_DURATION,\n\n    // Remap quick pulse only counters\n    [QuickPulseCounter.COMMITTED_BYTES]: QuickPulseCounter.COMMITTED_BYTES,\n    [QuickPulseCounter.REQUEST_FAILURE_RATE]: QuickPulseCounter.REQUEST_FAILURE_RATE,\n    [QuickPulseCounter.DEPENDENCY_RATE]: QuickPulseCounter.DEPENDENCY_RATE,\n    [QuickPulseCounter.DEPENDENCY_FAILURE_RATE]: QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    [QuickPulseCounter.DEPENDENCY_DURATION]: QuickPulseCounter.DEPENDENCY_DURATION,\n    [QuickPulseCounter.EXCEPTION_RATE]: QuickPulseCounter.EXCEPTION_RATE\n};\n\n// Note: Explicitly define these types instead of using enum due to\n// potential 'export enum' issues with typescript < 2.0.\nexport type QuickPulseDocumentType = \"Event\" | \"Exception\" | \"Trace\" | \"Metric\" | \"Request\" | \"RemoteDependency\" | \"Availability\";\nexport type QuickPulseType =\n    | \"EventTelemetryDocument\"\n    | \"ExceptionTelemetryDocument\"\n    | \"TraceTelemetryDocument\"\n    | \"MetricTelemetryDocument\"\n    | \"RequestTelemetryDocument\"\n    | \"DependencyTelemetryDocument\"\n    | \"AvailabilityTelemetryDocument\";\n\nexport const QuickPulseDocumentType: {[key in Contracts.TelemetryTypeKeys]: QuickPulseDocumentType} = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\n\nexport const QuickPulseType: {[key in Contracts.TelemetryTypeKeys]: QuickPulseType} = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\n\nexport const TelemetryTypeStringToQuickPulseType: {[key in Contracts.TelemetryTypeValues]: QuickPulseType} = {\n    EventData: QuickPulseType.Event,\n    ExceptionData: QuickPulseType.Exception,\n    MessageData: QuickPulseType.Trace,\n    MetricData: QuickPulseType.Metric,\n    RequestData: QuickPulseType.Request,\n    RemoteDependencyData: QuickPulseType.Dependency,\n    AvailabilityData: QuickPulseType.Availability\n};\n\nexport const TelemetryTypeStringToQuickPulseDocumentType: {[key in Contracts.TelemetryTypeValues]: QuickPulseDocumentType} = {\n    EventData: QuickPulseDocumentType.Event,\n    ExceptionData: QuickPulseDocumentType.Exception,\n    MessageData: QuickPulseDocumentType.Trace,\n    MetricData: QuickPulseDocumentType.Metric,\n    RequestData: QuickPulseDocumentType.Request,\n    RemoteDependencyData: QuickPulseDocumentType.Dependency,\n    AvailabilityData: QuickPulseDocumentType.Availability\n};\n", "import http = require(\"http\");\nimport os = require(\"os\");\n\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\nimport Constants = require(\"../Declarations/Constants\");\n\nclass AutoCollectPerformance {\n\n    public static INSTANCE: AutoCollectPerformance;\n\n    private static _totalRequestCount: number = 0;\n    private static _totalFailedRequestCount: number = 0;\n    private static _lastRequestExecutionTime: number = 0;\n    private static _totalDependencyCount: number = 0;\n    private static _totalFailedDependencyCount: number = 0;\n    private static _lastDependencyExecutionTime: number = 0;\n    private static _totalExceptionCount: number = 0;\n    private static _intervalDependencyExecutionTime: number = 0;\n    private static _intervalRequestExecutionTime: number = 0;\n\n    private _lastIntervalRequestExecutionTime: number = 0; // the sum of durations which took place during from app start until last interval\n    private _lastIntervalDependencyExecutionTime: number = 0;\n    private _enableLiveMetricsCounters: boolean;\n    private _collectionInterval: number;\n    private _client: TelemetryClient;\n    private _handle: NodeJS.Timer;\n    private _isEnabled: boolean;\n    private _isInitialized: boolean;\n    private _lastAppCpuUsage: { user: number, system: number };\n    private _lastHrtime: number[];\n    private _lastCpus: { model: string; speed: number; times: { user: number; nice: number; sys: number; idle: number; irq: number; }; }[];\n    private _lastDependencies: { totalDependencyCount: number; totalFailedDependencyCount: number; time: number; };\n    private _lastRequests: { totalRequestCount: number; totalFailedRequestCount: number; time: number; };\n    private _lastExceptions: { totalExceptionCount: number, time: number };\n\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    constructor(client: TelemetryClient, collectionInterval = 60000, enableLiveMetricsCounters = false) {\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n\n    public enable(isEnabled: boolean, collectionInterval?: number) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n\n                if (typeof (process as any).cpuUsage === 'function'){\n                    this._lastAppCpuUsage = (process as any).cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(() => this.trackPerformance(), this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        } else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    }\n\n\n    public static countRequest(duration: number | string, success: boolean) {\n        let durationMs: number;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        } else if (typeof duration === 'number') {\n            durationMs = duration;\n        } else {\n            return;\n        }\n\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    }\n\n    public static countException() {\n        AutoCollectPerformance._totalExceptionCount++;\n    }\n\n    public static countDependency(duration: number | string, success: boolean) {\n        let durationMs: number;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        } else if (typeof duration === 'number') {\n            durationMs = duration;\n        } else {\n            return;\n        }\n\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    }\n\n    public isInitialized() {\n        return this._isInitialized;\n    }\n\n    public static isEnabled() {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    }\n\n    public trackPerformance() {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    }\n\n    private _trackCpu() {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            let appCpuPercent: number = undefined;\n            if (typeof (process as any).cpuUsage === 'function') {\n                const appCpuUsage = (process as any).cpuUsage();\n                const hrtime = process.hrtime();\n\n                const totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    const elapsedTime = ((hrtime[0] - this._lastHrtime[0])*1e6 + (hrtime[1] - this._lastHrtime[1])/1e3) || 0; // convert to microseconds\n\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n\n            this._client.trackMetric({name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100});\n            this._client.trackMetric({name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100)});\n        }\n\n        this._lastCpus = cpus;\n    }\n\n    private _trackMemory() {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem});\n        this._client.trackMetric({name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem});\n\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory});\n        }\n    }\n\n    private _trackNetwork() {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime // reset\n\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec});\n            }\n        }\n\n        this._lastRequests = requests;\n    }\n\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    private _trackDependencyRate() {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime // reset\n\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec});\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec});\n\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime});\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    }\n\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    private _trackExceptionRate() {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec});\n            }\n            this._lastExceptions = exceptions;\n        }\n    }\n\n    public dispose() {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    }\n}\n\nexport = AutoCollectPerformance;\n", "export = {\n\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n}\n", "import http = require(\"http\");\nimport https = require(\"https\");\nimport url = require(\"url\");\nimport constants = require(\"constants\");\n\nimport Logging = require(\"./Logging\");\nimport Config = require(\"./Config\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport RequestResponseHeaders = require(\"./RequestResponseHeaders\");\n\n\nclass Util {\n    public static MAX_PROPERTY_LENGTH = 8192;\n    public static tlsRestrictedAgent: https.Agent = new https.Agent(<any>{\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    public static getCookie(name: string, cookie: string) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n\n        return value;\n    }\n\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    public static trim(str:string):string {\n        if(typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        } else {\n            return \"\";\n        }\n    }\n\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    public static int32ArrayToBase64(array: number[]) {\n        let toChar = (v: number, i: number) =>\n            String.fromCharCode((v >> i) & 0xFF);\n        let int32AsString = (v: number) =>\n            toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        let x = array.map(int32AsString).join(\"\");\n        const b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        let s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    }\n\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    public static random32() {\n        return (0x100000000 * Math.random()) | 0;\n    }\n\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    public static randomu32() {\n        return Util.random32() + 0x80000000;\n    }\n\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    public static w3cTraceId() {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                hexValues[tmp >> 4 & 0xF] +\n                hexValues[tmp >> 8 & 0xF] +\n                hexValues[tmp >> 12 & 0xF] +\n                hexValues[tmp >> 16 & 0xF] +\n                hexValues[tmp >> 20 & 0xF] +\n                hexValues[tmp >> 24 & 0xF] +\n                hexValues[tmp >> 28 & 0xF];\n        }\n\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    }\n\n    public static isValidW3CId(id: string): boolean {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    }\n\n    /**\n     * Check if an object is of type Array\n     */\n    public static isArray(obj:any):boolean {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    }\n\n    /**\n     * Check if an object is of type Error\n     */\n    public static isError(obj:any):boolean {\n        return obj instanceof Error;\n    }\n\n    public static isPrimitive(input: any): boolean {\n        const propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    }\n\n    /**\n     * Check if an object is of type Date\n     */\n    public static isDate(obj:any):boolean {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    }\n\n    /**\n     * Convert ms to c# time span format\n     */\n    public static msToTimeSpan(totalms:number):string {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n\n        return daysText + hour + \":\" + min + \":\" + sec;\n    }\n\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    protected static extractError(err: Error): { message: string, code: string } {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        const looseError = err as any;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        }\n    }\n\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    protected static extractObject(origProperty: any): any {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    }\n\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    public static validateStringMap(obj: any): { [key: string]: string } {\n        if(typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        const map: { [key: string]: string } = {};\n        for (let field in obj) {\n            let property: string = '';\n            const origProperty: any = obj[field];\n            const propType = typeof origProperty;\n\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            } else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            } else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            } else {\n                const stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    } else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                } catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    }\n\n\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    public static canIncludeCorrelationHeader(client: TelemetryClient, requestUrl: string) {\n        let excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n\n        for (let i = 0; i < excludedDomains.length; i++) {\n            let regex = new RegExp(excludedDomains[i].replace(/\\./g,\"\\.\").replace(/\\*/g,\".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public static getCorrelationContextTarget(response: http.ClientResponse | http.ServerRequest, key: string) {\n        const contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            const keyValues = contextHeaders.split(\",\");\n            for(let i = 0; i < keyValues.length; ++i) {\n                const keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    }\n\n\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    public static makeRequest(\n        config: Config,\n        requestUrl: string,\n        requestOptions: http.RequestOptions | https.RequestOptions,\n        requestCallback: (res: http.IncomingMessage) => void): http.ClientRequest {\n\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = {...requestOptions,\n            host: requestUrlParsed.hostname,\n            port: requestUrlParsed.port,\n            path: requestUrlParsed.pathname,\n        };\n\n        var proxyUrl: string = undefined;\n\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            } else {\n                options = {...options,\n                    host: proxyUrlParsed.hostname,\n                    port: proxyUrlParsed.port || \"80\",\n                    path: requestUrl,\n                    headers: {...options.headers,\n                        Host: requestUrlParsed.hostname,\n                    },\n                };\n            }\n        }\n\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        } else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        } else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n\n        if (isHttps) {\n            return https.request(<any>options, requestCallback);\n        } else {\n            return http.request(<any>options, requestCallback);\n        }\n\n    };\n\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    public static safeIncludeCorrelationHeader(client: TelemetryClient, request: http.ClientRequest | http.ServerResponse, correlationHeader: any) {\n        let header: string; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        } else if (correlationHeader instanceof Array) { // string[]\n            header = correlationHeader.join(\",\");\n        } else if (correlationHeader && typeof (correlationHeader as any).toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = (correlationHeader as any).toString();\n            } catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        } else {\n            request.setHeader(\n                RequestResponseHeaders.requestContextHeader,\n                `${RequestResponseHeaders.requestContextSourceKey}=${client.config.correlationId}`);\n        }\n    }\n\n    private static addCorrelationIdHeaderFromString(client: TelemetryClient, response: http.ClientRequest | http.ServerResponse, correlationHeader: string) {\n        const components = correlationHeader.split(\",\");\n        const key = `${RequestResponseHeaders.requestContextSourceKey}=`;\n        const found = components.some(value => value.substring(0,key.length) === key);\n\n        if (!found) {\n            response.setHeader(\n                RequestResponseHeaders.requestContextHeader,\n                `${correlationHeader},${RequestResponseHeaders.requestContextSourceKey}=${client.config.correlationId}`);\n        }\n    }\n}\nexport = Util;\n", "/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nabstract class RequestParser {\n    protected method: string;\n    protected url: string;\n    protected startTime: number;\n    protected duration: number;\n    protected statusCode: number;\n    protected properties: { [key: string]: string };\n\n    /**\n     * Gets a url parsed out from request options\n     */\n    public getUrl(): string {\n        return this.url;\n    }\n\n    protected RequestParser() {\n        this.startTime = +new Date();\n    }\n\n    protected _setStatus(status: number, error: Error | string) {\n        let endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n\n        let properties: {[key: string]: string} = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            } else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            } else if (typeof error === \"object\") {\n                for (var key in <any>error) {\n                    properties[key] = (<any>error)[key] && (<any>error)[key].toString && (<any>error)[key].toString();\n                }\n            }\n        }\n\n        this.properties = properties;\n    }\n\n    protected _isSuccess() {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    }\n}\n\nexport = RequestParser;\n", "import https = require('https');\r\nimport http = require('http');\r\nimport url = require('url');\r\n\r\nimport Util = require(\"./Util\");\r\nimport Logging = require(\"./Logging\");\r\nimport Config = require(\"./Config\");\r\n\r\nclass CorrelationIdManager {\r\n    private static TAG = \"CorrelationIdManager\";\r\n    public static correlationIdPrefix = \"cid-v1:\";\r\n\r\n    public static w3cEnabled = false;\r\n\r\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\r\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\r\n    private static pendingLookups: {[key: string]: Function[]} = {};\r\n    private static completedLookups: {[key: string]: string} = {};\r\n\r\n    private static requestIdMaxLength = 1024;\r\n    private static currentRootId = Util.randomu32();\r\n\r\n    public static queryCorrelationId(config: Config, callback: (correlationId: string) => void) {\r\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\r\n        // If it 404s, the iKey is bad and we should give up\r\n        // If it fails otherwise, try again later\r\n        const appIdUrlString = `${config.profileQueryEndpoint}/api/profiles/${config.instrumentationKey}/appId`;\r\n\r\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\r\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\r\n            return;\r\n        } else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\r\n            return;\r\n        }\r\n\r\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\r\n\r\n        const fetchAppId = () => {\r\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                // This query has been cancelled.\r\n                return;\r\n            }\r\n\r\n            const requestOptions = {\r\n                method: 'GET',\r\n                // Ensure this request is not captured by auto-collection.\r\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\r\n                disableAppInsightsAutoCollection: true\r\n            };\r\n\r\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\r\n            const req = Util.makeRequest(config, appIdUrlString, requestOptions, (res) => {\r\n                if (res.statusCode === 200) {\r\n                    // Success; extract the appId from the body\r\n                    let appId = \"\";\r\n                    res.setEncoding(\"utf-8\");\r\n                    res.on('data', (data: any) => {\r\n                        appId += data;\r\n                    });\r\n                    res.on('end', () => {\r\n                        Logging.info(CorrelationIdManager.TAG, appId);\r\n                        const result = CorrelationIdManager.correlationIdPrefix + appId;\r\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\r\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach((cb) => cb(result));\r\n                        }\r\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                    });\r\n                } else if (res.statusCode >= 400 && res.statusCode < 500) {\r\n                    // Not found, probably a bad key. Do not try again.\r\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\r\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                } else {\r\n                    // Retry after timeout.\r\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\r\n                }\r\n            });\r\n            if (req) {\r\n                req.on('error', (error: Error) => {\r\n                    // Unable to contact endpoint.\r\n                    // Do nothing for now.\r\n                    Logging.warn(CorrelationIdManager.TAG, error);\r\n                });\r\n                req.end();\r\n            }\r\n        };\r\n        setTimeout(fetchAppId, 0);\r\n    }\r\n\r\n    public static cancelCorrelationIdQuery(config: Config, callback: (correlationId: string) => void) {\r\n        const appIdUrlString = `${config.profileQueryEndpoint}/api/profiles/${config.instrumentationKey}/appId`;\r\n        const pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\r\n        if (pendingLookups) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter((cb) => cb != callback);\r\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\r\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    public static generateRequestId(parentId: string): string {\r\n        if (parentId) {\r\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\r\n            if (parentId[parentId.length -1] !== '.') {\r\n                parentId += '.';\r\n            }\r\n\r\n            const suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_')\r\n        } else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    public static getRootId(id: string): string {\r\n        let endIndex = id.indexOf('.');\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n\r\n        const startIndex = id[0] === '|' ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    }\r\n\r\n    private static generateRootId(): string {\r\n        return '|' + Util.w3cTraceId() + '.';\r\n    }\r\n\r\n    private static appendSuffix(parentId: string, suffix: string, delimiter: string): string {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        let trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for(; trimPosition > 1; --trimPosition) {\r\n                const c = parentId[trimPosition-1];\r\n                if (c === '.' || c === '_') {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = '0' + suffix;\r\n        }\r\n        return parentId.substring(0,trimPosition) + suffix + '#';\r\n    }\r\n}\r\n\r\nexport = CorrelationIdManager;\r\n", "import http = require(\"http\");\nimport https = require(\"https\");\nimport url = require(\"url\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\nimport Util = require(\"../Library/Util\");\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nimport RequestParser = require(\"./RequestParser\");\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nclass HttpDependencyParser extends RequestParser {\n    private correlationId: string;\n\n    constructor(requestOptions: string | http.RequestOptions | https.RequestOptions, request: http.ClientRequest) {\n        super();\n        if (request && (<any>request).method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            this.method = (<any>request).method;\n\n            this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            this.startTime = +new Date();\n        }\n    }\n\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    public onError(error: Error) {\n        this._setStatus(undefined, error);\n    }\n\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    public onResponse(response: http.ClientResponse) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    }\n\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    public getDependencyTelemetry(baseTelemetry?: Contracts.Telemetry, dependencyId?: string): Contracts.DependencyTelemetry {\n        let urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        let dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n\n\n        let remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n\n        let remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        } else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n\n        var dependencyTelemetry: Contracts.DependencyTelemetry & Contracts.Identified = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (let key in baseTelemetry) {\n                if (!(<any>dependencyTelemetry)[key]) {\n                    (<any>dependencyTelemetry)[key] = (<any>baseTelemetry)[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (let key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n\n        return dependencyTelemetry;\n    }\n\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    private static _getUrlFromRequestOptions(options: any, request: http.ClientRequest) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        } else {\n            // Avoid modifying the original options object.\n            let originalOptions = options;\n            options = {};\n            if (originalOptions) {\n                Object.keys(originalOptions).forEach(key => {\n                    options[key] = originalOptions[key];\n                });\n            }\n        }\n\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            const parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            const parsedHost = url.parse(`http://${options.host}`);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || ((<any>request).agent && (<any>request).agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n\n        return url.format(options);\n    }\n}\n\nexport = HttpDependencyParser;\n", "import Util = require(\"./Util\");\nimport CorrelationIdManager = require(\"./CorrelationIdManager\");\n\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nclass Traceparent {\n    private static DEFAULT_TRACE_FLAG = \"01\";\n    private static DEFAULT_VERSION = \"00\";\n\n    public legacyRootId: string;\n    public parentId: string;\n    public spanId: string;\n    public traceFlag: string = Traceparent.DEFAULT_TRACE_FLAG;\n    public traceId: string;\n    public version: string = Traceparent.DEFAULT_VERSION;\n\n    constructor(traceparent?: string, parentId?: string) {\n        if (traceparent && typeof traceparent === \"string\") { // traceparent constructor\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) { // If more than 1 traceparent is present, discard both\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            } else {\n                const traceparentArr = traceparent.trim().split(\"-\");\n                const len = traceparentArr.length;\n                if (len >= 4) { // traceparent must contain at least 4 fields\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                } else { // Discard traceparent if a field is missing\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) { // 0x00 (and perhaps future versions) require exactly 4 fields. This strict check will need to be updated on each spec release\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") { // 0xff is forbidden, generate new traceparent\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        } else if (parentId) { // backcompat constructor\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            let operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        } else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n\n    }\n\n    public static isValidTraceId(id: string): boolean {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    }\n\n    public static isValidSpanId(id: string): boolean {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    }\n\n    public getBackCompatRequestId(): string {\n        return `|${this.traceId}.${this.spanId}.`;\n    }\n\n    public toString(): string {\n        return `${this.version}-${this.traceId}-${this.spanId}-${this.traceFlag}`;\n    }\n\n    public updateSpanId(): void {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    }\n}\n\nexport = Traceparent;\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { channel, IStandardEvent } from \"diagnostic-channel\";\r\n\r\nimport { mongodb } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<mongodb.IMongoData>) => {\r\n    if (event.data.event.commandName === \"ismaster\") {\r\n        // suppress noisy ismaster commands\r\n    }\r\n    clients.forEach((client) => {\r\n        const dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency(\r\n            {\r\n                target: dbName,\r\n                data: event.data.event.commandName,\r\n                name: event.data.event.commandName,\r\n                duration: event.data.event.duration,\r\n                success: event.data.succeeded,\r\n                /* TODO: transmit result code from mongo */\r\n                resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n                dependencyTypeName: 'mongodb'\r\n            });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            channel.subscribe<mongodb.IMongoData>(\"mongodb\", subscriber);\r\n        };\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"mongodb\", subscriber);\r\n        }\r\n    }\r\n}", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport {channel, IStandardEvent} from \"diagnostic-channel\";\r\n\r\nimport {mysql} from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<mysql.IMysqlData>) => {\r\n    clients.forEach((client) => {\r\n        const queryObj = event.data.query || {};\r\n        const sqlString = queryObj.sql || \"Unknown query\";\r\n        const success = !event.data.err;\r\n\r\n        const connection = queryObj._connection || {};\r\n        const connectionConfig = connection.config || {};\r\n        const dbName = connectionConfig.socketPath ? connectionConfig.socketPath : `${connectionConfig.host || \"localhost\"}:${connectionConfig.port}`;\r\n        client.trackDependency(\r\n            {\r\n                target: dbName,\r\n                data: sqlString,\r\n                name: sqlString,\r\n                duration: event.data.duration,\r\n                success: success,\r\n                /* TODO: transmit result code from mysql */\r\n                resultCode: success? \"0\": \"1\",\r\n                dependencyTypeName: \"mysql\"\r\n            });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            channel.subscribe<mysql.IMysqlData>(\"mysql\", subscriber);\r\n        };\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"mysql\", subscriber);\r\n        }\r\n    }\r\n}", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { channel, IStandardEvent } from \"diagnostic-channel\";\r\n\r\nimport { redis } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<redis.IRedisData>) => {\r\n    clients.forEach((client) => {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency(\r\n            {\r\n                target: event.data.address,\r\n                name: event.data.commandObj.command,\r\n                data: event.data.commandObj.command,\r\n                duration: event.data.duration,\r\n                success: !event.data.err,\r\n                /* TODO: transmit result code from redis */\r\n                resultCode: event.data.err ? \"1\" : \"0\",\r\n                dependencyTypeName: \"redis\"\r\n            });\r\n\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            channel.subscribe<redis.IRedisData>(\"redis\", subscriber);\r\n        };\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"redis\", subscriber);\r\n        }\r\n    }\r\n}", "// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\nimport { channel, IStandardEvent } from \"diagnostic-channel\";\n\nimport { pg } from \"diagnostic-channel-publishers\";\n\nlet clients: TelemetryClient[] = [];\n\nexport const subscriber = (event: IStandardEvent<pg.IPostgresData>) => {\n    clients.forEach((client) => {\n        const q = event.data.query;\n        const sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        const success = !event.data.error;\n        const conn = `${event.data.database.host}:${event.data.database.port}`;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"});\n    });\n};\n\nexport function enable(enabled: boolean, client: TelemetryClient) {\n    if (enabled) {\n        if (clients.length === 0) {\n            channel.subscribe<pg.IPostgresData>(\"postgres\", subscriber);\n        };\n        clients.push(client);\n    } else {\n        clients = clients.filter((c) => c != client);\n        if (clients.length === 0) {\n            channel.unsubscribe(\"postgres\", subscriber);\n        }\n    }\n}\n", "import http = require(\"http\");\nimport https = require(\"https\");\nimport url = require(\"url\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\nimport Util = require(\"../Library/Util\");\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nimport HttpDependencyParser = require(\"./HttpDependencyParser\");\nimport { CorrelationContextManager, CorrelationContext, PrivateCustomProperties } from \"./CorrelationContextManager\";\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nimport Traceparent = require(\"../Library/Traceparent\");\n\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\n\nclass AutoCollectHttpDependencies {\n    public static disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n\n    public static INSTANCE: AutoCollectHttpDependencies;\n\n    private static requestNumber = 1;\n    private static alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n\n    private _client: TelemetryClient;\n    private _isEnabled: boolean;\n    private _isInitialized: boolean;\n\n    constructor(client: TelemetryClient) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n\n    public enable(isEnabled: boolean) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    }\n\n    public isInitialized() {\n        return this._isInitialized;\n    }\n\n    private _initialize() {\n        this._isInitialized = true;\n\n        const originalGet = http.get;\n        const originalRequest = http.request;\n        const originalHttpsRequest = https.request;\n\n        const clientRequestPatch = (request: http.ClientRequest, options: http.RequestOptions | https.RequestOptions) => {\n            var shouldCollect = !(<any>options)[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !(<any>request)[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n\n            (<any>request)[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n\n            if (request && options && shouldCollect) {\n                CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(this._client, {options: options, request: request});\n            }\n        };\n\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = (options, ...requestArgs: any[]) => {\n            const request: http.ClientRequest = originalRequest.call(http, options, ...requestArgs);\n            clientRequestPatch(request, options);\n            return request;\n        };\n\n        https.request = (options, ...requestArgs: any[]) => {\n            const request: http.ClientRequest = originalHttpsRequest.call(https, options, ...requestArgs);\n            clientRequestPatch(request, options);\n            return request;\n        };\n\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = (options, ...requestArgs: any[]) => {\n            const request: http.ClientRequest = http.request.call(http, options, ...requestArgs);\n            request.end();\n            return request;\n        };\n        https.get = (options, ...requestArgs: any[]) => {\n            const request: http.ClientRequest = https.request.call(https, options, ...requestArgs);\n            request.end();\n            return request;\n        };\n    }\n\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    public static trackRequest(client: TelemetryClient, telemetry: Contracts.NodeHttpDependencyTelemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n\n        let requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n\n        const currentContext = CorrelationContextManager.getCurrentContext();\n        let uniqueRequestId: string;\n        let uniqueTraceparent: string;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        } else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            const traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        } else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                const correlationHeader = <any>telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader)\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                } catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        } else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            const traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            const tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate)\n                            }\n                        }\n\n                        const correlationContextHeader = (<PrivateCustomProperties>currentContext.customProperties).serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    } catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', (response: http.ClientResponse) => {\n                requestParser.onResponse(response);\n\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', (e: Error) => {\n                requestParser.onError(e);\n\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    }\n\n    public dispose() {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    }\n}\n\nexport = AutoCollectHttpDependencies;\n", "/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nclass Tracestate {\n    public static strict = true;\n\n    public fieldmap: string[] = [];\n\n    // if true, performs strict tracestate header checking, else just passes it along\n    constructor(id?: string) {\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n\n    public toString(): string {\n        const fieldarr = this.fieldmap;\n\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n\n        return fieldarr.join(\", \");\n    }\n\n    private static validateKeyChars(key: string): boolean {\n        const keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            const tenant = keyParts[0].trim();\n            const vendor = keyParts[1].trim();\n            const tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            const vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        } else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n\n        return false;\n    }\n\n    private parseHeader(id: string): string[] {\n        const res: string[] = [];\n        const keydeduper: {[key: string]: boolean} = {};\n        const parts = id.split(\",\");\n        if (parts.length > 32) return null;\n        for (let rawPart of parts) {\n            const part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n\n            const pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            } else {\n                keydeduper[pair[0]] = true\n            }\n\n            // All checks passed -- add this part\n            res.push(part);\n        }\n\n        return res;\n    }\n}\n\nexport = Tracestate;\n", "import http = require(\"http\");\nimport url = require(\"url\");\nimport net = require(\"net\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\nimport Util = require(\"../Library/Util\");\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nimport RequestParser = require(\"./RequestParser\");\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nimport Tracestate = require(\"../Library/Tracestate\");\nimport Traceparent = require(\"../Library/Traceparent\");\n\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nclass HttpRequestParser extends RequestParser {\n    private static keys = new Contracts.ContextTagKeys();\n\n    private rawHeaders: { [key: string]: string };\n    private socketRemoteAddress: string;\n    private connectionRemoteAddress: string;\n    private legacySocketRemoteAddress: string;\n    private userAgent: string;\n    private sourceCorrelationId: string;\n    private parentId: string;\n    private operationId: string;\n    private requestId: string;\n    private traceparent: Traceparent;\n    private tracestate: Tracestate;\n    private legacyRootId: string; // if original operationId is not w3c compat, move it here\n\n    private correlationContextHeader: string;\n\n    constructor(request: http.IncomingMessage, requestId?: string) {\n        super();\n        if (request) {\n            this.method = request.method;\n            this.url = this._getAbsoluteUrl(request);\n            this.startTime = +new Date();\n            this.socketRemoteAddress = (<any>request).socket && (<any>request).socket.remoteAddress;\n            this.parseHeaders(request, requestId);\n            if ((<any>request).connection) {\n                this.connectionRemoteAddress = ((<any>request).connection as net.Socket).remoteAddress;\n                this.legacySocketRemoteAddress = (<any>(<any>request).connection)[\"socket\"] && (<any>(<any>request).connection)[\"socket\"].remoteAddress;\n            }\n        }\n    }\n\n    public onError(error: Error | string, ellapsedMilliseconds?: number) {\n        this._setStatus(undefined, error);\n\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    }\n\n    public onResponse(response: http.ServerResponse, ellapsedMilliseconds?: number) {\n        this._setStatus(response.statusCode, undefined);\n\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    }\n\n    public getRequestTelemetry(baseTelemetry?: Contracts.Telemetry): Contracts.RequestTelemetry {\n        var requestTelemetry: Contracts.RequestTelemetry & Contracts.Identified = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (let key in baseTelemetry) {\n                if (!(<any>requestTelemetry)[key]) {\n                    (<any>requestTelemetry)[key] = (<any>baseTelemetry)[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (let key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n\n        return requestTelemetry;\n    }\n\n    public getRequestTags(tags: { [key: string]: string }): { [key: string]: string } {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = <{ [key: string]: string }>{};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n\n        return newTags;\n    }\n\n    public getOperationId(tags: { [key: string]: string }) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    }\n\n    public getOperationParentId(tags: { [key: string]: string }) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    }\n\n    public getOperationName(tags: { [key: string]: string }) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    }\n\n    public getRequestId() {\n        return this.requestId;\n    }\n\n    public getCorrelationContextHeader() {\n        return this.correlationContextHeader;\n    }\n\n    public getTraceparent() {\n        return this.traceparent;\n    }\n\n    public getTracestate() {\n        return this.tracestate;\n    }\n\n    public getLegacyRootId() {\n        return this.legacyRootId;\n    }\n\n    private _getAbsoluteUrl(request: http.IncomingMessage): string {\n        if (!request.headers) {\n            return request.url;\n        }\n\n        var encrypted = (<any>request).connection ? ((<any>request).connection as any).encrypted : null;\n        var requestUrl = url.parse(request.url);\n\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n\n        return absoluteUrl;\n    }\n\n    private _getIp() {\n\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n\n        var check = (str: string): string => {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n\n        return ip;\n    }\n\n    private _getId(name: string) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    }\n\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    private setBackCompatFromThisTraceContext() {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    }\n\n    private parseHeaders(request: http.IncomingMessage, requestId?: string) {\n\n        this.rawHeaders = request.headers || (<any>request).rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n\n        if (request.headers) {\n            const tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            const traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            const requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            const legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            const legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            } else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                } else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            } else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                } else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    }\n\n    public static parseId(cookieValue: string): string {\n        const cookieParts = cookieValue.split(\"|\");\n\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    }\n}\n\nexport = HttpRequestParser;\n", "import http = require(\"http\");\nimport https = require(\"https\");\nimport url = require(\"url\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\nimport Logging = require(\"../Library/Logging\");\nimport Util = require(\"../Library/Util\");\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nimport HttpRequestParser = require(\"./HttpRequestParser\");\nimport { CorrelationContextManager, CorrelationContext, PrivateCustomProperties } from \"./CorrelationContextManager\";\nimport AutoCollectPerformance = require(\"./Performance\");\n\nclass AutoCollectHttpRequests {\n\n    public static INSTANCE: AutoCollectHttpRequests;\n\n    private static alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n\n    private _client: TelemetryClient;\n    private _isEnabled: boolean;\n    private _isInitialized: boolean;\n    private _isAutoCorrelating: boolean;\n\n    constructor(client: TelemetryClient) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n\n    public enable(isEnabled:boolean) {\n        this._isEnabled = isEnabled;\n\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    }\n\n    public useAutoCorrelation(isEnabled:boolean, forceClsHooked?:boolean) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager.enable(forceClsHooked);\n        } else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    }\n\n    public isInitialized() {\n        return this._isInitialized;\n    }\n\n    public isAutoCorrelating() {\n        return this._isAutoCorrelating;\n    }\n\n    private _generateCorrelationContext(requestParser:HttpRequestParser): CorrelationContext {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n\n        return CorrelationContextManager.generateContextObject(\n            requestParser.getOperationId(this._client.context.tags),\n            requestParser.getRequestId(),\n            requestParser.getOperationName(this._client.context.tags),\n            requestParser.getCorrelationContextHeader(),\n            requestParser.getTraceparent(),\n            requestParser.getTracestate()\n        );\n    }\n\n    private _initialize() {\n        this._isInitialized = true;\n\n        const wrapOnRequestHandler: Function = (onRequest?: Function) => {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return (request:http.ServerRequest, response:http.ServerResponse) => {\n                CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager.wrapEmitter(response);\n                const shouldCollect: boolean = request && !(<any>request)[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    const requestParser = new HttpRequestParser(request);\n                    const correlationContext = this._generateCorrelationContext(requestParser);\n\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager.runWithContext(correlationContext, () => {\n                        if (this._isEnabled) {\n                            // Mark as auto collected\n                            (<any>request)[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(this._client, {request: request, response: response}, requestParser);\n                        }\n\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                } else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            }\n        }\n\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        const wrapServerEventHandler: Function = (server: (http.Server | https.Server)) => {\n            const originalAddListener = server.addListener.bind(server);\n            server.addListener = (eventType: string, eventHandler: Function) => {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        }\n\n        const originalHttpServer = http.createServer;\n        http.createServer = (onRequest) => {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            const server: http.Server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        }\n\n        const originalHttpsServer = https.createServer;\n        https.createServer = (options: https.ServerOptions, onRequest?: Function) => {\n            const server: https.Server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        }\n    }\n\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    public static trackRequestSync(client: TelemetryClient, telemetry: Contracts.NodeHttpRequestTelemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n\n        // store data about the request\n        var correlationContext = CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            (<PrivateCustomProperties>correlationContext.customProperties).addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    }\n\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    public static trackRequest(client: TelemetryClient, telemetry: Contracts.NodeHttpRequestTelemetry, _requestParser?:HttpRequestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n\n        // store data about the request\n        var correlationContext = CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            (<PrivateCustomProperties>correlationContext.customProperties).addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", () => {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", (error:any) => {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    }\n\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    private static addResponseCorrelationIdHeader(client: TelemetryClient, response:http.ServerResponse) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !(<any>response).headersSent) {\n            const correlationHeader = <any>response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    }\n\n    private static endRequest(client: TelemetryClient, requestParser: HttpRequestParser, telemetry: Contracts.NodeHttpRequestTelemetry, ellapsedMilliseconds?: number, error?: any) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        } else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (let key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n\n        const legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n\n        client.trackRequest(requestTelemetry);\n    }\n\n    public dispose() {\n         AutoCollectHttpRequests.INSTANCE = null;\n         this.enable(false);\n         this._isInitialized = false;\n         CorrelationContextManager.disable();\n         this._isAutoCorrelating = false;\n    }\n}\n\n\n\nexport = AutoCollectHttpRequests;\n", "import { ConnectionString, ConnectionStringKey } from \"../Declarations/Contracts\";\nimport Constants = require(\"../Declarations/Constants\");\n\nclass ConnectionStringParser {\n    private static _FIELDS_SEPARATOR = \";\";\n    private static _FIELD_KEY_VALUE_SEPARATOR = \"=\";\n\n    public static parse(connectionString?: string): ConnectionString {\n        if (!connectionString) {\n            return {};\n        }\n\n        const kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n\n        const result: ConnectionString = kvPairs.reduce((fields: ConnectionString, kv: string) => {\n            const kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n\n            if (kvParts.length === 2) { // only save fields with valid formats\n                const key = kvParts[0].toLowerCase() as ConnectionStringKey;\n                const value = kvParts[1];\n                fields[key] = value as string;\n            }\n            return fields;\n        }, {});\n\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                const locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n\n        return result;\n    }\n}\n\nexport = ConnectionStringParser;\n", "import CorrelationIdManager = require('./CorrelationIdManager');\nimport ConnectionStringParser = require('./ConnectionStringParser');\nimport Constants = require('../Declarations/Constants');\nimport http = require('http');\nimport https = require('https');\nimport url = require('url');\n\nclass Config {\n    // Azure adds this prefix to all environment variables\n    public static ENV_azurePrefix = \"APPSETTING_\";\n\n    // This key is provided in the readme\n    public static ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    public static legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    public static ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    public static ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n\n    // Azure Connection String\n    public static ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n\n    // Native Metrics Opt Outs\n    public static ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    public static ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\"\n\n    public static ENV_http_proxy = \"http_proxy\";\n    public static ENV_https_proxy = \"https_proxy\";\n\n    /** An identifier for your Application Insights resource */\n    public instrumentationKey: string;\n    /** The id for cross-component correlation. READ ONLY. */\n    public correlationId: string;\n    /** The ingestion endpoint to send telemetry payloads to */\n    public endpointUrl: string;\n    /** The maximum number of telemetry items to include in a payload to the ingestion endpoint (Default 250) */\n    public maxBatchSize: number;\n    /** The maximum amount of time to wait for a payload to reach maxBatchSize (Default 15000) */\n    public maxBatchIntervalMs: number;\n    /** A flag indicating if telemetry transmission is disabled (Default false) */\n    public disableAppInsights: boolean;\n    /** The percentage of telemetry items tracked that should be transmitted (Default 100) */\n    public samplingPercentage: number;\n    /** The time to wait before retrying to retrieve the id for cross-component correlation (Default 30000) */\n    public correlationIdRetryIntervalMs: number;\n    /** A list of domains to exclude from cross-component header injection */\n    public correlationHeaderExcludedDomains: string[];\n    /** A proxy server for SDK HTTP traffic (Optional, Default pulled from `http_proxy` environment variable) */\n    public proxyHttpUrl: string;\n    /** A proxy server for SDK HTTPS traffic (Optional, Default pulled from `https_proxy` environment variable) */\n    public proxyHttpsUrl: string;\n    /** An http.Agent to use for SDK HTTP traffic (Optional, Default undefined) */\n    public httpAgent: http.Agent;\n    /** An https.Agent to use for SDK HTTPS traffic (Optional, Default undefined) */\n    public httpsAgent: https.Agent;\n\n    private endpointBase: string = Constants.DEFAULT_BREEZE_ENDPOINT;\n    private setCorrelationId: (v: string) => void;\n    private _profileQueryEndpoint: string;\n    /** Host name for quickpulse service */\n    private _quickPulseHost: string;\n\n\n    constructor(setupString?: string) {\n        const connectionStringEnv: string | undefined = process.env[Config.ENV_connectionString];\n        const csCode = ConnectionStringParser.parse(setupString);\n        const csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        const iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n\n        this.endpointUrl = `${csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase}/v2/track`;\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n\n        this.setCorrelationId = (correlationId) => this.correlationId = correlationId;\n\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n\n    public set profileQueryEndpoint(endpoint: string) {\n        CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n        this._profileQueryEndpoint = endpoint;\n        this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n        CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n    }\n\n    public get profileQueryEndpoint() {\n        return this._profileQueryEndpoint;\n    }\n\n    public set quickPulseHost(host: string) {\n        this._quickPulseHost = host;\n    }\n\n    public get quickPulseHost(): string {\n        return this._quickPulseHost;\n    }\n\n\n    private static _getInstrumentationKey(): string {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n\n        return iKey;\n    }\n}\n\nexport = Config;\n", "import os = require(\"os\");\nimport Contracts = require(\"../Declarations/Contracts\")\nimport Constants = require(\"../Declarations/Constants\");\nimport Util = require(\"./Util\")\nimport Config = require(\"./Config\");\nimport Context = require(\"./Context\");\nimport Logging = require(\"./Logging\");\n\nvar StreamId = Util.w3cTraceId(); // Create a guid\n\nclass QuickPulseEnvelopeFactory {\n    private static keys = new Contracts.ContextTagKeys();\n\n    public static createQuickPulseEnvelope(metrics: Contracts.MetricQuickPulse[], documents: Contracts.DocumentQuickPulse[], config: Config, context: Context): Contracts.EnvelopeQuickPulse {\n        const machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        const instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n\n        var envelope: Contracts.EnvelopeQuickPulse = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1, //  1 -> v1 QPS protocol\n            Timestamp: `\\/Date(${Date.now()})\\/`,\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        }\n\n        return envelope;\n    }\n\n    public static createQuickPulseMetric(\n        telemetry: Contracts.MetricTelemetry\n    ): Contracts.MetricQuickPulse {\n        var data: Contracts.MetricQuickPulse;\n        data = {\n            Name: telemetry.name, // TODO: map from MetricTelemetry name to QuickPulse name\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    }\n\n    public static telemetryEnvelopeToQuickPulseDocument(envelope: Contracts.Envelope): Contracts.DocumentQuickPulse {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    }\n\n    private static createQuickPulseEventDocument(envelope: Contracts.Envelope): Contracts.EventDocumentQuickPulse {\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        const name = ((envelope.data as any).baseData as Contracts.EventData).name;\n        const eventDocument: Contracts.EventDocumentQuickPulse = {\n            ...document,\n            Name: name\n        };\n\n        return eventDocument;\n    }\n\n    private static createQuickPulseTraceDocument(envelope: Contracts.Envelope): Contracts.MessageDocumentQuickPulse {\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        const severityLevel = ((envelope.data as any).baseData as Contracts.MessageData).severityLevel || 0;\n        var traceDocument: Contracts.MessageDocumentQuickPulse = {\n            ...document,\n            Message: ((envelope.data as any).baseData as Contracts.MessageData).message,\n            SeverityLevel: Contracts.SeverityLevel[severityLevel]\n        }\n\n        return traceDocument;\n    }\n\n    private static createQuickPulseExceptionDocument(envelope: Contracts.Envelope): Contracts.ExceptionDocumentQuickPulse {\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        const exceptionDetails = ((envelope.data as any).baseData as Contracts.ExceptionData).exceptions;\n\n        let exception = '';\n        let exceptionMessage = '';\n        let exceptionType = '';\n\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(err => {\n                    exception += err.assembly + \"\\n\";\n                });\n            } else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n\n        var exceptionDocument = {\n            ...document,\n            Exception: exception,\n            ExceptionMessage: exceptionMessage,\n            ExceptionType: exceptionType\n        };\n        return exceptionDocument;\n    }\n\n    private static createQuickPulseRequestDocument(envelope: Contracts.Envelope): Contracts.RequestDocumentQuickPulse {\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        const baseData = (envelope.data as Contracts.Data<Contracts.RequestData>).baseData;\n        const requestDocument: Contracts.RequestDocumentQuickPulse = {\n            ...document,\n            Name: baseData.name,\n            Success: baseData.success,\n            Duration: baseData.duration,\n            ResponseCode: baseData.responseCode,\n            OperationName: baseData.name // TODO: is this correct?\n        };\n\n        return requestDocument;\n    }\n\n    private static createQuickPulseDependencyDocument(envelope: Contracts.Envelope): Contracts.DependencyDocumentQuickPulse {\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        const baseData = (envelope.data as Contracts.Data<Contracts.RemoteDependencyData>).baseData;\n\n        const dependencyDocument: Contracts.DependencyDocumentQuickPulse = {\n            ...document,\n            Name: baseData.name,\n            Target: baseData.target,\n            Success: baseData.success,\n            Duration: baseData.duration,\n            ResultCode: baseData.resultCode,\n            CommandName: baseData.data,\n            OperationName: document.OperationId,\n            DependencyTypeName: baseData.type,\n        }\n        return dependencyDocument;\n    }\n\n    private static createQuickPulseDocument(envelope: Contracts.Envelope): Contracts.DocumentQuickPulse {\n        let documentType: Constants.QuickPulseDocumentType;\n        let __type: Constants.QuickPulseType;\n        let operationId, properties;\n\n\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType as Contracts.TelemetryTypeValues];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType as Contracts.TelemetryTypeValues];\n        } else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n\n        var document: Contracts.DocumentQuickPulse = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n\n        return document;\n    }\n\n    private static aggregateProperties(envelope: Contracts.Envelope): Contracts.IDocumentProperty[] {\n        const properties: Contracts.IDocumentProperty[] = [];\n\n        // Collect measurements\n        const meas = ((envelope.data as any).baseData).measurements || {};\n        for (let key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                const value = meas[key];\n                const property: Contracts.IDocumentProperty = {key, value};\n                properties.push(property);\n            }\n        }\n\n        // Collect properties\n        const props = ((envelope.data as any).baseData).properties || {};\n        for (let key in props) {\n            if (props.hasOwnProperty(key)) {\n                const value = props[key];\n                const property: Contracts.IDocumentProperty = {key, value};\n                properties.push(property);\n            }\n        }\n\n        return properties;\n    }\n}\n\nexport = QuickPulseEnvelopeFactory;\n", "import https = require(\"https\");\nimport Config = require(\"./Config\");\nimport AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nimport Logging = require(\"./Logging\");\n\n// Types\nimport * as http from \"http\";\nimport * as Contracts from \"../Declarations/Contracts\";\n\nconst QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\n\nclass QuickPulseSender {\n    private static TAG = \"QuickPulseSender\";\n    private static MAX_QPS_FAILURES_BEFORE_WARN = 25;\n\n    private _config: Config;\n    private _consecutiveErrors: number;\n\n    constructor(config: Config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n\n    public ping(envelope: Contracts.EnvelopeQuickPulse, done: (shouldPOST?: boolean, res?: http.IncomingMessage) => void): void {\n        this._submitData(envelope, done, \"ping\");\n    }\n\n    public post(envelope: Contracts.EnvelopeQuickPulse, done: (shouldPOST?: boolean, res?: http.IncomingMessage) => void): void {\n\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    }\n\n    private _submitData(envelope: Contracts.EnvelopeQuickPulse | Contracts.EnvelopeQuickPulse[], done: (shouldPOST?: boolean, res?: http.IncomingMessage) => void, postOrPing: \"post\" | \"ping\"): void {\n        const payload = JSON.stringify(envelope);\n        var options = {\n            [AutoCollectHttpDependencies.disableCollectionRequestOption]: true,\n            host: this._config.quickPulseHost,\n            method: QuickPulseConfig.method,\n            path: `/QuickPulseService.svc/${postOrPing}?ikey=${this._config.instrumentationKey}`,\n            headers:{\n                'Expect': '100-continue',\n                [QuickPulseConfig.time]: 10000 * Date.now(), // unit = 100s of nanoseconds\n                'Content-Type': 'application\\/json',\n                'Content-Length': Buffer.byteLength(payload)\n            }\n        };\n\n        const req = https.request(options, (res: http.IncomingMessage) => {\n            const shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", (error: Error) => {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            this._consecutiveErrors++;\n\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            let notice = `Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:`;\n            if (this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = `Live Metrics endpoint could not be reached ${this._consecutiveErrors} consecutive times. Most recent error:`;\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            } else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n\n            done();\n        });\n\n        req.write(payload);\n        req.end();\n    }\n}\n\nexport = QuickPulseSender;\n", "import os = require(\"os\");\nimport http = require(\"http\");\nimport fs = require(\"fs\");\nimport path = require(\"path\");\n\nimport Contracts = require(\"../Declarations/Contracts\");\nimport Logging = require(\"./Logging\");\n\nclass Context {\n\n    public keys: Contracts.ContextTagKeys;\n    public tags: { [key: string]: string};\n    public static DefaultRoleName:string = \"Web\";\n    public static appVersion: {[path: string]: string} = {};\n    public static sdkVersion: string = null;\n\n    constructor(packageJsonPath?: string) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = <{ [key: string]: string}>{};\n\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n\n    private _loadApplicationContext(packageJsonPath?: string) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                let packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            } catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    }\n\n    private _loadDeviceContext() {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    }\n\n    private _loadInternalContext() {\n        // note: this should return the sdk package.json\n        let packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                let packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            } catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    }\n}\n\nexport = Context;\n", "import Logging = require(\"./Logging\");\nimport Config = require(\"./Config\");\nimport QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nimport QuickPulseSender = require(\"./QuickPulseSender\");\nimport Constants = require(\"../Declarations/Constants\");\nimport Context = require(\"./Context\");\n\nimport * as http from \"http\";\nimport * as Contracts from \"../Declarations/Contracts\";\n\n\n/** State Container for sending to the QuickPulse Service */\nclass QuickPulseStateManager {\n    public config: Config;\n    public context: Context;\n\n    private static MAX_POST_WAIT_TIME = 20000;\n    private static MAX_PING_WAIT_TIME = 60000;\n    private static FALLBACK_INTERVAL = 60000;\n    private static PING_INTERVAL = 5000;\n    private static POST_INTERVAL = 1000;\n\n    private _isCollectingData: boolean = false;\n    private _sender: QuickPulseSender;\n    private _isEnabled: boolean;\n    private _lastSuccessTime: number = Date.now();\n    private _lastSendSucceeded: boolean = true;\n    private _handle: NodeJS.Timer;\n    private _metrics: {[name: string]: Contracts.MetricQuickPulse} = {};\n    private _documents: Contracts.DocumentQuickPulse[] = [];\n    private _collectors: {enable: (enable: boolean) => void}[] = [];\n\n    constructor(iKey?: string, context?: Context) {\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n\n    /**\n     *\n     * @param collector\n     */\n    public addCollector(collector: any): void {\n        this._collectors.push(collector);\n    }\n\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    public trackMetric(telemetry: Contracts.MetricTelemetry): void {\n        this._addMetric(telemetry);\n    }\n\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    public addDocument(envelope: Contracts.Envelope): void {\n        const document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    }\n\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    public enable(isEnabled: boolean): void {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        } else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    }\n\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    private enableCollectors(enable: boolean): void {\n        this._collectors.forEach(collector => {\n            collector.enable(enable)\n        });\n    }\n\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    private _addMetric(telemetry: Contracts.MetricTelemetry) {\n        const {value} = telemetry;\n        const count = telemetry.count || 1;\n\n        let name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value*this._metrics[name].Weight + value*count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            } else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    }\n\n    private _resetQuickPulseBuffer(): void {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    }\n\n    private _goQuickPulse(): void {\n        // Create envelope from Documents and Metrics\n        const metrics = Object.keys(this._metrics).map(k => this._metrics[k]);\n        const envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        } else {\n            this._ping(envelope);\n        }\n\n        let currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        } else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = <any>setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    }\n\n    private _ping(envelope: Contracts.EnvelopeQuickPulse): void {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    }\n\n    private _post(envelope: Contracts.EnvelopeQuickPulse): void {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    }\n\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    private _quickPulseDone(shouldPOST?: boolean, res?: http.IncomingMessage): void {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            } else {\n                this._lastSendSucceeded = false;\n            }\n        } else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    }\n}\n\nexport = QuickPulseStateManager;\n", "import TelemetryClient= require(\"../Library/TelemetryClient\");\nimport Constants = require(\"../Declarations/Constants\");\nimport Config = require(\"../Library/Config\");\nimport Context = require(\"../Library/Context\");\nimport Logging= require(\"../Library/Logging\");\n\n/**\n * Interface which defines which specific extended metrics should be disabled\n *\n * @export\n * @interface IDisabledExtendedMetrics\n */\nexport interface IDisabledExtendedMetrics {\n    gc?: boolean;\n    heap?: boolean;\n    loop?: boolean;\n}\n\nexport class AutoCollectNativePerformance {\n    public static INSTANCE: AutoCollectNativePerformance;\n\n    private static _emitter: any;\n    private static _metricsAvailable: boolean; // is the native metrics lib installed\n    private _isEnabled: boolean;\n    private _isInitialized: boolean;\n    private _handle: NodeJS.Timer;\n    private _client: TelemetryClient;\n    private _disabledMetrics: IDisabledExtendedMetrics = {};\n\n    constructor(client: TelemetryClient) {\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    public static isNodeVersionCompatible() {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    }\n\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    public enable(isEnabled: boolean, disabledMetrics: IDisabledExtendedMetrics = {}, collectionInterval = 60000): void {\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                const NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            } catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(() => this._trackNativeMetrics(), collectionInterval);\n            this._handle.unref();\n        } else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    }\n\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    public dispose(): void {\n        this.enable(false);\n    }\n\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    public static parseEnabled(collectExtendedMetrics: boolean | IDisabledExtendedMetrics): { isEnabled: boolean, disabledMetrics: IDisabledExtendedMetrics } {\n        const disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        const individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers]\n\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            const optOutsArr = individualOptOuts.split(\",\");\n            const disabledMetrics: any = {};\n            if (optOutsArr.length > 0) {\n                for (const opt of optOutsArr) {\n                    disabledMetrics[opt] = true;\n                }\n            }\n\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return {isEnabled: true, disabledMetrics: {...collectExtendedMetrics, ...disabledMetrics}};\n            }\n\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return {isEnabled: collectExtendedMetrics, disabledMetrics};\n        }\n\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        } else { // use else so we don't need to force typing on collectExtendedMetrics\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics};\n        }\n    }\n\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    private _trackNativeMetrics() {\n        let shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    }\n\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    private _trackGarbageCollection(): void {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n\n        const gcData = AutoCollectNativePerformance._emitter.getGCData();\n\n        for (let gc in gcData) {\n            const metrics = gcData[gc].metrics;\n            const name = `${gc} Garbage Collection Duration`;\n            const stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: {\n                    [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\n                }\n            });\n        }\n    }\n\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    private _trackEventLoop(): void {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n\n        const loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        const metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n\n        const name = `Event Loop CPU Time`;\n        const stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: {\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\n            }\n        });\n    }\n\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    private _trackHeapUsage(): void {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n\n        const memoryUsage = process.memoryUsage();\n        const { heapUsed, heapTotal, rss } = memoryUsage;\n\n        this._client.trackMetric({\n            name: `Memory Usage (Heap)`,\n            value: heapUsed,\n            count: 1,\n            tagOverrides: {\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\n            }\n        });\n        this._client.trackMetric({\n            name: `Memory Total (Heap)`,\n            value: heapTotal,\n            count: 1,\n            tagOverrides: {\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\n            }\n        });\n        this._client.trackMetric({\n            name: `Memory Usage (Non-Heap)`,\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: {\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\n            }\n        });\n    }\n}\n", "import Contracts = require(\"../Declarations/Contracts\");\nimport Logging = require(\"./Logging\");\nimport Sender = require(\"./Sender\");\n\nclass Channel {\n\n    protected _lastSend: number;\n    protected _timeoutHandle: any;\n\n    protected _isDisabled: () => boolean;\n    protected _getBatchSize: () => number;\n    protected _getBatchIntervalMs: () => number;\n\n    public _sender: Sender;\n    public _buffer: string[];\n\n    constructor(isDisabled: () => boolean, getBatchSize: () => number, getBatchIntervalMs: () => number, sender: Sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    public setUseDiskRetryCaching(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    }\n\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    public send(envelope: Contracts.Envelope) {\n\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n\n        // check if the incoming payload is too large, truncate if necessary\n        var payload: string = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n\n        // enqueue the payload\n        this._buffer.push(payload);\n\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(() => {\n                this._timeoutHandle = null;\n                this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    }\n\n    /**\n     * Immediately send buffered data\n     */\n    public triggerSend(isNodeCrashing: boolean, callback?: (v: string) => void) {\n        let bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            } else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    }\n\n    protected _stringify(envelope: Contracts.Envelope) {\n        try {\n            return JSON.stringify(envelope);\n        } catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    }\n}\n\nexport = Channel;\n", "import Contracts = require(\"../Declarations/Contracts\");\nimport { CorrelationContext } from \"../AutoCollection/CorrelationContextManager\";\n\n/**\n *  A telemetry processor that handles sampling.\n */\nexport function samplingTelemetryProcessor(envelope: Contracts.Envelope, contextObjects: { correlationContext: CorrelationContext }): boolean {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    } else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType as Contracts.TelemetryTypeValues)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    } else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    } else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n\n    return isSampledIn;\n}\n\n/** Ported from AI .NET SDK */\nexport function getSamplingHashCode(input: string): number {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n\n    if (!input) {\n        return 0;\n    }\n\n    while (input.length < 8) {\n        input = input + input;\n    }\n\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}", "import Contracts = require(\"../Declarations/Contracts\");\nimport Logging = require(\"../Library/Logging\");\nimport QuickPulseStateManager = require(\"../Library/QuickPulseStateManager\")\nimport AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nimport * as TelemetryType from \"../Declarations/Contracts\";\n\nexport function performanceMetricsTelemetryProcessor(envelope: Contracts.Envelope, client?: QuickPulseStateManager): boolean {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            const requestData: Contracts.RequestData = (envelope.data as any).baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            const remoteDependencyData: Contracts.RemoteDependencyData = (envelope.data as any).baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\n", "export * from \"./SamplingTelemetryProcessor\";\nexport * from \"./PerformanceMetricsTelemetryProcessor\";\n", "import fs = require(\"fs\");\nimport http = require(\"http\");\nimport https = require(\"https\");\nimport os = require(\"os\");\nimport path = require(\"path\");\nimport url = require(\"url\");\nimport zlib = require(\"zlib\");\nimport child_process = require(\"child_process\");\n\nimport Logging = require(\"./Logging\");\nimport Config = require(\"./Config\")\nimport AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nimport Util = require(\"./Util\");\n\nclass Sender {\n    private static TAG = \"Sender\";\n    private static ICACLS_PATH = `${process.env.systemdrive}/windows/system32/icacls.exe`;\n    private static POWERSHELL_PATH = `${process.env.systemdrive}/windows/system32/windowspowershell/v1.0/powershell.exe`;\n    private static ACLED_DIRECTORIES: {[id: string]: boolean} = {};\n    private static ACL_IDENTITY: string = null;\n\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    public static WAIT_BETWEEN_RESEND = 60 * 1000;\n    public static MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    public static MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    public static TEMPDIR_PREFIX: string = \"appInsights-node\";\n    public static OS_PROVIDES_FILE_PROTECTION = false;\n    public static USE_ICACLS = os.type() === \"Windows_NT\";\n\n    private _config: Config;\n    private _storageDirectory: string;\n    private _onSuccess: (response: string) => void;\n    private _onError: (error: Error) => void;\n    private _enableDiskRetryMode: boolean;\n    private _numConsecutiveFailures: number;\n    protected _resendInterval: number;\n    protected _maxBytesOnDisk: number;\n\n    constructor(config: Config, onSuccess?: (response: string) => void, onError?: (error: Error) => void) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                } catch (e) {}\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\")\n                }\n            } else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n\n    /**\n    * Enable or disable offline mode\n    */\n    public setDiskRetryMode(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\")\n        }\n    }\n\n    public send(payload: Buffer, callback?: (v: string) => void) {\n        var endpointUrl = this._config.endpointUrl;\n\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: <{ [key: string]: string }>{\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n\n        zlib.gzip(payload, (err, buffer) => {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            } else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n\n            Logging.info(Sender.TAG, options);\n\n            // Ensure this request is not captured by auto-collection.\n            (<any>options)[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n\n            var requestCallback = (res: http.ClientResponse) => {\n                res.setEncoding(\"utf-8\");\n\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", (data: string) => {\n                    responseString += data;\n                });\n\n                res.on(\"end\", () => {\n                    this._numConsecutiveFailures = 0;\n\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof this._onSuccess === \"function\") {\n                        this._onSuccess(responseString);\n                    }\n\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n\n                    if (this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(() => this._sendFirstFileOnDisk(), this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        } else if (\n                            res.statusCode === 408 || // Timeout\n                            res.statusCode === 429 || // Throttle\n                            res.statusCode === 439 || // Quota\n                            res.statusCode === 500 || // Server Error\n                            res.statusCode === 503) { // Service unavailable\n\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n\n            var req = Util.makeRequest(this._config, endpointUrl, options, requestCallback);\n\n            req.on(\"error\", (error: Error) => {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                this._numConsecutiveFailures++;\n\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!this._enableDiskRetryMode || this._numConsecutiveFailures > 0 && this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    let notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (this._enableDiskRetryMode) {\n                        notice = `Ingestion endpoint could not be reached ${this._numConsecutiveFailures} consecutive times. There may be resulting telemetry loss. Most recent error:`;\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                } else {\n                    let notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error)\n                }\n                this._onErrorHelper(error);\n\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n\n                    callback(errorMessage);\n                }\n\n                if (this._enableDiskRetryMode) {\n                    this._storeToDisk(payload);\n                }\n            });\n\n            req.write(dataToSend);\n            req.end();\n        });\n    }\n\n    public saveOnCrash(payload: string) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    }\n\n    private _runICACLS(args: string[], callback: (err: Error) => void) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, <any>{windowsHide: true});\n        aclProc.on(\"error\", (e: Error) => callback(e));\n        aclProc.on(\"close\", (code: number, signal: string) => {\n            return callback(code === 0 ? null : new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${code})`));\n        });\n    }\n\n    private _runICACLSSync(args: string[]) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, <any>{windowsHide: true});\n            if (aclProc.error) {\n                throw aclProc.error;\n            } else if (aclProc.status !== 0) {\n                throw new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${aclProc.status})`);\n            }\n        } else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    }\n\n    private _getACLIdentity(callback: (error: Error, identity: string) => void) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, \n            [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], <any>{\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n        let data = \"\";\n        psProc.stdout.on(\"data\", (d: string) => data += d);\n        psProc.on(\"error\", (e: Error) => callback(e, null));\n        psProc.on(\"close\", (code: number, signal: string) => {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(\n                code === 0 ? null : new Error(`Getting ACL identity did not succeed (PS returned code ${code})`),\n                Sender.ACL_IDENTITY);\n        });\n    }\n\n    private _getACLIdentitySync() {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, \n                [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], <any>{\n                    windowsHide: true,\n                    stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n                });\n            if (psProc.error) {\n                throw psProc.error;\n            } else if (psProc.status !== 0) {\n                throw new Error(`Getting ACL identity did not succeed (PS returned code ${psProc.status})`);\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        } else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    }\n\n    private _getACLArguments(directory: string, identity: string) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\", // Full permission for Administrators\n            \"/grant\", `${identity}:(OI)(CI)F`, // Full permission for current user\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    }\n\n    private _applyACLRules(directory: string, callback: (err: Error) => void) {\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity((err, identity) => {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                } else {\n                    this._runICACLS(this._getACLArguments(directory, identity), (err) => {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        } else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    }\n\n    private _applyACLRulesSync(directory: string) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            } else if (!Sender.ACLED_DIRECTORIES[directory]) { // falsy but not undefined\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    }\n\n    private _confirmDirExists(directory: string, callback: (err: NodeJS.ErrnoException) => void): void {\n        fs.lstat(directory, (err, stats) => {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, (err) => {\n                    if (err && err.code !== 'EEXIST') { // Handle race condition by ignoring EEXIST\n                        callback(err);\n                    } else {\n                        this._applyACLRules(directory, callback);\n                    }\n                });\n            } else if (!err && stats.isDirectory()){\n                this._applyACLRules(directory, callback);\n            } else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    }\n\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    private _getShallowDirectorySize(directory: string, callback: (err: NodeJS.ErrnoException, size: number) => void) {\n        // Get the directory listing\n        fs.readdir(directory, (err, files) => {\n            if (err) {\n                return callback(err, -1);\n            }\n\n            let error: NodeJS.ErrnoException = null;\n            let totalSize = 0;\n            let count = 0;\n\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n\n            // Query all file sizes\n            for (let i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), (err, fileStats) => {\n                    count++;\n\n                    if (err) {\n                        error = err;\n                    } else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        } else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    private _getShallowDirectorySizeSync(directory: string): number {\n        let files = fs.readdirSync(directory);\n        let totalSize = 0;\n        for (let i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    }\n\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    private _storeToDisk(payload: any) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, (error) => {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                this._onErrorHelper(error);\n                return;\n            }\n\n            this._getShallowDirectorySize(directory, (err, size) => {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    this._onErrorHelper(err);\n                    return;\n                } else if (size > this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, {mode: 0o600}, (error) => this._onErrorHelper(error));\n            });\n        });\n    }\n\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    private _storeToDiskSync(payload: any) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n\n            let dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, {mode: 0o600});\n\n        } catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    }\n\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    private _sendFirstFileOnDisk(): void {\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n\n        fs.exists(tempDir, (exists: boolean) => {\n            if (exists) {\n                fs.readdir(tempDir, (error, files) => {\n                    if (!error) {\n                        files = files.filter(f => path.basename(f).indexOf(\".ai.json\") > -1);\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, (error, payload) => {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, (error) => {\n                                        if (!error) {\n                                            this.send(payload);\n                                        } else {\n                                            this._onErrorHelper(error);\n                                        }\n                                    });\n                                } else {\n                                    this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    } else {\n                        this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    }\n\n    private _onErrorHelper(error: Error): void {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    }\n}\n\nexport = Sender;\n", "import Contracts = require(\"../Declarations/Contracts\")\nimport Util = require(\"./Util\")\nimport Config = require(\"./Config\");\nimport Context = require(\"./Context\");\nimport { CorrelationContextManager } from \"../AutoCollection/CorrelationContextManager\";\n\n\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nclass EnvelopeFactory {\n\n\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    public static createEnvelope(\n        telemetry: Contracts.Telemetry,\n        telemetryType: Contracts.TelemetryType,\n        commonProperties?: { [key: string]: string; },\n        context?: Context,\n        config?: Config): Contracts.Envelope {\n\n        var data = null;\n\n\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(<Contracts.TraceTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(<Contracts.DependencyTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(<Contracts.EventTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(<Contracts.ExceptionTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(<Contracts.RequestTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(<Contracts.MetricTelemetry>telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(<Contracts.AvailabilityTelemetry>telemetry);\n                break;\n        }\n\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) { // Do instanceof check. TS will automatically cast and allow the properties property\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                } else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n            iKey.replace(/-/g, \"\") +\n            \".\" +\n            data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n\n        return envelope;\n    }\n\n    private static createTraceData(telemetry: Contracts.TraceTelemetry): Contracts.Data<Contracts.MessageData> {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        } else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n\n        var data = new Contracts.Data<Contracts.MessageData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    }\n\n    private static createDependencyData(telemetry: Contracts.DependencyTelemetry & Contracts.Identified): Contracts.Data<Contracts.RemoteDependencyData> {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n\n        var data = new Contracts.Data<Contracts.RemoteDependencyData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    }\n\n    private static createEventData(telemetry: Contracts.EventTelemetry): Contracts.Data<Contracts.EventData> {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n\n        var data = new Contracts.Data<Contracts.EventData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    }\n\n    private static createExceptionData(telemetry: Contracts.ExceptionTelemetry): Contracts.Data<Contracts.ExceptionData> {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        } else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n\n        var data = new Contracts.Data<Contracts.ExceptionData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    }\n\n    private static createRequestData(telemetry: Contracts.RequestTelemetry & Contracts.Identified): Contracts.Data<Contracts.RequestData> {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success\n        requestData.properties = telemetry.properties;\n\n        var data = new Contracts.Data<Contracts.RequestData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    }\n\n    private static createMetricData(telemetry: Contracts.MetricTelemetry): Contracts.Data<Contracts.MetricData> {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n\n        metrics.metrics.push(metric);\n\n        metrics.properties = telemetry.properties;\n\n        var data = new Contracts.Data<Contracts.MetricData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    }\n\n    private static createAvailabilityData(\n        telemetry: Contracts.AvailabilityTelemetry & Contracts.Identified,\n    ): Contracts.Data<Contracts.AvailabilityData> {\n        let availabilityData = new Contracts.AvailabilityData();\n\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        } else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n\n        let data = new Contracts.Data<Contracts.AvailabilityData>();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n\n        return data;\n    }\n\n    private static getTags(context: Context, tagOverrides?: { [key: string]: string; }) {\n        var correlationContext = CorrelationContextManager.getCurrentContext();\n\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = <{ [key: string]: string }>{};\n\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n\n        return newTags;\n    }\n\n\n    private static parseStack(stack: any): _StackFrame[] {\n        var parsedStack: _StackFrame[] = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n\n                    if (size > exceptionParsedStackThreshold) {\n\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n\n                    left++;\n                    right--;\n                }\n            }\n        }\n\n        return parsedStack;\n    }\n\n}\n\nclass _StackFrame {\n\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    public static regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    public static baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    public sizeInBytes = 0;\n    public level: number;\n    public method: string;\n    public assembly: string;\n    public fileName: string;\n    public line: number;\n\n    constructor(frame: string, level: number) {\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n}\n\nexport = EnvelopeFactory;\n", "import url = require(\"url\");\nimport os = require(\"os\");\n\nimport Config = require(\"./Config\");\nimport Context = require(\"./Context\");\nimport Contracts = require(\"../Declarations/Contracts\");\nimport Channel = require(\"./Channel\");\nimport TelemetryProcessors = require(\"../TelemetryProcessors\");\nimport { CorrelationContextManager } from \"../AutoCollection/CorrelationContextManager\";\nimport Sender = require(\"./Sender\");\nimport Util = require(\"./Util\");\nimport Logging = require(\"./Logging\");\nimport FlushOptions = require(\"./FlushOptions\");\nimport EnvelopeFactory = require(\"./EnvelopeFactory\");\nimport QuickPulseStateManager = require(\"./QuickPulseStateManager\");\n\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nclass TelemetryClient {\n    private _telemetryProcessors: { (envelope: Contracts.Envelope, contextObjects: { [name: string]: any; }): boolean; }[] = [];\n\n    public config: Config;\n    public context: Context;\n    public commonProperties: { [key: string]: string; };\n    public channel: Channel;\n    public quickPulseClient: QuickPulseStateManager;\n\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    constructor(setupString?: string) {\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n\n        var sender = new Sender(this.config);\n        this.channel = new Channel(() => config.disableAppInsights, () => config.maxBatchSize, () => config.maxBatchIntervalMs, sender);\n    }\n\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackAvailability(telemetry: Contracts.AvailabilityTelemetry): void {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    }\n\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackTrace(telemetry: Contracts.TraceTelemetry): void {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    }\n\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackMetric(telemetry: Contracts.MetricTelemetry): void {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    }\n\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackException(telemetry: Contracts.ExceptionTelemetry): void {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    }\n\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackEvent(telemetry: Contracts.EventTelemetry): void {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    }\n\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    public trackRequest(telemetry: Contracts.RequestTelemetry): void {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    }\n\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    public trackDependency(telemetry: Contracts.DependencyTelemetry) {\n\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    }\n\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    public flush(options?: FlushOptions) {\n        this.channel.triggerSend(\n            options ? !!options.isAppCrashing : false,\n            options ? options.callback : undefined);\n    }\n\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    public track(telemetry: Contracts.Telemetry, telemetryType: Contracts.TelemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient)\n\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\")\n        }\n    }\n\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    public addTelemetryProcessor(telemetryProcessor: (envelope: Contracts.Envelope, contextObjects?: { [name: string]: any; }) => boolean) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    }\n\n    /*\n     * Removes all telemetry processors\n     */\n    public clearTelemetryProcessors() {\n        this._telemetryProcessors = [];\n    }\n\n    private runTelemetryProcessors(envelope: Contracts.Envelope, contextObjects: { [name: string]: any; }): boolean {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager.getCurrentContext();\n\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n\n            } catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n\n        return accepted;\n    }\n}\n\nexport = TelemetryClient;\n", "import http = require(\"http\");\nimport https = require(\"https\");\nimport TelemetryClient = require(\"./TelemetryClient\");\nimport ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nimport ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nimport Logging = require(\"./Logging\");\nimport Contracts = require(\"../Declarations/Contracts\");\n\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nclass NodeClient extends TelemetryClient {\n\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information \n     */\n    public trackNodeHttpRequestSync(telemetry: Contracts.NodeHttpRequestTelemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        } else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    }\n\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    public trackNodeHttpRequest(telemetry: Contracts.NodeHttpRequestTelemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        } else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    }\n\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    public trackNodeHttpDependency(telemetry: Contracts.NodeHttpDependencyTelemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    }\n}\n\nexport = NodeClient", "import CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nimport AutoCollectConsole = require(\"./AutoCollection/Console\");\nimport AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nimport AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nimport AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nimport AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nimport Config = require(\"./Library/Config\");\nimport Context = require(\"./Library/Context\");\nimport CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nimport Logging = require(\"./Library/Logging\");\nimport Util = require(\"./Library/Util\");\nimport QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\n\nimport { AutoCollectNativePerformance, IDisabledExtendedMetrics } from \"./AutoCollection/NativePerformance\";\n\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexport import TelemetryClient = require(\"./Library/NodeClient\");\nexport import Contracts = require(\"./Declarations/Contracts\");\n\nexport enum DistributedTracingModes {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n\n    AI=0,\n\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    AI_AND_W3C\n}\n\n// Default autocollection configuration\nlet _isConsole = true;\nlet _isConsoleLog = false;\nlet _isExceptions = true;\nlet _isPerformance = true;\nlet _isRequests = true;\nlet _isDependencies = true;\nlet _isDiskRetry = true;\nlet _isCorrelating = true;\nlet _forceClsHooked: boolean;\nlet _isSendingLiveMetrics = false; // Off by default\nlet _isNativePerformance = true;\nlet _disabledExtendedMetrics: IDisabledExtendedMetrics;\n\nlet _diskRetryInterval: number = undefined;\nlet _diskRetryMaxBytes: number = undefined;\n\nlet _console: AutoCollectConsole;\nlet _exceptions: AutoCollectExceptions;\nlet _performance: AutoCollectPerformance;\nlet _nativePerformance: AutoCollectNativePerformance;\nlet _serverRequests: AutoCollectHttpRequests;\nlet _clientRequests: AutoCollectHttpDependencies;\n\nlet _isStarted = false;\n\n/**\n* The default client, initialized when setup was called. To initialize a different client\n* with its own configuration, use `new TelemetryClient(instrumentationKey?)`.\n*/\nexport let defaultClient: TelemetryClient;\nexport let liveMetricsClient: QuickPulseClient;\nlet _performanceLiveMetrics: AutoCollectPerformance;\n\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nexport function setup(setupString?: string) {\n    if(!defaultClient) {\n        defaultClient = new TelemetryClient(setupString);\n        _console = new AutoCollectConsole(defaultClient);\n        _exceptions = new AutoCollectExceptions(defaultClient);\n        _performance = new AutoCollectPerformance(defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new AutoCollectNativePerformance(defaultClient);\n        }\n    } else {\n        Logging.info(\"The default client is already setup\");\n    }\n\n    if (defaultClient && defaultClient.channel) {\n        defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n\n    return Configuration;\n}\n\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nexport function start() {\n    if(!!defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (liveMetricsClient && _isSendingLiveMetrics) {\n            liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    } else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n\n    return Configuration;\n}\n\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nexport function getCorrelationContext(): CorrelationContextManager.CorrelationContext {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n\n    return null;\n}\n\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nexport function wrapWithCorrelationContext<T extends Function>(fn: T): T {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\n\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nexport class Configuration {\n    // Convenience shortcut to ApplicationInsights.start\n    public static start = start;\n\n     /**\n      * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n      * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n      * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n      * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n      * services. Default=AI\n     */\n    public static setDistributedTracingMode(value: DistributedTracingModes) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    public static setAutoCollectConsole(value: boolean, collectConsoleLog: boolean = false) {\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted){\n            _console.enable(value, collectConsoleLog);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    public static setAutoCollectExceptions(value: boolean) {\n        _isExceptions = value;\n        if (_isStarted){\n            _exceptions.enable(value);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    public static setAutoCollectPerformance(value: boolean, collectExtendedMetrics: boolean | IDisabledExtendedMetrics = true) {\n        _isPerformance = value;\n        const extendedMetricsConfig = AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n\n\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    public static setAutoCollectRequests(value: boolean) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    public static setAutoCollectDependencies(value: boolean) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    public static setAutoDependencyCorrelation(value: boolean, useAsyncHooks?: boolean) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    public static setUseDiskRetryCaching(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk\n        if (defaultClient && defaultClient.channel){\n            defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n\n        return Configuration;\n    }\n\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    public static setInternalLogging(enableDebugLogging = false, enableWarningLogging = true) {\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    }\n\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    public static setSendLiveMetrics(enable = false) {\n        if (!defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n\n        if (!liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            liveMetricsClient = new QuickPulseClient(defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(liveMetricsClient as any, 1000, true);\n            liveMetricsClient.addCollector(_performanceLiveMetrics);\n            defaultClient.quickPulseClient = liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        } else if (liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n\n        return Configuration;\n    }\n}\n\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nexport function dispose() {\n    defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if(_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if(_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if(liveMetricsClient) {\n        liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        liveMetricsClient = undefined;\n    }\n}\n", "/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        if (vscode.env.onDidChangeTelemetryEnabled !== undefined) {\r\n            this.optOutListener = vscode.env.onDidChangeTelemetryEnabled(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n        else {\r\n            this.optOutListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        // Newer versions of vscode api have telemetry enablement exposed, but fallback to setting for older versions\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        var newOptInValue = vscode.env.isTelemetryEnabled === undefined ?\r\n            config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true) :\r\n            vscode.env.isTelemetryEnabled;\r\n        if (this.userOptIn !== newOptInValue) {\r\n            this.userOptIn = newOptInValue;\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            commonProperties['common.isnewappinstall'] = vscode.env.isNewAppInstall;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.optOutListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map", "// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n", "const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n", "// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n", "const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n", "const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n", "const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n", "const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n", "const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n", "const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n", "const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n", "const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n", "const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n", "const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n", "const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n", "const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n", "const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n", "const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n", "const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n", "const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n", "'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n", "'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n", "'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n", "// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n", "const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n", "const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n", "// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n", "const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n", "const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n", "// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n", "const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n", "// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n", "'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n", "'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n", "'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), and `negated` (true if the path starts with `!`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n          break;\n        }\n      }\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n", "'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = (opts) => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index];\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren' && !EXTGLOB_CHARS[tok.value]) {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.prev.type === 'bos' && eos()) {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance() || '';\n      } else {\n        value += advance() || '';\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = (opts) => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.compileRe = (parsed, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return parsed.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${parsed.output})${append}`;\n  if (parsed && parsed.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = parsed;\n  }\n\n  return regex;\n};\n\npicomatch.makeRe = (input, options, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  const opts = options || {};\n  let parsed = { negated: false, fastpaths: true };\n  let prefix = '';\n  let output;\n\n  if (input.startsWith('./')) {\n    input = input.slice(2);\n    prefix = parsed.prefix = './';\n  }\n\n  if (opts.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    output = parse.fastpaths(input, options);\n  }\n\n  if (output === undefined) {\n    parsed = parse(input, options);\n    parsed.prefix = prefix + (parsed.prefix || '');\n  } else {\n    parsed.output = output;\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n", "'use strict';\n\nmodule.exports = require('./lib/picomatch');\n", "'use strict';\n\nconst fs = require('fs');\nconst { Readable } = require('stream');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst picomatch = require('picomatch');\n\nconst readdir = promisify(fs.readdir);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\n/**\n * @typedef {Object} EntryInfo\n * @property {String} path\n * @property {String} fullPath\n * @property {fs.Stats=} stats\n * @property {fs.Dirent=} dirent\n * @property {String} basename\n */\n\nconst BANG = '!';\nconst RECURSIVE_ERROR_CODE = 'READDIRP_RECURSIVE_ERROR';\nconst NORMAL_FLOW_ERRORS = new Set(['ENOENT', 'EPERM', 'EACCES', 'ELOOP', RECURSIVE_ERROR_CODE]);\nconst FILE_TYPE = 'files';\nconst DIR_TYPE = 'directories';\nconst FILE_DIR_TYPE = 'files_directories';\nconst EVERYTHING_TYPE = 'all';\nconst ALL_TYPES = [FILE_TYPE, DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE];\n\nconst isNormalFlowError = error => NORMAL_FLOW_ERRORS.has(error.code);\nconst [maj, min] = process.versions.node.split('.').slice(0, 2).map(n => Number.parseInt(n, 10));\nconst wantBigintFsStats = process.platform === 'win32' && (maj > 10 || (maj === 10 && min >= 5));\n\nconst normalizeFilter = filter => {\n  if (filter === undefined) return;\n  if (typeof filter === 'function') return filter;\n\n  if (typeof filter === 'string') {\n    const glob = picomatch(filter.trim());\n    return entry => glob(entry.basename);\n  }\n\n  if (Array.isArray(filter)) {\n    const positive = [];\n    const negative = [];\n    for (const item of filter) {\n      const trimmed = item.trim();\n      if (trimmed.charAt(0) === BANG) {\n        negative.push(picomatch(trimmed.slice(1)));\n      } else {\n        positive.push(picomatch(trimmed));\n      }\n    }\n\n    if (negative.length > 0) {\n      if (positive.length > 0) {\n        return entry =>\n          positive.some(f => f(entry.basename)) && !negative.some(f => f(entry.basename));\n      }\n      return entry => !negative.some(f => f(entry.basename));\n    }\n    return entry => positive.some(f => f(entry.basename));\n  }\n};\n\nclass ReaddirpStream extends Readable {\n  static get defaultOptions() {\n    return {\n      root: '.',\n      /* eslint-disable no-unused-vars */\n      fileFilter: (path) => true,\n      directoryFilter: (path) => true,\n      /* eslint-enable no-unused-vars */\n      type: FILE_TYPE,\n      lstat: false,\n      depth: 2147483648,\n      alwaysStat: false\n    };\n  }\n\n  constructor(options = {}) {\n    super({\n      objectMode: true,\n      autoDestroy: true,\n      highWaterMark: options.highWaterMark || 4096\n    });\n    const opts = { ...ReaddirpStream.defaultOptions, ...options };\n    const { root, type } = opts;\n\n    this._fileFilter = normalizeFilter(opts.fileFilter);\n    this._directoryFilter = normalizeFilter(opts.directoryFilter);\n\n    const statMethod = opts.lstat ? lstat : stat;\n    // Use bigint stats if it's windows and stat() supports options (node 10+).\n    if (wantBigintFsStats) {\n      this._stat = path => statMethod(path, { bigint: true });\n    } else {\n      this._stat = statMethod;\n    }\n\n    this._maxDepth = opts.depth;\n    this._wantsDir = [DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsFile = [FILE_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsEverything = type === EVERYTHING_TYPE;\n    this._root = sysPath.resolve(root);\n    this._isDirent = ('Dirent' in fs) && !opts.alwaysStat;\n    this._statsProp = this._isDirent ? 'dirent' : 'stats';\n    this._rdOptions = { encoding: 'utf8', withFileTypes: this._isDirent };\n\n    // Launch stream with one parent, the root dir.\n    this.parents = [this._exploreDir(root, 1)];\n    this.reading = false;\n    this.parent = undefined;\n  }\n\n  async _read(batch) {\n    if (this.reading) return;\n    this.reading = true;\n\n    try {\n      while (!this.destroyed && batch > 0) {\n        const { path, depth, files = [] } = this.parent || {};\n\n        if (files.length > 0) {\n          const slice = files.splice(0, batch).map(dirent => this._formatEntry(dirent, path));\n          for (const entry of await Promise.all(slice)) {\n            if (this.destroyed) return;\n\n            const entryType = await this._getEntryType(entry);\n            if (entryType === 'directory' && this._directoryFilter(entry)) {\n              if (depth <= this._maxDepth) {\n                this.parents.push(this._exploreDir(entry.fullPath, depth + 1));\n              }\n\n              if (this._wantsDir) {\n                this.push(entry);\n                batch--;\n              }\n            } else if ((entryType === 'file' || this._includeAsFile(entry)) && this._fileFilter(entry)) {\n              if (this._wantsFile) {\n                this.push(entry);\n                batch--;\n              }\n            }\n          }\n        } else {\n          const parent = this.parents.pop();\n          if (!parent) {\n            this.push(null);\n            break;\n          }\n          this.parent = await parent;\n          if (this.destroyed) return;\n        }\n      }\n    } catch (error) {\n      this.destroy(error);\n    } finally {\n      this.reading = false;\n    }\n  }\n\n  async _exploreDir(path, depth) {\n    let files;\n    try {\n      files = await readdir(path, this._rdOptions);\n    } catch (error) {\n      this._onError(error);\n    }\n    return { files, depth, path };\n  }\n\n  async _formatEntry(dirent, path) {\n    let entry;\n    try {\n      const basename = this._isDirent ? dirent.name : dirent;\n      const fullPath = sysPath.resolve(sysPath.join(path, basename));\n      entry = { path: sysPath.relative(this._root, fullPath), fullPath, basename };\n      entry[this._statsProp] = this._isDirent ? dirent : await this._stat(fullPath);\n    } catch (err) {\n      this._onError(err);\n    }\n    return entry;\n  }\n\n  _onError(err) {\n    if (isNormalFlowError(err) && !this.destroyed) {\n      this.emit('warn', err);\n    } else {\n      this.destroy(err);\n    }\n  }\n\n  async _getEntryType(entry) {\n    // entry may be undefined, because a warning or an error were emitted\n    // and the statsProp is undefined\n    const stats = entry && entry[this._statsProp];\n    if (!stats) {\n      return;\n    }\n    if (stats.isFile()) {\n      return 'file';\n    }\n    if (stats.isDirectory()) {\n      return 'directory';\n    }\n    if (stats && stats.isSymbolicLink()) {\n      const full = entry.fullPath;\n      try {\n        const entryRealPath = await realpath(full);\n        const entryRealPathStats = await lstat(entryRealPath);\n        if (entryRealPathStats.isFile()) {\n          return 'file';\n        }\n        if (entryRealPathStats.isDirectory()) {\n          const len = entryRealPath.length;\n          if (full.startsWith(entryRealPath) && full.substr(len, 1) === sysPath.sep) {\n            const recursiveError = new Error(\n              `Circular symlink detected: \"${full}\" points to \"${entryRealPath}\"`\n            );\n            recursiveError.code = RECURSIVE_ERROR_CODE;\n            return this._onError(recursiveError);\n          }\n          return 'directory';\n        }\n      } catch (error) {\n        this._onError(error);\n      }\n    }\n  }\n\n  _includeAsFile(entry) {\n    const stats = entry && entry[this._statsProp];\n\n    return stats && this._wantsEverything && !stats.isDirectory();\n  }\n}\n\n/**\n * @typedef {Object} ReaddirpArguments\n * @property {Function=} fileFilter\n * @property {Function=} directoryFilter\n * @property {String=} type\n * @property {Number=} depth\n * @property {String=} root\n * @property {Boolean=} lstat\n * @property {Boolean=} bigint\n */\n\n/**\n * Main function which ends up calling readdirRec and reads all files and directories in given root recursively.\n * @param {String} root Root directory\n * @param {ReaddirpArguments=} options Options to specify root (start directory), filters and recursion depth\n */\nconst readdirp = (root, options = {}) => {\n  let type = options.entryType || options.type;\n  if (type === 'both') type = FILE_DIR_TYPE; // backwards-compatibility\n  if (type) options.type = type;\n  if (!root) {\n    throw new Error('readdirp: root argument is required. Usage: readdirp(root, options)');\n  } else if (typeof root !== 'string') {\n    throw new TypeError('readdirp: root argument must be a string. Usage: readdirp(root, options)');\n  } else if (type && !ALL_TYPES.includes(type)) {\n    throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(', ')}`);\n  }\n\n  options.root = root;\n  return new ReaddirpStream(options);\n};\n\nconst readdirpPromise = (root, options = {}) => {\n  return new Promise((resolve, reject) => {\n    const files = [];\n    readdirp(root, options)\n      .on('data', entry => files.push(entry))\n      .on('end', () => resolve(files))\n      .on('error', error => reject(error));\n  });\n};\n\nreaddirp.promise = readdirpPromise;\nreaddirp.ReaddirpStream = ReaddirpStream;\nreaddirp.default = readdirp;\n\nmodule.exports = readdirp;\n", "/*!\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nmodule.exports = function(path, stripTrailing) {\n  if (typeof path !== 'string') {\n    throw new TypeError('expected path to be a string');\n  }\n\n  if (path === '\\\\' || path === '/') return '/';\n\n  var len = path.length;\n  if (len <= 1) return path;\n\n  // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n  var prefix = '';\n  if (len > 4 && path[3] === '\\\\') {\n    var ch = path[2];\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  var segs = path.split(/[/\\\\]+/);\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n  return prefix + segs.join('/');\n};\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nconst picomatch = require('picomatch');\nconst normalizePath = require('normalize-path');\n\n/**\n * @typedef {(testString: string) => boolean} AnymatchFn\n * @typedef {string|RegExp|AnymatchFn} AnymatchPattern\n * @typedef {AnymatchPattern|AnymatchPattern[]} AnymatchMatcher\n */\nconst BANG = '!';\nconst DEFAULT_OPTIONS = {returnIndex: false};\nconst arrify = (item) => Array.isArray(item) ? item : [item];\n\n/**\n * @param {AnymatchPattern} matcher\n * @param {object} options\n * @returns {AnymatchFn}\n */\nconst createPattern = (matcher, options) => {\n  if (typeof matcher === 'function') {\n    return matcher;\n  }\n  if (typeof matcher === 'string') {\n    const glob = picomatch(matcher, options);\n    return (string) => matcher === string || glob(string);\n  }\n  if (matcher instanceof RegExp) {\n    return (string) => matcher.test(string);\n  }\n  return (string) => false;\n};\n\n/**\n * @param {Array<Function>} patterns\n * @param {Array<Function>} negPatterns\n * @param {String|Array} args\n * @param {Boolean} returnIndex\n * @returns {boolean|number}\n */\nconst matchPatterns = (patterns, negPatterns, args, returnIndex) => {\n  const isList = Array.isArray(args);\n  const _path = isList ? args[0] : args;\n  if (!isList && typeof _path !== 'string') {\n    throw new TypeError('anymatch: second argument must be a string: got ' +\n      Object.prototype.toString.call(_path))\n  }\n  const path = normalizePath(_path);\n\n  for (let index = 0; index < negPatterns.length; index++) {\n    const nglob = negPatterns[index];\n    if (nglob(path)) {\n      return returnIndex ? -1 : false;\n    }\n  }\n\n  const applied = isList && [path].concat(args.slice(1));\n  for (let index = 0; index < patterns.length; index++) {\n    const pattern = patterns[index];\n    if (isList ? pattern(...applied) : pattern(path)) {\n      return returnIndex ? index : true;\n    }\n  }\n\n  return returnIndex ? -1 : false;\n};\n\n/**\n * @param {AnymatchMatcher} matchers\n * @param {Array|string} testString\n * @param {object} options\n * @returns {boolean|number|Function}\n */\nconst anymatch = (matchers, testString, options = DEFAULT_OPTIONS) => {\n  if (matchers == null) {\n    throw new TypeError('anymatch: specify first argument');\n  }\n  const opts = typeof options === 'boolean' ? {returnIndex: options} : options;\n  const returnIndex = opts.returnIndex || false;\n\n  // Early cache for matchers.\n  const mtchers = arrify(matchers);\n  const negatedGlobs = mtchers\n    .filter(item => typeof item === 'string' && item.charAt(0) === BANG)\n    .map(item => item.slice(1))\n    .map(item => picomatch(item, opts));\n  const patterns = mtchers\n    .filter(item => typeof item !== 'string' || (typeof item === 'string' && item.charAt(0) !== BANG))\n    .map(matcher => createPattern(matcher, opts));\n\n  if (testString == null) {\n    return (testString, ri = false) => {\n      const returnIndex = typeof ri === 'boolean' ? ri : false;\n      return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n    }\n  }\n\n  return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n};\n\nanymatch.default = anymatch;\nmodule.exports = anymatch;\n", "/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n", "/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictRegex = /\\\\(.)|(^!|\\*|[\\].+)]\\?|\\[[^\\\\\\]]+\\]|\\{[^\\\\}]+\\}|\\(\\?[:!=][^\\\\)]+\\)|\\([^|]+\\|[^\\\\)]+\\))/;\nvar relaxedRegex = /\\\\(.)|(^!|[*?{}()[\\]]|\\(\\?)/;\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var regex = strictRegex;\n  var match;\n\n  // optionally relax regex\n  if (options && options.strict === false) {\n    regex = relaxedRegex;\n  }\n\n  while ((match = regex.exec(str))) {\n    if (match[2]) return true;\n    var idx = match.index + match[0].length;\n\n    // if an open bracket/brace/paren is escaped,\n    // set the index to the next closing character\n    var open = match[1];\n    var close = open ? chars[open] : null;\n    if (open && close) {\n      var n = str.indexOf(close, idx);\n      if (n !== -1) {\n        idx = n + 1;\n      }\n    }\n\n    str = str.slice(idx);\n  }\n  return false;\n};\n", "'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n", "'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n", "'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n", "/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n", "/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n", "/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n", "'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n", "'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n", "module.exports = require('./binary-extensions.json');\n", "'use strict';\nconst path = require('path');\nconst binaryExtensions = require('binary-extensions');\n\nconst extensions = new Set(binaryExtensions);\n\nmodule.exports = filePath => extensions.has(path.extname(filePath).slice(1).toLowerCase());\n", "'use strict';\n\nconst {sep} = require('path');\nconst {platform} = process;\nconst os = require('os');\n\nexports.EV_ALL = 'all';\nexports.EV_READY = 'ready';\nexports.EV_ADD = 'add';\nexports.EV_CHANGE = 'change';\nexports.EV_ADD_DIR = 'addDir';\nexports.EV_UNLINK = 'unlink';\nexports.EV_UNLINK_DIR = 'unlinkDir';\nexports.EV_RAW = 'raw';\nexports.EV_ERROR = 'error';\n\nexports.STR_DATA = 'data';\nexports.STR_END = 'end';\nexports.STR_CLOSE = 'close';\n\nexports.FSEVENT_CREATED = 'created';\nexports.FSEVENT_MODIFIED = 'modified';\nexports.FSEVENT_DELETED = 'deleted';\nexports.FSEVENT_MOVED = 'moved';\nexports.FSEVENT_CLONED = 'cloned';\nexports.FSEVENT_UNKNOWN = 'unknown';\nexports.FSEVENT_TYPE_FILE = 'file';\nexports.FSEVENT_TYPE_DIRECTORY = 'directory';\nexports.FSEVENT_TYPE_SYMLINK = 'symlink';\n\nexports.KEY_LISTENERS = 'listeners';\nexports.KEY_ERR = 'errHandlers';\nexports.KEY_RAW = 'rawEmitters';\nexports.HANDLER_KEYS = [exports.KEY_LISTENERS, exports.KEY_ERR, exports.KEY_RAW];\n\nexports.DOT_SLASH = `.${sep}`;\n\nexports.BACK_SLASH_RE = /\\\\/g;\nexports.DOUBLE_SLASH_RE = /\\/\\//;\nexports.SLASH_OR_BACK_SLASH_RE = /[/\\\\]/;\nexports.DOT_RE = /\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/;\nexports.REPLACER_RE = /^\\.[/\\\\]/;\n\nexports.SLASH = '/';\nexports.SLASH_SLASH = '//';\nexports.BRACE_START = '{';\nexports.BANG = '!';\nexports.ONE_DOT = '.';\nexports.TWO_DOTS = '..';\nexports.STAR = '*';\nexports.GLOBSTAR = '**';\nexports.ROOT_GLOBSTAR = '/**/*';\nexports.SLASH_GLOBSTAR = '/**';\nexports.DIR_SUFFIX = 'Dir';\nexports.ANYMATCH_OPTS = {dot: true};\nexports.STRING_TYPE = 'string';\nexports.FUNCTION_TYPE = 'function';\nexports.EMPTY_STR = '';\nexports.EMPTY_FN = () => {};\nexports.IDENTITY_FN = val => val;\n\nexports.isWindows = platform === 'win32';\nexports.isMacos = platform === 'darwin';\nexports.isLinux = platform === 'linux';\nexports.isIBMi = os.type() === 'OS400';\n", "'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst isBinaryPath = require('is-binary-path');\nconst {\n  isWindows,\n  isLinux,\n  EMPTY_FN,\n  EMPTY_STR,\n  KEY_LISTENERS,\n  KEY_ERR,\n  KEY_RAW,\n  HANDLER_KEYS,\n  EV_CHANGE,\n  EV_ADD,\n  EV_ADD_DIR,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  BRACE_START,\n  STAR\n} = require('./constants');\n\nconst THROTTLE_MODE_WATCH = 'watch';\n\nconst open = promisify(fs.open);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst close = promisify(fs.close);\nconst fsrealpath = promisify(fs.realpath);\n\nconst statMethods = { lstat, stat };\n\n// TODO: emit errors properly. Example: EMFILE on Macos.\nconst foreach = (val, fn) => {\n  if (val instanceof Set) {\n    val.forEach(fn);\n  } else {\n    fn(val);\n  }\n};\n\nconst addAndConvert = (main, prop, item) => {\n  let container = main[prop];\n  if (!(container instanceof Set)) {\n    main[prop] = container = new Set([container]);\n  }\n  container.add(item);\n};\n\nconst clearItem = cont => key => {\n  const set = cont[key];\n  if (set instanceof Set) {\n    set.clear();\n  } else {\n    delete cont[key];\n  }\n};\n\nconst delFromSet = (main, prop, item) => {\n  const container = main[prop];\n  if (container instanceof Set) {\n    container.delete(item);\n  } else if (container === item) {\n    delete main[prop];\n  }\n};\n\nconst isEmptySet = (val) => val instanceof Set ? val.size === 0 : !val;\n\n/**\n * @typedef {String} Path\n */\n\n// fs_watch helpers\n\n// object to hold per-process fs_watch instances\n// (may be shared across chokidar FSWatcher instances)\n\n/**\n * @typedef {Object} FsWatchContainer\n * @property {Set} listeners\n * @property {Set} errHandlers\n * @property {Set} rawEmitters\n * @property {fs.FSWatcher=} watcher\n * @property {Boolean=} watcherUnusable\n */\n\n/**\n * @type {Map<String,FsWatchContainer>}\n */\nconst FsWatchInstances = new Map();\n\n/**\n * Instantiates the fs_watch interface\n * @param {String} path to be watched\n * @param {Object} options to be passed to fs_watch\n * @param {Function} listener main event handler\n * @param {Function} errHandler emits info about errors\n * @param {Function} emitRaw emits raw event data\n * @returns {fs.FSWatcher} new fsevents instance\n */\nfunction createFsWatchInstance(path, options, listener, errHandler, emitRaw) {\n  const handleEvent = (rawEvent, evPath) => {\n    listener(path);\n    emitRaw(rawEvent, evPath, {watchedPath: path});\n\n    // emit based on events occurring for files from a directory's watcher in\n    // case the file's watcher misses it (and rely on throttling to de-dupe)\n    if (evPath && path !== evPath) {\n      fsWatchBroadcast(\n        sysPath.resolve(path, evPath), KEY_LISTENERS, sysPath.join(path, evPath)\n      );\n    }\n  };\n  try {\n    return fs.watch(path, options, handleEvent);\n  } catch (error) {\n    errHandler(error);\n  }\n}\n\n/**\n * Helper for passing fs_watch event data to a collection of listeners\n * @param {Path} fullPath absolute path bound to fs_watch instance\n * @param {String} type listener type\n * @param {*=} val1 arguments to be passed to listeners\n * @param {*=} val2\n * @param {*=} val3\n */\nconst fsWatchBroadcast = (fullPath, type, val1, val2, val3) => {\n  const cont = FsWatchInstances.get(fullPath);\n  if (!cont) return;\n  foreach(cont[type], (listener) => {\n    listener(val1, val2, val3);\n  });\n};\n\n/**\n * Instantiates the fs_watch interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path\n * @param {String} fullPath absolute path\n * @param {Object} options to be passed to fs_watch\n * @param {Object} handlers container for event listener functions\n */\nconst setFsWatchListener = (path, fullPath, options, handlers) => {\n  const {listener, errHandler, rawEmitter} = handlers;\n  let cont = FsWatchInstances.get(fullPath);\n\n  /** @type {fs.FSWatcher=} */\n  let watcher;\n  if (!options.persistent) {\n    watcher = createFsWatchInstance(\n      path, options, listener, errHandler, rawEmitter\n    );\n    return watcher.close.bind(watcher);\n  }\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_ERR, errHandler);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    watcher = createFsWatchInstance(\n      path,\n      options,\n      fsWatchBroadcast.bind(null, fullPath, KEY_LISTENERS),\n      errHandler, // no need to use broadcast here\n      fsWatchBroadcast.bind(null, fullPath, KEY_RAW)\n    );\n    if (!watcher) return;\n    watcher.on(EV_ERROR, async (error) => {\n      const broadcastErr = fsWatchBroadcast.bind(null, fullPath, KEY_ERR);\n      cont.watcherUnusable = true; // documented since Node 10.4.1\n      // Workaround for https://github.com/joyent/node/issues/4337\n      if (isWindows && error.code === 'EPERM') {\n        try {\n          const fd = await open(path, 'r');\n          await close(fd);\n          broadcastErr(error);\n        } catch (err) {}\n      } else {\n        broadcastErr(error);\n      }\n    });\n    cont = {\n      listeners: listener,\n      errHandlers: errHandler,\n      rawEmitters: rawEmitter,\n      watcher\n    };\n    FsWatchInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // removes this instance's listeners and closes the underlying fs_watch\n  // instance if there are no more listeners left\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_ERR, errHandler);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      // Check to protect against issue gh-730.\n      // if (cont.watcherUnusable) {\n      cont.watcher.close();\n      // }\n      FsWatchInstances.delete(fullPath);\n      HANDLER_KEYS.forEach(clearItem(cont));\n      cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n// fs_watchFile helpers\n\n// object to hold per-process fs_watchFile instances\n// (may be shared across chokidar FSWatcher instances)\nconst FsWatchFileInstances = new Map();\n\n/**\n * Instantiates the fs_watchFile interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path to be watched\n * @param {String} fullPath absolute path\n * @param {Object} options options to be passed to fs_watchFile\n * @param {Object} handlers container for event listener functions\n * @returns {Function} closer\n */\nconst setFsWatchFileListener = (path, fullPath, options, handlers) => {\n  const {listener, rawEmitter} = handlers;\n  let cont = FsWatchFileInstances.get(fullPath);\n\n  /* eslint-disable no-unused-vars, prefer-destructuring */\n  let listeners = new Set();\n  let rawEmitters = new Set();\n\n  const copts = cont && cont.options;\n  if (copts && (copts.persistent < options.persistent || copts.interval > options.interval)) {\n    // \"Upgrade\" the watcher to persistence or a quicker interval.\n    // This creates some unlikely edge case issues if the user mixes\n    // settings in a very weird way, but solving for those cases\n    // doesn't seem worthwhile for the added complexity.\n    listeners = cont.listeners;\n    rawEmitters = cont.rawEmitters;\n    fs.unwatchFile(fullPath);\n    cont = undefined;\n  }\n\n  /* eslint-enable no-unused-vars, prefer-destructuring */\n\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    // TODO\n    // listeners.add(listener);\n    // rawEmitters.add(rawEmitter);\n    cont = {\n      listeners: listener,\n      rawEmitters: rawEmitter,\n      options,\n      watcher: fs.watchFile(fullPath, options, (curr, prev) => {\n        foreach(cont.rawEmitters, (rawEmitter) => {\n          rawEmitter(EV_CHANGE, fullPath, {curr, prev});\n        });\n        const currmtime = curr.mtimeMs;\n        if (curr.size !== prev.size || currmtime > prev.mtimeMs || currmtime === 0) {\n          foreach(cont.listeners, (listener) => listener(path, curr));\n        }\n      })\n    };\n    FsWatchFileInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // Removes this instance's listeners and closes the underlying fs_watchFile\n  // instance if there are no more listeners left.\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      FsWatchFileInstances.delete(fullPath);\n      fs.unwatchFile(fullPath);\n      cont.options = cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n/**\n * @mixin\n */\nclass NodeFsHandler {\n\n/**\n * @param {import(\"../index\").FSWatcher} fsW\n */\nconstructor(fsW) {\n  this.fsw = fsW;\n  this._boundHandleError = (error) => fsW._handleError(error);\n}\n\n/**\n * Watch file for changes with fs_watchFile or fs_watch.\n * @param {String} path to file or dir\n * @param {Function} listener on fs change\n * @returns {Function} closer for the watcher instance\n */\n_watchWithNodeFs(path, listener) {\n  const opts = this.fsw.options;\n  const directory = sysPath.dirname(path);\n  const basename = sysPath.basename(path);\n  const parent = this.fsw._getWatchedDir(directory);\n  parent.add(basename);\n  const absolutePath = sysPath.resolve(path);\n  const options = {persistent: opts.persistent};\n  if (!listener) listener = EMPTY_FN;\n\n  let closer;\n  if (opts.usePolling) {\n    options.interval = opts.enableBinaryInterval && isBinaryPath(basename) ?\n      opts.binaryInterval : opts.interval;\n    closer = setFsWatchFileListener(path, absolutePath, options, {\n      listener,\n      rawEmitter: this.fsw._emitRaw\n    });\n  } else {\n    closer = setFsWatchListener(path, absolutePath, options, {\n      listener,\n      errHandler: this._boundHandleError,\n      rawEmitter: this.fsw._emitRaw\n    });\n  }\n  return closer;\n}\n\n/**\n * Watch a file and emit add event if warranted.\n * @param {Path} file Path\n * @param {fs.Stats} stats result of fs_stat\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @returns {Function} closer for the watcher instance\n */\n_handleFile(file, stats, initialAdd) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const dirname = sysPath.dirname(file);\n  const basename = sysPath.basename(file);\n  const parent = this.fsw._getWatchedDir(dirname);\n  // stats is always present\n  let prevStats = stats;\n\n  // if the file is already being watched, do nothing\n  if (parent.has(basename)) return;\n\n  const listener = async (path, newStats) => {\n    if (!this.fsw._throttle(THROTTLE_MODE_WATCH, file, 5)) return;\n    if (!newStats || newStats.mtimeMs === 0) {\n      try {\n        const newStats = await stat(file);\n        if (this.fsw.closed) return;\n        // Check that change event was not fired because of changed only accessTime.\n        const at = newStats.atimeMs;\n        const mt = newStats.mtimeMs;\n        if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n          this.fsw._emit(EV_CHANGE, file, newStats);\n        }\n        if (isLinux && prevStats.ino !== newStats.ino) {\n          this.fsw._closeFile(path)\n          prevStats = newStats;\n          this.fsw._addPathCloser(path, this._watchWithNodeFs(file, listener));\n        } else {\n          prevStats = newStats;\n        }\n      } catch (error) {\n        // Fix issues where mtime is null but file is still present\n        this.fsw._remove(dirname, basename);\n      }\n      // add is about to be emitted if file not already tracked in parent\n    } else if (parent.has(basename)) {\n      // Check that change event was not fired because of changed only accessTime.\n      const at = newStats.atimeMs;\n      const mt = newStats.mtimeMs;\n      if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n        this.fsw._emit(EV_CHANGE, file, newStats);\n      }\n      prevStats = newStats;\n    }\n  }\n  // kick off the watcher\n  const closer = this._watchWithNodeFs(file, listener);\n\n  // emit an add event if we're supposed to\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && this.fsw._isntIgnored(file)) {\n    if (!this.fsw._throttle(EV_ADD, file, 0)) return;\n    this.fsw._emit(EV_ADD, file, stats);\n  }\n\n  return closer;\n}\n\n/**\n * Handle symlinks encountered while reading a dir.\n * @param {Object} entry returned by readdirp\n * @param {String} directory path of dir being read\n * @param {String} path of this item\n * @param {String} item basename of this item\n * @returns {Promise<Boolean>} true if no more processing is needed for this entry.\n */\nasync _handleSymlink(entry, directory, path, item) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const full = entry.fullPath;\n  const dir = this.fsw._getWatchedDir(directory);\n\n  if (!this.fsw.options.followSymlinks) {\n    // watch symlink directly (don't follow) and detect changes\n    this.fsw._incrReadyCount();\n    const linkPath = await fsrealpath(path);\n    if (this.fsw.closed) return;\n    if (dir.has(item)) {\n      if (this.fsw._symlinkPaths.get(full) !== linkPath) {\n        this.fsw._symlinkPaths.set(full, linkPath);\n        this.fsw._emit(EV_CHANGE, path, entry.stats);\n      }\n    } else {\n      dir.add(item);\n      this.fsw._symlinkPaths.set(full, linkPath);\n      this.fsw._emit(EV_ADD, path, entry.stats);\n    }\n    this.fsw._emitReady();\n    return true;\n  }\n\n  // don't follow the same symlink more than once\n  if (this.fsw._symlinkPaths.has(full)) {\n    return true;\n  }\n\n  this.fsw._symlinkPaths.set(full, true);\n}\n\n_handleRead(directory, initialAdd, wh, target, dir, depth, throttler) {\n  // Normalize the directory name on Windows\n  directory = sysPath.join(directory, EMPTY_STR);\n\n  if (!wh.hasGlob) {\n    throttler = this.fsw._throttle('readdir', directory, 1000);\n    if (!throttler) return;\n  }\n\n  const previous = this.fsw._getWatchedDir(wh.path);\n  const current = new Set();\n\n  let stream = this.fsw._readdirp(directory, {\n    fileFilter: entry => wh.filterPath(entry),\n    directoryFilter: entry => wh.filterDir(entry),\n    depth: 0\n  }).on(STR_DATA, async (entry) => {\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    const item = entry.path;\n    let path = sysPath.join(directory, item);\n    current.add(item);\n\n    if (entry.stats.isSymbolicLink() && await this._handleSymlink(entry, directory, path, item)) {\n      return;\n    }\n\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    // Files that present in current directory snapshot\n    // but absent in previous are added to watch list and\n    // emit `add` event.\n    if (item === target || !target && !previous.has(item)) {\n      this.fsw._incrReadyCount();\n\n      // ensure relativeness of path is preserved in case of watcher reuse\n      path = sysPath.join(dir, sysPath.relative(dir, path));\n\n      this._addToNodeFs(path, initialAdd, wh, depth + 1);\n    }\n  }).on(EV_ERROR, this._boundHandleError);\n\n  return new Promise(resolve =>\n    stream.once(STR_END, () => {\n      if (this.fsw.closed) {\n        stream = undefined;\n        return;\n      }\n      const wasThrottled = throttler ? throttler.clear() : false;\n\n      resolve();\n\n      // Files that absent in current directory snapshot\n      // but present in previous emit `remove` event\n      // and are removed from @watched[directory].\n      previous.getChildren().filter((item) => {\n        return item !== directory &&\n          !current.has(item) &&\n          // in case of intersecting globs;\n          // a path may have been filtered out of this readdir, but\n          // shouldn't be removed because it matches a different glob\n          (!wh.hasGlob || wh.filterPath({\n            fullPath: sysPath.resolve(directory, item)\n          }));\n      }).forEach((item) => {\n        this.fsw._remove(directory, item);\n      });\n\n      stream = undefined;\n\n      // one more time for any missed in case changes came in extremely quickly\n      if (wasThrottled) this._handleRead(directory, false, wh, target, dir, depth, throttler);\n    })\n  );\n}\n\n/**\n * Read directory to add / remove files from `@watched` list and re-read it on change.\n * @param {String} dir fs path\n * @param {fs.Stats} stats\n * @param {Boolean} initialAdd\n * @param {Number} depth relative to user-supplied path\n * @param {String} target child path targeted for watch\n * @param {Object} wh Common watch helpers for this path\n * @param {String} realpath\n * @returns {Promise<Function>} closer for the watcher instance.\n */\nasync _handleDir(dir, stats, initialAdd, depth, target, wh, realpath) {\n  const parentDir = this.fsw._getWatchedDir(sysPath.dirname(dir));\n  const tracked = parentDir.has(sysPath.basename(dir));\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && !target && !tracked) {\n    if (!wh.hasGlob || wh.globFilter(dir)) this.fsw._emit(EV_ADD_DIR, dir, stats);\n  }\n\n  // ensure dir is tracked (harmless if redundant)\n  parentDir.add(sysPath.basename(dir));\n  this.fsw._getWatchedDir(dir);\n  let throttler;\n  let closer;\n\n  const oDepth = this.fsw.options.depth;\n  if ((oDepth == null || depth <= oDepth) && !this.fsw._symlinkPaths.has(realpath)) {\n    if (!target) {\n      await this._handleRead(dir, initialAdd, wh, target, dir, depth, throttler);\n      if (this.fsw.closed) return;\n    }\n\n    closer = this._watchWithNodeFs(dir, (dirPath, stats) => {\n      // if current directory is removed, do nothing\n      if (stats && stats.mtimeMs === 0) return;\n\n      this._handleRead(dirPath, false, wh, target, dir, depth, throttler);\n    });\n  }\n  return closer;\n}\n\n/**\n * Handle added file, directory, or glob pattern.\n * Delegates call to _handleFile / _handleDir after checks.\n * @param {String} path to file or ir\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @param {Object} priorWh depth relative to user-supplied path\n * @param {Number} depth Child path actually targeted for watch\n * @param {String=} target Child path actually targeted for watch\n * @returns {Promise}\n */\nasync _addToNodeFs(path, initialAdd, priorWh, depth, target) {\n  const ready = this.fsw._emitReady;\n  if (this.fsw._isIgnored(path) || this.fsw.closed) {\n    ready();\n    return false;\n  }\n\n  const wh = this.fsw._getWatchHelpers(path, depth);\n  if (!wh.hasGlob && priorWh) {\n    wh.hasGlob = priorWh.hasGlob;\n    wh.globFilter = priorWh.globFilter;\n    wh.filterPath = entry => priorWh.filterPath(entry);\n    wh.filterDir = entry => priorWh.filterDir(entry);\n  }\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      ready();\n      return false;\n    }\n\n    const follow = this.fsw.options.followSymlinks && !path.includes(STAR) && !path.includes(BRACE_START);\n    let closer;\n    if (stats.isDirectory()) {\n      const absPath = sysPath.resolve(path);\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      closer = await this._handleDir(wh.watchPath, stats, initialAdd, depth, target, wh, targetPath);\n      if (this.fsw.closed) return;\n      // preserve this symlink's target path\n      if (absPath !== targetPath && targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(absPath, targetPath);\n      }\n    } else if (stats.isSymbolicLink()) {\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      const parent = sysPath.dirname(wh.watchPath);\n      this.fsw._getWatchedDir(parent).add(wh.watchPath);\n      this.fsw._emit(EV_ADD, wh.watchPath, stats);\n      closer = await this._handleDir(parent, stats, initialAdd, depth, path, wh, targetPath);\n      if (this.fsw.closed) return;\n\n      // preserve this symlink's target path\n      if (targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(sysPath.resolve(path), targetPath);\n      }\n    } else {\n      closer = this._handleFile(wh.watchPath, stats, initialAdd);\n    }\n    ready();\n\n    this.fsw._addPathCloser(path, closer);\n    return false;\n\n  } catch (error) {\n    if (this.fsw._handleError(error)) {\n      ready();\n      return path;\n    }\n  }\n}\n\n}\n\nmodule.exports = NodeFsHandler;\n", "'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\n\nlet fsevents;\ntry {\n  fsevents = require('fsevents');\n} catch (error) {\n  if (process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR) console.error(error);\n}\n\nif (fsevents) {\n  // TODO: real check\n  const mtch = process.version.match(/v(\\d+)\\.(\\d+)/);\n  if (mtch && mtch[1] && mtch[2]) {\n    const maj = Number.parseInt(mtch[1], 10);\n    const min = Number.parseInt(mtch[2], 10);\n    if (maj === 8 && min < 16) {\n      fsevents = undefined;\n    }\n  }\n}\n\nconst {\n  EV_ADD,\n  EV_CHANGE,\n  EV_ADD_DIR,\n  EV_UNLINK,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  FSEVENT_CREATED,\n  FSEVENT_MODIFIED,\n  FSEVENT_DELETED,\n  FSEVENT_MOVED,\n  // FSEVENT_CLONED,\n  FSEVENT_UNKNOWN,\n  FSEVENT_TYPE_FILE,\n  FSEVENT_TYPE_DIRECTORY,\n  FSEVENT_TYPE_SYMLINK,\n\n  ROOT_GLOBSTAR,\n  DIR_SUFFIX,\n  DOT_SLASH,\n  FUNCTION_TYPE,\n  EMPTY_FN,\n  IDENTITY_FN\n} = require('./constants');\n\nconst Depth = (value) => isNaN(value) ? {} : {depth: value};\n\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\nconst statMethods = { stat, lstat };\n\n/**\n * @typedef {String} Path\n */\n\n/**\n * @typedef {Object} FsEventsWatchContainer\n * @property {Set<Function>} listeners\n * @property {Function} rawEmitter\n * @property {{stop: Function}} watcher\n */\n\n// fsevents instance helper functions\n/**\n * Object to hold per-process fsevents instances (may be shared across chokidar FSWatcher instances)\n * @type {Map<Path,FsEventsWatchContainer>}\n */\nconst FSEventsWatchers = new Map();\n\n// Threshold of duplicate path prefixes at which to start\n// consolidating going forward\nconst consolidateThreshhold = 10;\n\nconst wrongEventFlags = new Set([\n  69888, 70400, 71424, 72704, 73472, 131328, 131840, 262912\n]);\n\n/**\n * Instantiates the fsevents interface\n * @param {Path} path path to be watched\n * @param {Function} callback called when fsevents is bound and ready\n * @returns {{stop: Function}} new fsevents instance\n */\nconst createFSEventsInstance = (path, callback) => {\n  const stop = fsevents.watch(path, callback);\n  return {stop};\n};\n\n/**\n * Instantiates the fsevents interface or binds listeners to an existing one covering\n * the same file tree.\n * @param {Path} path           - to be watched\n * @param {Path} realPath       - real path for symlinks\n * @param {Function} listener   - called when fsevents emits events\n * @param {Function} rawEmitter - passes data to listeners of the 'raw' event\n * @returns {Function} closer\n */\nfunction setFSEventsListener(path, realPath, listener, rawEmitter) {\n  let watchPath = sysPath.extname(realPath) ? sysPath.dirname(realPath) : realPath;\n\n  const parentPath = sysPath.dirname(watchPath);\n  let cont = FSEventsWatchers.get(watchPath);\n\n  // If we've accumulated a substantial number of paths that\n  // could have been consolidated by watching one directory\n  // above the current one, create a watcher on the parent\n  // path instead, so that we do consolidate going forward.\n  if (couldConsolidate(parentPath)) {\n    watchPath = parentPath;\n  }\n\n  const resolvedPath = sysPath.resolve(path);\n  const hasSymlink = resolvedPath !== realPath;\n\n  const filteredListener = (fullPath, flags, info) => {\n    if (hasSymlink) fullPath = fullPath.replace(realPath, resolvedPath);\n    if (\n      fullPath === resolvedPath ||\n      !fullPath.indexOf(resolvedPath + sysPath.sep)\n    ) listener(fullPath, flags, info);\n  };\n\n  // check if there is already a watcher on a parent path\n  // modifies `watchPath` to the parent path when it finds a match\n  let watchedParent = false;\n  for (const watchedPath of FSEventsWatchers.keys()) {\n    if (realPath.indexOf(sysPath.resolve(watchedPath) + sysPath.sep) === 0) {\n      watchPath = watchedPath;\n      cont = FSEventsWatchers.get(watchPath);\n      watchedParent = true;\n      break;\n    }\n  }\n\n  if (cont || watchedParent) {\n    cont.listeners.add(filteredListener);\n  } else {\n    cont = {\n      listeners: new Set([filteredListener]),\n      rawEmitter,\n      watcher: createFSEventsInstance(watchPath, (fullPath, flags) => {\n        if (!cont.listeners.size) return;\n        const info = fsevents.getInfo(fullPath, flags);\n        cont.listeners.forEach(list => {\n          list(fullPath, flags, info);\n        });\n\n        cont.rawEmitter(info.event, fullPath, info);\n      })\n    };\n    FSEventsWatchers.set(watchPath, cont);\n  }\n\n  // removes this instance's listeners and closes the underlying fsevents\n  // instance if there are no more listeners left\n  return () => {\n    const lst = cont.listeners;\n\n    lst.delete(filteredListener);\n    if (!lst.size) {\n      FSEventsWatchers.delete(watchPath);\n      if (cont.watcher) return cont.watcher.stop().then(() => {\n        cont.rawEmitter = cont.watcher = undefined;\n        Object.freeze(cont);\n      });\n    }\n  };\n}\n\n// Decide whether or not we should start a new higher-level\n// parent watcher\nconst couldConsolidate = (path) => {\n  let count = 0;\n  for (const watchPath of FSEventsWatchers.keys()) {\n    if (watchPath.indexOf(path) === 0) {\n      count++;\n      if (count >= consolidateThreshhold) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n// returns boolean indicating whether fsevents can be used\nconst canUse = () => fsevents && FSEventsWatchers.size < 128;\n\n// determines subdirectory traversal levels from root to path\nconst calcDepth = (path, root) => {\n  let i = 0;\n  while (!path.indexOf(root) && (path = sysPath.dirname(path)) !== root) i++;\n  return i;\n};\n\n// returns boolean indicating whether the fsevents' event info has the same type\n// as the one returned by fs.stat\nconst sameTypes = (info, stats) => (\n  info.type === FSEVENT_TYPE_DIRECTORY && stats.isDirectory() ||\n  info.type === FSEVENT_TYPE_SYMLINK && stats.isSymbolicLink() ||\n  info.type === FSEVENT_TYPE_FILE && stats.isFile()\n)\n\n/**\n * @mixin\n */\nclass FsEventsHandler {\n\n/**\n * @param {import('../index').FSWatcher} fsw\n */\nconstructor(fsw) {\n  this.fsw = fsw;\n}\ncheckIgnored(path, stats) {\n  const ipaths = this.fsw._ignoredPaths;\n  if (this.fsw._isIgnored(path, stats)) {\n    ipaths.add(path);\n    if (stats && stats.isDirectory()) {\n      ipaths.add(path + ROOT_GLOBSTAR);\n    }\n    return true;\n  }\n\n  ipaths.delete(path);\n  ipaths.delete(path + ROOT_GLOBSTAR);\n}\n\naddOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  const event = watchedDir.has(item) ? EV_CHANGE : EV_ADD;\n  this.handleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n}\n\nasync checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  try {\n    const stats = await stat(path)\n    if (this.fsw.closed) return;\n    if (sameTypes(info, stats)) {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  } catch (error) {\n    if (error.code === 'EACCES') {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  }\n}\n\nhandleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  if (this.fsw.closed || this.checkIgnored(path)) return;\n\n  if (event === EV_UNLINK) {\n    const isDirectory = info.type === FSEVENT_TYPE_DIRECTORY\n    // suppress unlink events on never before seen files\n    if (isDirectory || watchedDir.has(item)) {\n      this.fsw._remove(parent, item, isDirectory);\n    }\n  } else {\n    if (event === EV_ADD) {\n      // track new directories\n      if (info.type === FSEVENT_TYPE_DIRECTORY) this.fsw._getWatchedDir(path);\n\n      if (info.type === FSEVENT_TYPE_SYMLINK && opts.followSymlinks) {\n        // push symlinks back to the top of the stack to get handled\n        const curDepth = opts.depth === undefined ?\n          undefined : calcDepth(fullPath, realPath) + 1;\n        return this._addToFsEvents(path, false, true, curDepth);\n      }\n\n      // track new paths\n      // (other than symlinks being followed, which will be tracked soon)\n      this.fsw._getWatchedDir(parent).add(item);\n    }\n    /**\n     * @type {'add'|'addDir'|'unlink'|'unlinkDir'}\n     */\n    const eventName = info.type === FSEVENT_TYPE_DIRECTORY ? event + DIR_SUFFIX : event;\n    this.fsw._emit(eventName, path);\n    if (eventName === EV_ADD_DIR) this._addToFsEvents(path, false, true);\n  }\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} watchPath  - file/dir path to be watched with fsevents\n * @param {String} realPath   - real path (in case of symlinks)\n * @param {Function} transform  - path transformer\n * @param {Function} globFilter - path filter in case a glob pattern was provided\n * @returns {Function} closer for the watcher instance\n*/\n_watchWithFsEvents(watchPath, realPath, transform, globFilter) {\n  if (this.fsw.closed || this.fsw._isIgnored(watchPath)) return;\n  const opts = this.fsw.options;\n  const watchCallback = async (fullPath, flags, info) => {\n    if (this.fsw.closed) return;\n    if (\n      opts.depth !== undefined &&\n      calcDepth(fullPath, realPath) > opts.depth\n    ) return;\n    const path = transform(sysPath.join(\n      watchPath, sysPath.relative(watchPath, fullPath)\n    ));\n    if (globFilter && !globFilter(path)) return;\n    // ensure directories are tracked\n    const parent = sysPath.dirname(path);\n    const item = sysPath.basename(path);\n    const watchedDir = this.fsw._getWatchedDir(\n      info.type === FSEVENT_TYPE_DIRECTORY ? path : parent\n    );\n\n    // correct for wrong events emitted\n    if (wrongEventFlags.has(flags) || info.event === FSEVENT_UNKNOWN) {\n      if (typeof opts.ignored === FUNCTION_TYPE) {\n        let stats;\n        try {\n          stats = await stat(path);\n        } catch (error) {}\n        if (this.fsw.closed) return;\n        if (this.checkIgnored(path, stats)) return;\n        if (sameTypes(info, stats)) {\n          this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        } else {\n          this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        }\n      } else {\n        this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    } else {\n      switch (info.event) {\n      case FSEVENT_CREATED:\n      case FSEVENT_MODIFIED:\n        return this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      case FSEVENT_DELETED:\n      case FSEVENT_MOVED:\n        return this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    }\n  };\n\n  const closer = setFSEventsListener(\n    watchPath,\n    realPath,\n    watchCallback,\n    this.fsw._emitRaw\n  );\n\n  this.fsw._emitReady();\n  return closer;\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} linkPath path to symlink\n * @param {String} fullPath absolute path to the symlink\n * @param {Function} transform pre-existing path transformer\n * @param {Number} curDepth level of subdirectories traversed to where symlink is\n * @returns {Promise<void>}\n */\nasync _handleFsEventsSymlink(linkPath, fullPath, transform, curDepth) {\n  // don't follow the same symlink more than once\n  if (this.fsw.closed || this.fsw._symlinkPaths.has(fullPath)) return;\n\n  this.fsw._symlinkPaths.set(fullPath, true);\n  this.fsw._incrReadyCount();\n\n  try {\n    const linkTarget = await realpath(linkPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(linkTarget)) {\n      return this.fsw._emitReady();\n    }\n\n    this.fsw._incrReadyCount();\n\n    // add the linkTarget for watching with a wrapper for transform\n    // that causes emitted paths to incorporate the link's path\n    this._addToFsEvents(linkTarget || linkPath, (path) => {\n      let aliasedPath = linkPath;\n      if (linkTarget && linkTarget !== DOT_SLASH) {\n        aliasedPath = path.replace(linkTarget, linkPath);\n      } else if (path !== DOT_SLASH) {\n        aliasedPath = sysPath.join(linkPath, path);\n      }\n      return transform(aliasedPath);\n    }, false, curDepth);\n  } catch(error) {\n    if (this.fsw._handleError(error)) {\n      return this.fsw._emitReady();\n    }\n  }\n}\n\n/**\n *\n * @param {Path} newPath\n * @param {fs.Stats} stats\n */\nemitAdd(newPath, stats, processPath, opts, forceAdd) {\n  const pp = processPath(newPath);\n  const isDir = stats.isDirectory();\n  const dirObj = this.fsw._getWatchedDir(sysPath.dirname(pp));\n  const base = sysPath.basename(pp);\n\n  // ensure empty dirs get tracked\n  if (isDir) this.fsw._getWatchedDir(pp);\n  if (dirObj.has(base)) return;\n  dirObj.add(base);\n\n  if (!opts.ignoreInitial || forceAdd === true) {\n    this.fsw._emit(isDir ? EV_ADD_DIR : EV_ADD, pp, stats);\n  }\n}\n\ninitWatch(realPath, path, wh, processPath) {\n  if (this.fsw.closed) return;\n  const closer = this._watchWithFsEvents(\n    wh.watchPath,\n    sysPath.resolve(realPath || wh.watchPath),\n    processPath,\n    wh.globFilter\n  );\n  this.fsw._addPathCloser(path, closer);\n}\n\n/**\n * Handle added path with fsevents\n * @param {String} path file/dir path or glob pattern\n * @param {Function|Boolean=} transform converts working path to what the user expects\n * @param {Boolean=} forceAdd ensure add is emitted\n * @param {Number=} priorDepth Level of subdirectories already traversed.\n * @returns {Promise<void>}\n */\nasync _addToFsEvents(path, transform, forceAdd, priorDepth) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const opts = this.fsw.options;\n  const processPath = typeof transform === FUNCTION_TYPE ? transform : IDENTITY_FN;\n\n  const wh = this.fsw._getWatchHelpers(path);\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      throw null;\n    }\n    if (stats.isDirectory()) {\n      // emit addDir unless this is a glob parent\n      if (!wh.globFilter) this.emitAdd(processPath(path), stats, processPath, opts, forceAdd);\n\n      // don't recurse further if it would exceed depth setting\n      if (priorDepth && priorDepth > opts.depth) return;\n\n      // scan the contents of the dir\n      this.fsw._readdirp(wh.watchPath, {\n        fileFilter: entry => wh.filterPath(entry),\n        directoryFilter: entry => wh.filterDir(entry),\n        ...Depth(opts.depth - (priorDepth || 0))\n      }).on(STR_DATA, (entry) => {\n        // need to check filterPath on dirs b/c filterDir is less restrictive\n        if (this.fsw.closed) {\n          return;\n        }\n        if (entry.stats.isDirectory() && !wh.filterPath(entry)) return;\n\n        const joinedPath = sysPath.join(wh.watchPath, entry.path);\n        const {fullPath} = entry;\n\n        if (wh.followSymlinks && entry.stats.isSymbolicLink()) {\n          // preserve the current depth here since it can't be derived from\n          // real paths past the symlink\n          const curDepth = opts.depth === undefined ?\n            undefined : calcDepth(joinedPath, sysPath.resolve(wh.watchPath)) + 1;\n\n          this._handleFsEventsSymlink(joinedPath, fullPath, processPath, curDepth);\n        } else {\n          this.emitAdd(joinedPath, entry.stats, processPath, opts, forceAdd);\n        }\n      }).on(EV_ERROR, EMPTY_FN).on(STR_END, () => {\n        this.fsw._emitReady();\n      });\n    } else {\n      this.emitAdd(wh.watchPath, stats, processPath, opts, forceAdd);\n      this.fsw._emitReady();\n    }\n  } catch (error) {\n    if (!error || this.fsw._handleError(error)) {\n      // TODO: Strange thing: \"should not choke on an ignored watch path\" will be failed without 2 ready calls -__-\n      this.fsw._emitReady();\n      this.fsw._emitReady();\n    }\n  }\n\n  if (opts.persistent && forceAdd !== true) {\n    if (typeof transform === FUNCTION_TYPE) {\n      // realpath has already been resolved\n      this.initWatch(undefined, path, wh, processPath);\n    } else {\n      let realPath;\n      try {\n        realPath = await realpath(wh.watchPath);\n      } catch (e) {}\n      this.initWatch(realPath, path, wh, processPath);\n    }\n  }\n}\n\n}\n\nmodule.exports = FsEventsHandler;\nmodule.exports.canUse = canUse;\n", "'use strict';\n\nconst { EventEmitter } = require('events');\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst readdirp = require('readdirp');\nconst anymatch = require('anymatch').default;\nconst globParent = require('glob-parent');\nconst isGlob = require('is-glob');\nconst braces = require('braces');\nconst normalizePath = require('normalize-path');\n\nconst NodeFsHandler = require('./lib/nodefs-handler');\nconst FsEventsHandler = require('./lib/fsevents-handler');\nconst {\n  EV_ALL,\n  EV_READY,\n  EV_ADD,\n  EV_CHANGE,\n  EV_UNLINK,\n  EV_ADD_DIR,\n  EV_UNLINK_DIR,\n  EV_RAW,\n  EV_ERROR,\n\n  STR_CLOSE,\n  STR_END,\n\n  BACK_SLASH_RE,\n  DOUBLE_SLASH_RE,\n  SLASH_OR_BACK_SLASH_RE,\n  DOT_RE,\n  REPLACER_RE,\n\n  SLASH,\n  SLASH_SLASH,\n  BRACE_START,\n  BANG,\n  ONE_DOT,\n  TWO_DOTS,\n  GLOBSTAR,\n  SLASH_GLOBSTAR,\n  ANYMATCH_OPTS,\n  STRING_TYPE,\n  FUNCTION_TYPE,\n  EMPTY_STR,\n  EMPTY_FN,\n\n  isWindows,\n  isMacos,\n  isIBMi\n} = require('./lib/constants');\n\nconst stat = promisify(fs.stat);\nconst readdir = promisify(fs.readdir);\n\n/**\n * @typedef {String} Path\n * @typedef {'all'|'add'|'addDir'|'change'|'unlink'|'unlinkDir'|'raw'|'error'|'ready'} EventName\n * @typedef {'readdir'|'watch'|'add'|'remove'|'change'} ThrottleType\n */\n\n/**\n *\n * @typedef {Object} WatchHelpers\n * @property {Boolean} followSymlinks\n * @property {'stat'|'lstat'} statMethod\n * @property {Path} path\n * @property {Path} watchPath\n * @property {Function} entryPath\n * @property {Boolean} hasGlob\n * @property {Object} globFilter\n * @property {Function} filterPath\n * @property {Function} filterDir\n */\n\nconst arrify = (value = []) => Array.isArray(value) ? value : [value];\nconst flatten = (list, result = []) => {\n  list.forEach(item => {\n    if (Array.isArray(item)) {\n      flatten(item, result);\n    } else {\n      result.push(item);\n    }\n  });\n  return result;\n};\n\nconst unifyPaths = (paths_) => {\n  /**\n   * @type {Array<String>}\n   */\n  const paths = flatten(arrify(paths_));\n  if (!paths.every(p => typeof p === STRING_TYPE)) {\n    throw new TypeError(`Non-string provided as watch path: ${paths}`);\n  }\n  return paths.map(normalizePathToUnix);\n};\n\n// If SLASH_SLASH occurs at the beginning of path, it is not replaced\n//     because \"//StoragePC/DrivePool/Movies\" is a valid network path\nconst toUnix = (string) => {\n  let str = string.replace(BACK_SLASH_RE, SLASH);\n  let prepend = false;\n  if (str.startsWith(SLASH_SLASH)) {\n    prepend = true;\n  }\n  while (str.match(DOUBLE_SLASH_RE)) {\n    str = str.replace(DOUBLE_SLASH_RE, SLASH);\n  }\n  if (prepend) {\n    str = SLASH + str;\n  }\n  return str;\n};\n\n// Our version of upath.normalize\n// TODO: this is not equal to path-normalize module - investigate why\nconst normalizePathToUnix = (path) => toUnix(sysPath.normalize(toUnix(path)));\n\nconst normalizeIgnored = (cwd = EMPTY_STR) => (path) => {\n  if (typeof path !== STRING_TYPE) return path;\n  return normalizePathToUnix(sysPath.isAbsolute(path) ? path : sysPath.join(cwd, path));\n};\n\nconst getAbsolutePath = (path, cwd) => {\n  if (sysPath.isAbsolute(path)) {\n    return path;\n  }\n  if (path.startsWith(BANG)) {\n    return BANG + sysPath.join(cwd, path.slice(1));\n  }\n  return sysPath.join(cwd, path);\n};\n\nconst undef = (opts, key) => opts[key] === undefined;\n\n/**\n * Directory entry.\n * @property {Path} path\n * @property {Set<Path>} items\n */\nclass DirEntry {\n  /**\n   * @param {Path} dir\n   * @param {Function} removeWatcher\n   */\n  constructor(dir, removeWatcher) {\n    this.path = dir;\n    this._removeWatcher = removeWatcher;\n    /** @type {Set<Path>} */\n    this.items = new Set();\n  }\n\n  add(item) {\n    const {items} = this;\n    if (!items) return;\n    if (item !== ONE_DOT && item !== TWO_DOTS) items.add(item);\n  }\n\n  async remove(item) {\n    const {items} = this;\n    if (!items) return;\n    items.delete(item);\n    if (items.size > 0) return;\n\n    const dir = this.path;\n    try {\n      await readdir(dir);\n    } catch (err) {\n      if (this._removeWatcher) {\n        this._removeWatcher(sysPath.dirname(dir), sysPath.basename(dir));\n      }\n    }\n  }\n\n  has(item) {\n    const {items} = this;\n    if (!items) return;\n    return items.has(item);\n  }\n\n  /**\n   * @returns {Array<String>}\n   */\n  getChildren() {\n    const {items} = this;\n    if (!items) return;\n    return [...items.values()];\n  }\n\n  dispose() {\n    this.items.clear();\n    delete this.path;\n    delete this._removeWatcher;\n    delete this.items;\n    Object.freeze(this);\n  }\n}\n\nconst STAT_METHOD_F = 'stat';\nconst STAT_METHOD_L = 'lstat';\nclass WatchHelper {\n  constructor(path, watchPath, follow, fsw) {\n    this.fsw = fsw;\n    this.path = path = path.replace(REPLACER_RE, EMPTY_STR);\n    this.watchPath = watchPath;\n    this.fullWatchPath = sysPath.resolve(watchPath);\n    this.hasGlob = watchPath !== path;\n    /** @type {object|boolean} */\n    if (path === EMPTY_STR) this.hasGlob = false;\n    this.globSymlink = this.hasGlob && follow ? undefined : false;\n    this.globFilter = this.hasGlob ? anymatch(path, undefined, ANYMATCH_OPTS) : false;\n    this.dirParts = this.getDirParts(path);\n    this.dirParts.forEach((parts) => {\n      if (parts.length > 1) parts.pop();\n    });\n    this.followSymlinks = follow;\n    this.statMethod = follow ? STAT_METHOD_F : STAT_METHOD_L;\n  }\n\n  checkGlobSymlink(entry) {\n    // only need to resolve once\n    // first entry should always have entry.parentDir === EMPTY_STR\n    if (this.globSymlink === undefined) {\n      this.globSymlink = entry.fullParentDir === this.fullWatchPath ?\n        false : {realPath: entry.fullParentDir, linkPath: this.fullWatchPath};\n    }\n\n    if (this.globSymlink) {\n      return entry.fullPath.replace(this.globSymlink.realPath, this.globSymlink.linkPath);\n    }\n\n    return entry.fullPath;\n  }\n\n  entryPath(entry) {\n    return sysPath.join(this.watchPath,\n      sysPath.relative(this.watchPath, this.checkGlobSymlink(entry))\n    );\n  }\n\n  filterPath(entry) {\n    const {stats} = entry;\n    if (stats && stats.isSymbolicLink()) return this.filterDir(entry);\n    const resolvedPath = this.entryPath(entry);\n    const matchesGlob = this.hasGlob && typeof this.globFilter === FUNCTION_TYPE ?\n      this.globFilter(resolvedPath) : true;\n    return matchesGlob &&\n      this.fsw._isntIgnored(resolvedPath, stats) &&\n      this.fsw._hasReadPermissions(stats);\n  }\n\n  getDirParts(path) {\n    if (!this.hasGlob) return [];\n    const parts = [];\n    const expandedPath = path.includes(BRACE_START) ? braces.expand(path) : [path];\n    expandedPath.forEach((path) => {\n      parts.push(sysPath.relative(this.watchPath, path).split(SLASH_OR_BACK_SLASH_RE));\n    });\n    return parts;\n  }\n\n  filterDir(entry) {\n    if (this.hasGlob) {\n      const entryParts = this.getDirParts(this.checkGlobSymlink(entry));\n      let globstar = false;\n      this.unmatchedGlob = !this.dirParts.some((parts) => {\n        return parts.every((part, i) => {\n          if (part === GLOBSTAR) globstar = true;\n          return globstar || !entryParts[0][i] || anymatch(part, entryParts[0][i], ANYMATCH_OPTS);\n        });\n      });\n    }\n    return !this.unmatchedGlob && this.fsw._isntIgnored(this.entryPath(entry), entry.stats);\n  }\n}\n\n/**\n * Watches files & directories for changes. Emitted events:\n * `add`, `addDir`, `change`, `unlink`, `unlinkDir`, `all`, `error`\n *\n *     new FSWatcher()\n *       .add(directories)\n *       .on('add', path => log('File', path, 'was added'))\n */\nclass FSWatcher extends EventEmitter {\n// Not indenting methods for history sake; for now.\nconstructor(_opts) {\n  super();\n\n  const opts = {};\n  if (_opts) Object.assign(opts, _opts); // for frozen objects\n\n  /** @type {Map<String, DirEntry>} */\n  this._watched = new Map();\n  /** @type {Map<String, Array>} */\n  this._closers = new Map();\n  /** @type {Set<String>} */\n  this._ignoredPaths = new Set();\n\n  /** @type {Map<ThrottleType, Map>} */\n  this._throttled = new Map();\n\n  /** @type {Map<Path, String|Boolean>} */\n  this._symlinkPaths = new Map();\n\n  this._streams = new Set();\n  this.closed = false;\n\n  // Set up default options.\n  if (undef(opts, 'persistent')) opts.persistent = true;\n  if (undef(opts, 'ignoreInitial')) opts.ignoreInitial = false;\n  if (undef(opts, 'ignorePermissionErrors')) opts.ignorePermissionErrors = false;\n  if (undef(opts, 'interval')) opts.interval = 100;\n  if (undef(opts, 'binaryInterval')) opts.binaryInterval = 300;\n  if (undef(opts, 'disableGlobbing')) opts.disableGlobbing = false;\n  opts.enableBinaryInterval = opts.binaryInterval !== opts.interval;\n\n  // Enable fsevents on OS X when polling isn't explicitly enabled.\n  if (undef(opts, 'useFsEvents')) opts.useFsEvents = !opts.usePolling;\n\n  // If we can't use fsevents, ensure the options reflect it's disabled.\n  const canUseFsEvents = FsEventsHandler.canUse();\n  if (!canUseFsEvents) opts.useFsEvents = false;\n\n  // Use polling on Mac if not using fsevents.\n  // Other platforms use non-polling fs_watch.\n  if (undef(opts, 'usePolling') && !opts.useFsEvents) {\n    opts.usePolling = isMacos;\n  }\n\n  // Always default to polling on IBM i because fs.watch() is not available on IBM i.\n  if(isIBMi) {\n    opts.usePolling = true;\n  }\n\n  // Global override (useful for end-developers that need to force polling for all\n  // instances of chokidar, regardless of usage/dependency depth)\n  const envPoll = process.env.CHOKIDAR_USEPOLLING;\n  if (envPoll !== undefined) {\n    const envLower = envPoll.toLowerCase();\n\n    if (envLower === 'false' || envLower === '0') {\n      opts.usePolling = false;\n    } else if (envLower === 'true' || envLower === '1') {\n      opts.usePolling = true;\n    } else {\n      opts.usePolling = !!envLower;\n    }\n  }\n  const envInterval = process.env.CHOKIDAR_INTERVAL;\n  if (envInterval) {\n    opts.interval = Number.parseInt(envInterval, 10);\n  }\n\n  // Editor atomic write normalization enabled by default with fs.watch\n  if (undef(opts, 'atomic')) opts.atomic = !opts.usePolling && !opts.useFsEvents;\n  if (opts.atomic) this._pendingUnlinks = new Map();\n\n  if (undef(opts, 'followSymlinks')) opts.followSymlinks = true;\n\n  if (undef(opts, 'awaitWriteFinish')) opts.awaitWriteFinish = false;\n  if (opts.awaitWriteFinish === true) opts.awaitWriteFinish = {};\n  const awf = opts.awaitWriteFinish;\n  if (awf) {\n    if (!awf.stabilityThreshold) awf.stabilityThreshold = 2000;\n    if (!awf.pollInterval) awf.pollInterval = 100;\n    this._pendingWrites = new Map();\n  }\n  if (opts.ignored) opts.ignored = arrify(opts.ignored);\n\n  let readyCalls = 0;\n  this._emitReady = () => {\n    readyCalls++;\n    if (readyCalls >= this._readyCount) {\n      this._emitReady = EMPTY_FN;\n      this._readyEmitted = true;\n      // use process.nextTick to allow time for listener to be bound\n      process.nextTick(() => this.emit(EV_READY));\n    }\n  };\n  this._emitRaw = (...args) => this.emit(EV_RAW, ...args);\n  this._readyEmitted = false;\n  this.options = opts;\n\n  // Initialize with proper watcher.\n  if (opts.useFsEvents) {\n    this._fsEventsHandler = new FsEventsHandler(this);\n  } else {\n    this._nodeFsHandler = new NodeFsHandler(this);\n  }\n\n  // You\u2019re frozen when your heart\u2019s not open.\n  Object.freeze(opts);\n}\n\n// Public methods\n\n/**\n * Adds paths to be watched on an existing FSWatcher instance\n * @param {Path|Array<Path>} paths_\n * @param {String=} _origAdd private; for handling non-existent paths to be watched\n * @param {Boolean=} _internal private; indicates a non-user add\n * @returns {FSWatcher} for chaining\n */\nadd(paths_, _origAdd, _internal) {\n  const {cwd, disableGlobbing} = this.options;\n  this.closed = false;\n  let paths = unifyPaths(paths_);\n  if (cwd) {\n    paths = paths.map((path) => {\n      const absPath = getAbsolutePath(path, cwd);\n\n      // Check `path` instead of `absPath` because the cwd portion can't be a glob\n      if (disableGlobbing || !isGlob(path)) {\n        return absPath;\n      }\n      return normalizePath(absPath);\n    });\n  }\n\n  // set aside negated glob strings\n  paths = paths.filter((path) => {\n    if (path.startsWith(BANG)) {\n      this._ignoredPaths.add(path.slice(1));\n      return false;\n    }\n\n    // if a path is being added that was previously ignored, stop ignoring it\n    this._ignoredPaths.delete(path);\n    this._ignoredPaths.delete(path + SLASH_GLOBSTAR);\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n\n    return true;\n  });\n\n  if (this.options.useFsEvents && this._fsEventsHandler) {\n    if (!this._readyCount) this._readyCount = paths.length;\n    if (this.options.persistent) this._readyCount *= 2;\n    paths.forEach((path) => this._fsEventsHandler._addToFsEvents(path));\n  } else {\n    if (!this._readyCount) this._readyCount = 0;\n    this._readyCount += paths.length;\n    Promise.all(\n      paths.map(async path => {\n        const res = await this._nodeFsHandler._addToNodeFs(path, !_internal, 0, 0, _origAdd);\n        if (res) this._emitReady();\n        return res;\n      })\n    ).then(results => {\n      if (this.closed) return;\n      results.filter(item => item).forEach(item => {\n        this.add(sysPath.dirname(item), sysPath.basename(_origAdd || item));\n      });\n    });\n  }\n\n  return this;\n}\n\n/**\n * Close watchers or start ignoring events from specified paths.\n * @param {Path|Array<Path>} paths_ - string or array of strings, file/directory paths and/or globs\n * @returns {FSWatcher} for chaining\n*/\nunwatch(paths_) {\n  if (this.closed) return this;\n  const paths = unifyPaths(paths_);\n  const {cwd} = this.options;\n\n  paths.forEach((path) => {\n    // convert to absolute path unless relative path already matches\n    if (!sysPath.isAbsolute(path) && !this._closers.has(path)) {\n      if (cwd) path = sysPath.join(cwd, path);\n      path = sysPath.resolve(path);\n    }\n\n    this._closePath(path);\n\n    this._ignoredPaths.add(path);\n    if (this._watched.has(path)) {\n      this._ignoredPaths.add(path + SLASH_GLOBSTAR);\n    }\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n  });\n\n  return this;\n}\n\n/**\n * Close watchers and remove all listeners from watched paths.\n * @returns {Promise<void>}.\n*/\nclose() {\n  if (this.closed) return this._closePromise;\n  this.closed = true;\n\n  // Memory management.\n  this.removeAllListeners();\n  const closers = [];\n  this._closers.forEach(closerList => closerList.forEach(closer => {\n    const promise = closer();\n    if (promise instanceof Promise) closers.push(promise);\n  }));\n  this._streams.forEach(stream => stream.destroy());\n  this._userIgnored = undefined;\n  this._readyCount = 0;\n  this._readyEmitted = false;\n  this._watched.forEach(dirent => dirent.dispose());\n  ['closers', 'watched', 'streams', 'symlinkPaths', 'throttled'].forEach(key => {\n    this[`_${key}`].clear();\n  });\n\n  this._closePromise = closers.length ? Promise.all(closers).then(() => undefined) : Promise.resolve();\n  return this._closePromise;\n}\n\n/**\n * Expose list of watched paths\n * @returns {Object} for chaining\n*/\ngetWatched() {\n  const watchList = {};\n  this._watched.forEach((entry, dir) => {\n    const key = this.options.cwd ? sysPath.relative(this.options.cwd, dir) : dir;\n    watchList[key || ONE_DOT] = entry.getChildren().sort();\n  });\n  return watchList;\n}\n\nemitWithAll(event, args) {\n  this.emit(...args);\n  if (event !== EV_ERROR) this.emit(EV_ALL, ...args);\n}\n\n// Common helpers\n// --------------\n\n/**\n * Normalize and emit events.\n * Calling _emit DOES NOT MEAN emit() would be called!\n * @param {EventName} event Type of event\n * @param {Path} path File or directory path\n * @param {*=} val1 arguments to be passed with event\n * @param {*=} val2\n * @param {*=} val3\n * @returns the error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\nasync _emit(event, path, val1, val2, val3) {\n  if (this.closed) return;\n\n  const opts = this.options;\n  if (isWindows) path = sysPath.normalize(path);\n  if (opts.cwd) path = sysPath.relative(opts.cwd, path);\n  /** @type Array<any> */\n  const args = [event, path];\n  if (val3 !== undefined) args.push(val1, val2, val3);\n  else if (val2 !== undefined) args.push(val1, val2);\n  else if (val1 !== undefined) args.push(val1);\n\n  const awf = opts.awaitWriteFinish;\n  let pw;\n  if (awf && (pw = this._pendingWrites.get(path))) {\n    pw.lastChange = new Date();\n    return this;\n  }\n\n  if (opts.atomic) {\n    if (event === EV_UNLINK) {\n      this._pendingUnlinks.set(path, args);\n      setTimeout(() => {\n        this._pendingUnlinks.forEach((entry, path) => {\n          this.emit(...entry);\n          this.emit(EV_ALL, ...entry);\n          this._pendingUnlinks.delete(path);\n        });\n      }, typeof opts.atomic === 'number' ? opts.atomic : 100);\n      return this;\n    }\n    if (event === EV_ADD && this._pendingUnlinks.has(path)) {\n      event = args[0] = EV_CHANGE;\n      this._pendingUnlinks.delete(path);\n    }\n  }\n\n  if (awf && (event === EV_ADD || event === EV_CHANGE) && this._readyEmitted) {\n    const awfEmit = (err, stats) => {\n      if (err) {\n        event = args[0] = EV_ERROR;\n        args[1] = err;\n        this.emitWithAll(event, args);\n      } else if (stats) {\n        // if stats doesn't exist the file must have been deleted\n        if (args.length > 2) {\n          args[2] = stats;\n        } else {\n          args.push(stats);\n        }\n        this.emitWithAll(event, args);\n      }\n    };\n\n    this._awaitWriteFinish(path, awf.stabilityThreshold, event, awfEmit);\n    return this;\n  }\n\n  if (event === EV_CHANGE) {\n    const isThrottled = !this._throttle(EV_CHANGE, path, 50);\n    if (isThrottled) return this;\n  }\n\n  if (opts.alwaysStat && val1 === undefined &&\n    (event === EV_ADD || event === EV_ADD_DIR || event === EV_CHANGE)\n  ) {\n    const fullPath = opts.cwd ? sysPath.join(opts.cwd, path) : path;\n    let stats;\n    try {\n      stats = await stat(fullPath);\n    } catch (err) {}\n    // Suppress event when fs_stat fails, to avoid sending undefined 'stat'\n    if (!stats || this.closed) return;\n    args.push(stats);\n  }\n  this.emitWithAll(event, args);\n\n  return this;\n}\n\n/**\n * Common handler for errors\n * @param {Error} error\n * @returns {Error|Boolean} The error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\n_handleError(error) {\n  const code = error && error.code;\n  if (error && code !== 'ENOENT' && code !== 'ENOTDIR' &&\n    (!this.options.ignorePermissionErrors || (code !== 'EPERM' && code !== 'EACCES'))\n  ) {\n    this.emit(EV_ERROR, error);\n  }\n  return error || this.closed;\n}\n\n/**\n * Helper utility for throttling\n * @param {ThrottleType} actionType type being throttled\n * @param {Path} path being acted upon\n * @param {Number} timeout duration of time to suppress duplicate actions\n * @returns {Object|false} tracking object or false if action should be suppressed\n */\n_throttle(actionType, path, timeout) {\n  if (!this._throttled.has(actionType)) {\n    this._throttled.set(actionType, new Map());\n  }\n\n  /** @type {Map<Path, Object>} */\n  const action = this._throttled.get(actionType);\n  /** @type {Object} */\n  const actionPath = action.get(path);\n\n  if (actionPath) {\n    actionPath.count++;\n    return false;\n  }\n\n  let timeoutObject;\n  const clear = () => {\n    const item = action.get(path);\n    const count = item ? item.count : 0;\n    action.delete(path);\n    clearTimeout(timeoutObject);\n    if (item) clearTimeout(item.timeoutObject);\n    return count;\n  };\n  timeoutObject = setTimeout(clear, timeout);\n  const thr = {timeoutObject, clear, count: 0};\n  action.set(path, thr);\n  return thr;\n}\n\n_incrReadyCount() {\n  return this._readyCount++;\n}\n\n/**\n * Awaits write operation to finish.\n * Polls a newly created file for size variations. When files size does not change for 'threshold' milliseconds calls callback.\n * @param {Path} path being acted upon\n * @param {Number} threshold Time in milliseconds a file size must be fixed before acknowledging write OP is finished\n * @param {EventName} event\n * @param {Function} awfEmit Callback to be called when ready for event to be emitted.\n */\n_awaitWriteFinish(path, threshold, event, awfEmit) {\n  let timeoutHandler;\n\n  let fullPath = path;\n  if (this.options.cwd && !sysPath.isAbsolute(path)) {\n    fullPath = sysPath.join(this.options.cwd, path);\n  }\n\n  const now = new Date();\n\n  const awaitWriteFinish = (prevStat) => {\n    fs.stat(fullPath, (err, curStat) => {\n      if (err || !this._pendingWrites.has(path)) {\n        if (err && err.code !== 'ENOENT') awfEmit(err);\n        return;\n      }\n\n      const now = Number(new Date());\n\n      if (prevStat && curStat.size !== prevStat.size) {\n        this._pendingWrites.get(path).lastChange = now;\n      }\n      const pw = this._pendingWrites.get(path);\n      const df = now - pw.lastChange;\n\n      if (df >= threshold) {\n        this._pendingWrites.delete(path);\n        awfEmit(undefined, curStat);\n      } else {\n        timeoutHandler = setTimeout(\n          awaitWriteFinish,\n          this.options.awaitWriteFinish.pollInterval,\n          curStat\n        );\n      }\n    });\n  };\n\n  if (!this._pendingWrites.has(path)) {\n    this._pendingWrites.set(path, {\n      lastChange: now,\n      cancelWait: () => {\n        this._pendingWrites.delete(path);\n        clearTimeout(timeoutHandler);\n        return event;\n      }\n    });\n    timeoutHandler = setTimeout(\n      awaitWriteFinish,\n      this.options.awaitWriteFinish.pollInterval\n    );\n  }\n}\n\n_getGlobIgnored() {\n  return [...this._ignoredPaths.values()];\n}\n\n/**\n * Determines whether user has asked to ignore this path.\n * @param {Path} path filepath or dir\n * @param {fs.Stats=} stats result of fs.stat\n * @returns {Boolean}\n */\n_isIgnored(path, stats) {\n  if (this.options.atomic && DOT_RE.test(path)) return true;\n  if (!this._userIgnored) {\n    const {cwd} = this.options;\n    const ign = this.options.ignored;\n\n    const ignored = ign && ign.map(normalizeIgnored(cwd));\n    const paths = arrify(ignored)\n      .filter((path) => typeof path === STRING_TYPE && !isGlob(path))\n      .map((path) => path + SLASH_GLOBSTAR);\n    const list = this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored, paths);\n    this._userIgnored = anymatch(list, undefined, ANYMATCH_OPTS);\n  }\n\n  return this._userIgnored([path, stats]);\n}\n\n_isntIgnored(path, stat) {\n  return !this._isIgnored(path, stat);\n}\n\n/**\n * Provides a set of common helpers and properties relating to symlink and glob handling.\n * @param {Path} path file, directory, or glob pattern being watched\n * @param {Number=} depth at any depth > 0, this isn't a glob\n * @returns {WatchHelper} object containing helpers for this path\n */\n_getWatchHelpers(path, depth) {\n  const watchPath = depth || this.options.disableGlobbing || !isGlob(path) ? path : globParent(path);\n  const follow = this.options.followSymlinks;\n\n  return new WatchHelper(path, watchPath, follow, this);\n}\n\n// Directory helpers\n// -----------------\n\n/**\n * Provides directory tracking objects\n * @param {String} directory path of the directory\n * @returns {DirEntry} the directory's tracking object\n */\n_getWatchedDir(directory) {\n  if (!this._boundRemove) this._boundRemove = this._remove.bind(this);\n  const dir = sysPath.resolve(directory);\n  if (!this._watched.has(dir)) this._watched.set(dir, new DirEntry(dir, this._boundRemove));\n  return this._watched.get(dir);\n}\n\n// File helpers\n// ------------\n\n/**\n * Check for read permissions.\n * Based on this answer on SO: https://stackoverflow.com/a/11781404/1358405\n * @param {fs.Stats} stats - object, result of fs_stat\n * @returns {Boolean} indicates whether the file can be read\n*/\n_hasReadPermissions(stats) {\n  if (this.options.ignorePermissionErrors) return true;\n\n  // stats.mode may be bigint\n  const md = stats && Number.parseInt(stats.mode, 10);\n  const st = md & 0o777;\n  const it = Number.parseInt(st.toString(8)[0], 10);\n  return Boolean(4 & it);\n}\n\n/**\n * Handles emitting unlink events for\n * files and directories, and via recursion, for\n * files and directories within directories that are unlinked\n * @param {String} directory within which the following item is located\n * @param {String} item      base path of item/directory\n * @returns {void}\n*/\n_remove(directory, item, isDirectory) {\n  // if what is being deleted is a directory, get that directory's paths\n  // for recursive deleting and cleaning of watched object\n  // if it is not a directory, nestedDirectoryChildren will be empty array\n  const path = sysPath.join(directory, item);\n  const fullPath = sysPath.resolve(path);\n  isDirectory = isDirectory != null\n    ? isDirectory\n    : this._watched.has(path) || this._watched.has(fullPath);\n\n  // prevent duplicate handling in case of arriving here nearly simultaneously\n  // via multiple paths (such as _handleFile and _handleDir)\n  if (!this._throttle('remove', path, 100)) return;\n\n  // if the only watched file is removed, watch for its return\n  if (!isDirectory && !this.options.useFsEvents && this._watched.size === 1) {\n    this.add(directory, item, true);\n  }\n\n  // This will create a new entry in the watched object in either case\n  // so we got to do the directory check beforehand\n  const wp = this._getWatchedDir(path);\n  const nestedDirectoryChildren = wp.getChildren();\n\n  // Recursively remove children directories / files.\n  nestedDirectoryChildren.forEach(nested => this._remove(path, nested));\n\n  // Check if item was on the watched list and remove it\n  const parent = this._getWatchedDir(directory);\n  const wasTracked = parent.has(item);\n  parent.remove(item);\n\n  // Fixes issue #1042 -> Relative paths were detected and added as symlinks\n  // (https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L612),\n  // but never removed from the map in case the path was deleted.\n  // This leads to an incorrect state if the path was recreated:\n  // https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L553\n  if (this._symlinkPaths.has(fullPath)) {\n    this._symlinkPaths.delete(fullPath);\n  }\n\n  // If we wait for this file to be fully written, cancel the wait.\n  let relPath = path;\n  if (this.options.cwd) relPath = sysPath.relative(this.options.cwd, path);\n  if (this.options.awaitWriteFinish && this._pendingWrites.has(relPath)) {\n    const event = this._pendingWrites.get(relPath).cancelWait();\n    if (event === EV_ADD) return;\n  }\n\n  // The Entry will either be a directory that just got removed\n  // or a bogus entry to a file, in either case we have to remove it\n  this._watched.delete(path);\n  this._watched.delete(fullPath);\n  const eventName = isDirectory ? EV_UNLINK_DIR : EV_UNLINK;\n  if (wasTracked && !this._isIgnored(path)) this._emit(eventName, path);\n\n  // Avoid conflicts if we later create another file with the same name\n  if (!this.options.useFsEvents) {\n    this._closePath(path);\n  }\n}\n\n/**\n * Closes all watchers for a path\n * @param {Path} path\n */\n_closePath(path) {\n  this._closeFile(path)\n  const dir = sysPath.dirname(path);\n  this._getWatchedDir(dir).remove(sysPath.basename(path));\n}\n\n/**\n * Closes only file-specific watchers\n * @param {Path} path\n */\n_closeFile(path) {\n  const closers = this._closers.get(path);\n  if (!closers) return;\n  closers.forEach(closer => closer());\n  this._closers.delete(path);\n}\n\n/**\n *\n * @param {Path} path\n * @param {Function} closer\n */\n_addPathCloser(path, closer) {\n  if (!closer) return;\n  let list = this._closers.get(path);\n  if (!list) {\n    list = [];\n    this._closers.set(path, list);\n  }\n  list.push(closer);\n}\n\n_readdirp(root, opts) {\n  if (this.closed) return;\n  const options = {type: EV_ALL, alwaysStat: true, lstat: true, ...opts};\n  let stream = readdirp(root, options);\n  this._streams.add(stream);\n  stream.once(STR_CLOSE, () => {\n    stream = undefined;\n  });\n  stream.once(STR_END, () => {\n    if (stream) {\n      this._streams.delete(stream);\n      stream = undefined;\n    }\n  });\n  return stream;\n}\n\n}\n\n// Export FSWatcher class\nexports.FSWatcher = FSWatcher;\n\n/**\n * Instantiates watcher with paths to be tracked.\n * @param {String|Array<String>} paths file/directory paths and/or globs\n * @param {Object=} options chokidar opts\n * @returns an instance of FSWatcher for chaining.\n */\nconst watch = (paths, options) => {\n  const watcher = new FSWatcher(options);\n  watcher.add(paths);\n  return watcher;\n};\n\nexports.watch = watch;\n", "\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n", "\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n", "\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n", "\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n", "\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n", "\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n", "\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Stream = _interopDefault(require('stream'));\nvar http = _interopDefault(require('http'));\nvar Url = _interopDefault(require('url'));\nvar whatwgUrl = _interopDefault(require('whatwg-url'));\nvar https = _interopDefault(require('https'));\nvar zlib = _interopDefault(require('zlib'));\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nmodule.exports = exports = fetch;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports;\nexports.Headers = Headers;\nexports.Request = Request;\nexports.Response = Response;\nexports.FetchError = FetchError;\n", "import * as vscode from 'vscode'\nimport { createCommands } from './commands'\nimport * as telemetry from './services/telemetry'\n\nlet onDeactivate = () => {\n  /* placeholder for unsubscribing fn */\n}\n\n// activate run on vscode extension initialization\nexport const activate = (vscodeExt: vscode.ExtensionContext): void => {\n  // set out default 60/40 layout\n  vscode.commands.executeCommand('vscode.setEditorLayout', {\n    orientation: 0,\n    groups: [{ size: 0.6 }, { size: 0.4 }],\n  })\n\n  // commands\n  const commands = createCommands({\n    extensionPath: vscodeExt.extensionPath,\n    // NOTE: local storage must be bound to the vscodeExt.workspaceState\n    workspaceState: vscodeExt.workspaceState,\n  })\n\n  const subscribe = (sub: any) => {\n    vscodeExt.subscriptions.push(sub)\n  }\n\n  // register commands\n  for (const cmd in commands) {\n    const command: vscode.Disposable = vscode.commands.registerCommand(cmd, commands[cmd])\n    subscribe(command)\n  }\n\n  telemetry.activate(subscribe)\n\n  onDeactivate = () => {\n    // cleanup subscriptions/tasks\n    // handled within activate because it requires access to subscriptions\n    for (const disposable of vscodeExt.subscriptions) {\n      disposable.dispose()\n    }\n\n    telemetry.deactivate()\n  }\n}\n\n// deactivate run on vscode extension shut down\nexport const deactivate = (): void => onDeactivate()\n", "import { exec as cpExec } from 'child_process'\nimport * as fs from 'fs'\nimport { join } from 'path'\nimport { promisify } from 'util'\nimport { WORKSPACE_ROOT } from '../../environment'\nimport logger from '../logger'\n\nconst asyncExec = promisify(cpExec)\nconst asyncRemoveFile = promisify(fs.unlink)\nexport const asyncReadFile = promisify(fs.readFile)\nconst asyncWriteFile = promisify(fs.writeFile)\n\ninterface ExecParams {\n  command: string\n  dir?: string\n}\n\n// correct paths to be from workspace root rather than extension folder\nconst getWorkspacePath = (...paths: string[]) => {\n  const workspacePath = join(WORKSPACE_ROOT, ...paths)\n  logger(`Workspace path: ${workspacePath}`)\n  return workspacePath\n}\n\nexport const exec = (params: ExecParams): Promise<{ stdout: string; stderr: string }> | never => {\n  const cwd = join(WORKSPACE_ROOT, params.dir || '')\n  logger(`Calling command: ${params.command}`)\n  return asyncExec(params.command, { cwd })\n}\n\nexport const exists = (...paths: string[]): boolean | never => {\n  const filePath = getWorkspacePath(...paths)\n  logger(`Check file exists: ${filePath}`)\n  return fs.existsSync(filePath)\n}\n\nexport const removeFile = (...paths: string[]) => {\n  const filePath = getWorkspacePath(...paths)\n  logger(`Removing file: ${filePath}`)\n  return asyncRemoveFile(filePath)\n}\n\nexport const readFile = (...paths: string[]): Promise<string | void> => {\n  const filePath = getWorkspacePath(...paths)\n  logger(`Reading file: ${filePath}`)\n  return asyncReadFile(getWorkspacePath(...paths), 'utf8').catch((err) => {\n    logger(`Failed to read from ${filePath}: ${err.message}`)\n  })\n}\n\nexport const writeFile = (data: any, ...paths: string[]): Promise<void> => {\n  const filePath = getWorkspacePath(...paths)\n  logger(`Writing file: ${filePath}`)\n  return asyncWriteFile(filePath, data).catch((err) => {\n    logger(`Failed to write to ${filePath}: ${err.message}`)\n  })\n}\n", "import * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport { promisify } from 'util'\nimport * as env from '../../environment'\n\nconst readDir = promisify(fs.readdir)\n\nexport const openWorkspace = () => {\n  const openInNewWindow = false\n  vscode.commands.executeCommand('vscode.openFolder', undefined, openInNewWindow)\n}\n\nexport const checkWorkspaceEmpty = async () => {\n  let files\n  try {\n    files = await readDir(env.WORKSPACE_ROOT, { encoding: 'utf8' })\n  } catch (error) {\n    throw new Error('Failed to check workspace')\n  }\n  return files.length === 0\n}\n\n// capture the workspace root to use the users dirname in processes\nexport const getWorkspaceRoot = (): string => {\n  const workspaceRoots: readonly vscode.WorkspaceFolder[] | undefined = vscode.workspace.workspaceFolders\n  if (!workspaceRoots || !workspaceRoots.length) {\n    // no workspace root\n    return ''\n  }\n  // a user may have multiple workspace folders\n  // for simplicity, assume the first is the active workspace\n  const workspaceRoot: vscode.WorkspaceFolder = workspaceRoots[0]\n\n  return workspaceRoot.uri.fsPath\n}\n", "import { getWorkspaceRoot } from './services/workspace'\nimport * as os from 'os'\n\nexport const VERSION = require('../package.json').version // eslint-disable-line\n\nexport const EXTENSION_ID = 'coderoad'\n\n// Node env\nexport type Env = 'test' | 'local' | 'development' | 'production'\n// @ts-ignore\nexport const NODE_ENV: Env = process.env.NODE_ENV || 'development'\n\n// error logging tool\nexport const INSTRUMENTATION_KEY = '6ff37c76-72f3-48e3-a1b9-d5636f519b7b'\n\n// uri path to the users project workspace\nexport const WORKSPACE_ROOT: string = getWorkspaceRoot()\n\n// Possible values are: 'aix', 'darwin', 'freebsd', 'linux', 'openbsd', 'sunos', and 'win32'.\n// The value 'android' may also be returned if Node.js is built on the Android operating system. Android support is experimental.\n// @ts-ignore\nexport const OS_PLATFORM: 'win32' | 'linux' | 'darwin' = os.platform()\n\nconst supportedOS = [\n  'win32', // windows\n  'darwin', // macos\n  'linux',\n  // 'android' // TODO: validate support\n]\n\nif (!supportedOS.includes(OS_PLATFORM)) {\n  throw new Error(`OS ${OS_PLATFORM}\" not supported with CodeRoad`)\n}\n\nexport const TUTORIAL_URL: string | null = process.env.CODEROAD_TUTORIAL_URL || null\n\nexport const DISABLE_RUN_ON_SAVE = (process.env.CODEROAD_DISABLE_RUN_ON_SAVE || '').toLowerCase() === 'true'\n\n// bypass \"Refused to execute inline script because it violates the following Content Security Policy directive\" issue\n// for multiple exemptions, separate each with a space \"a1 b1\"\nexport const CONTENT_SECURITY_POLICY_EXEMPTIONS: string | null =\n  process.env.CODEROAD_CONTENT_SECURITY_POLICY_EXEMPTIONS || null\n\n// optional token for authorization/authentication of webhook calls\nexport const WEBHOOK_TOKEN = process.env.CODEROAD_WEBHOOK_TOKEN || null\n\n// a path to write session state to a file. Useful for maintaining session across containers\nexport const SESSION_STORAGE_PATH = process.env.CODEROAD_SESSION_STORAGE_PATH || null\n", "import * as vscode from 'vscode'\n\nconst channels:\n  | { key: string; value: vscode.OutputChannel }\n  | {\n      /* */\n    } = {}\n\nexport const getOutputChannel = (name: string): vscode.OutputChannel => {\n  if (!channels[name]) {\n    channels[name] = vscode.window.createOutputChannel(name)\n  }\n  return channels[name]\n}\n\ninterface ChannelOutput {\n  channel: string\n  text: string\n  show?: boolean\n}\n\nexport const addOutput = (params: ChannelOutput): void => {\n  const channel = getOutputChannel(params.channel)\n  channel.clear()\n  channel.append(params.text)\n}\n\nexport const showOutput = (channelName: string): void => {\n  const channel = getOutputChannel(channelName)\n  channel.show()\n}\n\nexport const clearOutput = (channelName: string): void => {\n  const channel = getOutputChannel(channelName)\n  channel.clear()\n  channel.hide()\n}\n", "import { getOutputChannel } from './output'\n\nexport type Log = any\n\nconst logChannel = getOutputChannel('CodeRoad (Logs)')\n\nconst logger = (...messages: Log[]): void => {\n  for (const message of messages) {\n    if (typeof message === 'object') {\n      logChannel.appendLine(message)\n    } else {\n      logChannel.appendLine(message)\n    }\n  }\n}\n\nexport default logger\n", "import logger from '../logger'\n\nexport interface Fail {\n  message: string\n  details?: string\n  logs?: string[]\n}\n\nexport interface Pass {\n  message: string\n  logs?: string[]\n}\n\nexport interface ParserOutput {\n  ok: boolean\n  passed: Pass[]\n  failed: Fail[]\n  logs: string[]\n  summary: { [key: string]: boolean }\n}\n\nconst r = {\n  start: /^(not ok)|(ok)/,\n  fail: /^not ok (?<index>\\d+)\\s(\\-\\s)?(?<message>.+)$/,\n  pass: /^ok (?<index>\\d+)\\s(\\-\\s)?(?<message>.+)$/,\n  details: /^#\\s{1,2}(?<message>.+)$/,\n  ignore: /^(1\\.\\.[0-9]+)|(#\\s+(tests|pass|fail|skip)\\s+[0-9]+)$/,\n}\n\nconst detect = (type: 'fail' | 'pass' | 'details', text: string) => {\n  const match = r[type].exec(text)\n  if (!match) {\n    return null\n  }\n  return match.groups\n}\n\n// see comment below for extracting logic into custom consumer later\nconst formatMessage = (message: string): string => {\n  // specific for python tap.py output\n  const isTappy = message.match(/^test_(?<underscoredMessage>.+)\\s(?<testPath>.+)$/)\n  if (isTappy?.groups?.underscoredMessage) {\n    return isTappy.groups.underscoredMessage.split('_').join(' ').trim()\n  }\n  return message.trim()\n}\n\n// TODO: consider creating custom TAP consumers for languages\n// otherwise code here will eventually get out of hand\n// currently supports: mocha, python tap.py\nconst parser = (text: string): ParserOutput => {\n  const lineList = text.split('\\n')\n  // start after 1..n output\n  const startingPoint = lineList.findIndex((t) => t.match(r.start))\n  const lines = lineList.slice(startingPoint)\n\n  const result: ParserOutput = {\n    ok: true,\n    passed: [],\n    failed: [],\n    logs: [],\n    summary: {},\n  }\n\n  // temporary holder of error detail strings\n  let currentDetails: string | null = null\n  let logs: string[] = []\n\n  const addCurrentDetails = () => {\n    const failLength: number = result.failed.length\n    if (currentDetails && !!failLength) {\n      result.failed[failLength - 1].details = currentDetails\n      currentDetails = null\n    }\n  }\n\n  for (const line of lines) {\n    if (!line.length || !!r.ignore.exec(line)) {\n      continue\n    }\n    // be optimistic! check for success first\n    const isPass = detect('pass', line)\n    if (!!isPass) {\n      const message = formatMessage(isPass.message)\n      const pass: Pass = { message }\n      if (logs.length) {\n        pass.logs = logs\n        logs = []\n      }\n      result.passed.push(pass)\n      result.summary[message] = true\n      addCurrentDetails()\n      continue\n    }\n\n    // check for failure\n    const isFail = detect('fail', line)\n    if (!!isFail) {\n      result.ok = false\n      addCurrentDetails()\n      const message = formatMessage(isFail.message)\n      const fail: Fail = { message }\n      if (logs.length) {\n        fail.logs = logs\n        logs = []\n      }\n      result.failed.push(fail)\n      result.summary[message] = false\n      continue\n    }\n\n    // check for error details\n    const isDetails = detect('details', line)\n    if (!!isDetails) {\n      const lineDetails: string = isDetails.message.trim()\n      if (!currentDetails) {\n        currentDetails = lineDetails\n      } else {\n        currentDetails += `\\n${lineDetails}`\n      }\n      continue\n    }\n\n    // must be a log, associate with the next test\n    logs.push(line)\n    result.logs.push(line)\n  }\n  addCurrentDetails()\n  return result\n}\n\nexport default parser\n", "interface Summary {\n  [key: string]: boolean\n}\n\n// if a subtask matches the current stepId name\n// in the format \"SUBTASKS 1.1 :1\" where 1.1 is the stepId & :1 is the testId\n// values will be parsed and sent to the client\nconst parseSubtasks = (summary: Summary, expectedStepId: string | null): Summary => {\n  const subtaskRegex = /^SUBTASKS\\s(?<stepId>(\\d+\\.\\d+))\\s:(?<testId>\\d+)\\s/\n  const subtaskSummary = {}\n  Object.keys(summary).forEach((key) => {\n    const match = key.match(subtaskRegex)\n    if (!!match) {\n      const { stepId, testId } = match.groups || {}\n      if (stepId === expectedStepId) {\n        const testIndex = Number(testId) - 1\n        subtaskSummary[testIndex] = summary[key]\n      }\n    }\n  })\n  return subtaskSummary\n}\n\nexport default parseSubtasks\n", "// ensure only latest run_test action is taken\nlet lastRun = new Date()\n\nconst THROTTLE_OFFSET = 300 // ms\n\nexport const throttle = (): Date | null => {\n  const now = new Date()\n  if (+now > +lastRun + THROTTLE_OFFSET) {\n    lastRun = now\n    return lastRun\n  }\n  return null\n}\n\n// quick solution to prevent processing multiple results\n// NOTE: may be possible to kill child process early if we migrate to tasks\nexport const debounce = (startTime: Date): boolean => +lastRun < +startTime + THROTTLE_OFFSET\n", "import TelemetryReporter from 'vscode-extension-telemetry'\nimport { EXTENSION_ID, VERSION, INSTRUMENTATION_KEY } from '../../environment'\nimport logger from '../logger'\n\n/**\n * Telemetry\n * https://github.com/microsoft/vscode-extension-telemetry\n *\n */\n\ninterface Properties {\n  [key: string]: string\n}\n\ninterface Measurements {\n  [key: string]: number\n}\n\nlet reporter: any\n\nexport const activate = (subscribeFn: (reporter: any) => void): void => {\n  logger(`${EXTENSION_ID} v${VERSION}`)\n  reporter = new TelemetryReporter(EXTENSION_ID, VERSION, INSTRUMENTATION_KEY)\n  subscribeFn(reporter)\n}\n\nexport const deactivate = (): void => {\n  if (reporter) {\n    reporter.dispose()\n  }\n}\n\nexport const onError = (error: Error, properties?: Properties, measurements?: Measurements): void => {\n  if (reporter) {\n    reporter.sendTelemetryException(error, properties, measurements)\n  }\n}\n\nexport const onEvent = (eventName: string, properties?: Properties, measurements?: Measurements): void => {\n  if (reporter) {\n    reporter.sendTelemetryEvent(eventName, properties, measurements)\n  }\n}\n", "import { ParserOutput, Fail } from './parser'\n\n// TODO: implement better success output\n// export const formatSuccessOutput = (tap: ParserOutput): string => {}\n\nexport const formatFailOutput = (tap: ParserOutput): string => {\n  let output = `FAILED TEST LOG\\n`\n  tap.failed.forEach((fail: Fail) => {\n    const details = fail.details ? `\\n${fail.details}\\n` : ''\n    const logs = fail.logs ? `\\n${fail.logs.join('\\n')}\\n` : ''\n    const result = `${logs}  \u2718 ${fail.message}\\n${details}`\n    output += result\n  })\n  return output\n}\n", "import * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport { exec } from '../node'\nimport logger from '../logger'\nimport parser, { ParserOutput } from './parser'\nimport parseSubtasks from './subtasks'\nimport { debounce, throttle } from './throttle'\nimport { onError } from '../telemetry'\nimport { clearOutput, addOutput } from '../logger/output'\nimport { formatFailOutput } from './formatOutput'\n\ninterface Callbacks {\n  onSuccess(position: T.Position): void\n  onFail(position: T.Position, failSummary: T.TestFail): void\n  onRun(position: T.Position): void\n  onError(position: T.Position): void\n  onLoadSubtasks({ summary }: { summary: { [testId: number]: boolean } }): void\n}\n\nconst failChannelName = 'CodeRoad (Tests)'\n\ninterface TestRunnerParams {\n  position: T.Position\n  subtasks?: boolean\n  onSuccess?: () => void\n}\n\nconst createTestRunner = (data: TT.Tutorial, callbacks: Callbacks): ((params: any) => Promise<void>) => {\n  const testRunnerConfig = data.config.testRunner\n  const testRunnerFilterArg = testRunnerConfig.args?.filter\n  return async ({ position, onSuccess }: TestRunnerParams): Promise<any> => {\n    const startTime = throttle()\n    // throttle time early\n    if (!startTime) {\n      return\n    }\n\n    logger('------------------- RUN TEST -------------------')\n\n    // calculate level & step from position\n    const level: TT.Level | null = data.levels.find((l) => l.id === position.levelId) || null\n    if (!level) {\n      logger(`Error: Level \"${position.levelId}\" not found`)\n      return\n    }\n    const step: TT.Step | null = level.steps.find((s) => s.id === position.stepId) || null\n    if (!step) {\n      logger(`Error: Step \"${position.stepId}\" not found`)\n      return\n    }\n\n    callbacks.onRun(position)\n\n    let result: { stdout: string | undefined; stderr: string | undefined }\n    try {\n      let command = testRunnerConfig.args\n        ? `${testRunnerConfig.command} ${testRunnerConfig?.args.tap}`\n        : testRunnerConfig.command // TODO: enforce TAP\n\n      // filter tests if requested\n      if (testRunnerFilterArg) {\n        // get tutorial step from position\n        // check the step actions for specific command\n        // NOTE: cannot just pass in step actions as the test can be called by:\n        // - onEditorSave, onWatcher, onSolution, runTest, onSubTask\n        const levels = data.levels\n        const level = levels.find((l) => l.id === position.levelId)\n        const step = level?.steps.find((s) => s.id === position.stepId)\n        const testFilter = step?.setup?.filter\n        if (testFilter) {\n          // append filter commands\n          command = [command, testRunnerFilterArg, testFilter].join(' ')\n        }\n      }\n      logger(`COMMAND: ${command}`)\n      result = await exec({ command, dir: testRunnerConfig.directory })\n    } catch (err: any) {\n      result = { stdout: err.stdout, stderr: err.stack }\n    }\n\n    // ignore output if not latest process\n    // this is a crappy version of debounce\n    if (!debounce(startTime)) {\n      return\n    }\n\n    logger('---------------- TEST RESULTS -----------------')\n\n    const { stdout, stderr } = result\n\n    const tap: ParserOutput = parser(stdout || '')\n\n    if (tap.logs.length) {\n      logger(tap.logs.join('\\n'))\n    }\n\n    if (stderr) {\n      if (!tap.failed.length) {\n        // test runner failed\n        const failSummary = {\n          title: 'Test Runner Failed',\n          description: stderr,\n          summary: {},\n        }\n        callbacks.onFail(position, failSummary)\n        return\n      } else if (stdout && stdout.length && !tap.ok) {\n        // FAIL also trigger stderr\n        const firstFail = tap.failed[0]\n        const failSummary = {\n          title: firstFail.message || 'Test Failed',\n          description: firstFail.details || 'Unknown error',\n          summary: tap.summary,\n        }\n\n        if (step.subtasks) {\n          const subtaskSummary = parseSubtasks(tap.summary, position.stepId || '')\n\n          callbacks.onFail(position, {\n            ...failSummary,\n            summary: subtaskSummary,\n          })\n        } else {\n          callbacks.onFail(position, failSummary)\n        }\n\n        const output = formatFailOutput(tap)\n        addOutput({ channel: failChannelName, text: output, show: true })\n        return\n      } else {\n        callbacks.onError(position)\n        // open terminal with error string\n        addOutput({ channel: failChannelName, text: stderr, show: true })\n        return\n      }\n    }\n\n    // PASS\n    if (tap.ok) {\n      clearOutput(failChannelName)\n\n      callbacks.onSuccess(position)\n\n      if (onSuccess) {\n        onSuccess()\n      }\n    } else {\n      // should never get here\n      onError(new Error(`Error with running test ${JSON.stringify(position)}`))\n      callbacks.onError(position)\n    }\n  }\n}\n\nexport default createTestRunner\n", "import * as T from 'typings'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport render from './render'\n\ninterface ReactWebViewProps {\n  extensionPath: string\n  channel: any\n}\n\ninterface Output {\n  state: { loaded: boolean }\n  createOrShow(): void\n  send: T.Send\n  receive: T.Send\n}\n\nconst state = { loaded: false }\n\nconst createReactWebView = ({ extensionPath, channel }: ReactWebViewProps): Output => {\n  // throttle \"already open\" popup\n  let lastWebviewOpenedAt = new Date()\n\n  // TODO add disposables\n  const disposables: vscode.Disposable[] = []\n\n  function createWebViewPanel(): vscode.WebviewPanel {\n    const viewType = 'CodeRoad'\n    const title = 'CodeRoad'\n    const config = {\n      // Enable javascript in the webview\n      enableScripts: true,\n      // And restrict the webview to only loading content from our extension's `media` directory.\n      localResourceRoots: [vscode.Uri.file(path.join(extensionPath, 'build'))],\n      // prevents destroying the window when it is in the background\n      retainContextWhenHidden: true,\n      // allows scripts to load external resources (eg. markdown images, fonts)\n      enableCommandUris: true,\n    }\n    state.loaded = true\n    return vscode.window.createWebviewPanel(viewType, title, vscode.ViewColumn.Two, config)\n  }\n\n  let panel: vscode.WebviewPanel = createWebViewPanel()\n\n  // Listen for when the panel is disposed\n  // This happens when the user closes the panel or when the panel is closed programmatically\n  panel.onDidDispose(\n    () => {\n      panel.dispose()\n      state.loaded = false\n    },\n    null,\n    disposables,\n  )\n\n  // Handle messages from the webview\n  const receive = channel.receive\n  const send = (action: T.Action) =>\n    panel.webview.postMessage({\n      ...action,\n      source: 'coderoad', // filter events on client by source. origin is not reliable\n    })\n\n  panel.webview.onDidReceiveMessage(receive, null, disposables)\n\n  // panel.onDidDispose(() => {\n  //   // Clean up our resources\n  //   loaded = false\n  //   panel.dispose()\n  //   Promise.all(disposables.map((x) => x.dispose()))\n  // })\n\n  const rootPath = path.join(extensionPath, 'build')\n  render(panel, rootPath)\n\n  return {\n    state,\n    createOrShow() {\n      vscode.commands.executeCommand('vscode.setEditorLayout', {\n        orientation: 0,\n        groups: [{ size: 0.6 }, { size: 0.4 }],\n      })\n      // If we already have a panel, show it.\n      // Otherwise, create a new panel.\n\n      if (panel && panel.webview) {\n        if (Date.now() - lastWebviewOpenedAt.getTime() > 5000) {\n          vscode.window.showInformationMessage('CodeRoad already open')\n        }\n        panel.reveal(vscode.ViewColumn.Two)\n      } else {\n        panel = createWebViewPanel()\n      }\n      lastWebviewOpenedAt = new Date()\n    },\n    send,\n    receive,\n  }\n}\n\nexport default createReactWebView\n", "import * as path from 'path'\nimport * as vscode from 'vscode'\nimport { asyncReadFile } from '../node'\nimport { onError } from '../telemetry'\nimport { CONTENT_SECURITY_POLICY_EXEMPTIONS } from '../../environment'\nimport logger from '../logger'\n\nconst getNonce = (): string => {\n  let text = ''\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (let i = 0; i < 32; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  }\n  return text\n}\n\n/**\n * render\n * configures the index.html into a webview panel\n *\n * React + webpack generate a number of files that are injected on build time\n * and must be accommodated for the webview using a vscode:// path.\n *\n * Modified paths include\n * - /static/js/x.chunk.js\n * - /static/js/main.chunk.js\n * - runtime-main.js\n * - /static/css/x.chunk.css\n * - /static/css/main.chunk.css\n *\n * This function also:\n * - modifies the base href of the index.html to be the root of the workspace\n * - manages the CSP policy for all the loaded files\n */\nasync function render(panel: vscode.WebviewPanel, rootPath: string): Promise<void> {\n  // generate vscode-resource build path uri\n  const createUri = (_filePath: string): any => {\n    const filePath = (_filePath.startsWith('vscode') ? _filePath.substr(16) : _filePath).replace('///', '\\\\')\n\n    // @ts-ignore\n    return panel.webview.asWebviewUri(vscode.Uri.file(path.join(rootPath, filePath)))\n  }\n\n  try {\n    // load copied index.html from web app build\n    let html = await asyncReadFile(path.join(rootPath, 'index.html'), 'utf8')\n\n    // set base href at top of <head>\n    const baseHref = `${vscode.Uri.file(path.join(rootPath, 'build')).with({ scheme: 'vscode-resource' })}`\n    html = html.replace('<head>', `<head><base href=\"${baseHref}\" />`)\n\n    // used for CSP\n    const nonces: string[] = []\n    const hashes: string[] = []\n\n    // fix paths for react static scripts to use vscode-resource paths\n    var jsBundleChunkRegex = /\\/static\\/js\\/[\\d].[^\"]*\\.js/g\n    var jsBundleChunk: RegExpExecArray | null = jsBundleChunkRegex.exec(html)\n    if (jsBundleChunk) {\n      const nonce: string = getNonce()\n      nonces.push(nonce)\n      const src = createUri(jsBundleChunk[0])\n      // replace script src, add nonce\n      html = html.replace(jsBundleChunk[0], `${src}\" nonce=\"${nonce}`)\n    }\n\n    var mainBundleChunkRegex = /\\/static\\/js\\/main.[^\"]*\\.js/g\n    var mainBundleChunk: RegExpExecArray | null = mainBundleChunkRegex.exec(html)\n    if (mainBundleChunk) {\n      const nonce: string = getNonce()\n      nonces.push(nonce)\n      const src = createUri(mainBundleChunk[0])\n      // replace script src, add nonce\n      html = html.replace(mainBundleChunk[0], `${src}\" nonce=\"${nonce}`)\n    }\n\n    // support additional CSP exemptions when CodeRoad is embedded\n    if (CONTENT_SECURITY_POLICY_EXEMPTIONS && CONTENT_SECURITY_POLICY_EXEMPTIONS.length) {\n      for (const exemption of CONTENT_SECURITY_POLICY_EXEMPTIONS.split(' ')) {\n        // sha hashes should not be prefixed with 'nonce-'\n        if (exemption.match(/^sha/)) {\n          hashes.push(exemption)\n        } else {\n          nonces.push(exemption)\n        }\n      }\n    }\n\n    // note: file cannot be imported or results in esbuild error. Easier to read it.\n    let manifest\n    try {\n      const manifestPath = path.join(rootPath, 'asset-manifest.json')\n      const manifestFile = await asyncReadFile(manifestPath, 'utf8')\n      manifest = JSON.parse(manifestFile)\n    } catch (e) {\n      throw new Error('Failed to read manifest file')\n    }\n\n    // add run-time script from webpack at top of <body>\n    const runtimeNonce = getNonce()\n    nonces.push(runtimeNonce)\n    const runtimeSrc = createUri(manifest.files['runtime-main.js'])\n    html = html.replace('<body>', `<body><script src=\"${runtimeSrc}\" nonce=\"${runtimeNonce}\"></script>`)\n\n    var cssBundleChunkRegex = /\\/static\\/css\\/[\\d].[^\"]*\\.css/g\n    var cssBundleChunk: RegExpExecArray | null = cssBundleChunkRegex.exec(html)\n    if (cssBundleChunk) {\n      const href = createUri(cssBundleChunk[0])\n      // replace script src, add nonce\n      html = html.replace(cssBundleChunk[0], href)\n    }\n\n    var mainCssBundleChunkRegex = /\\/static\\/css\\/main.[^\"]*\\.css/g\n    var mainCssBundleChunk: RegExpExecArray | null = mainCssBundleChunkRegex.exec(html)\n    if (mainCssBundleChunk) {\n      const href = createUri(mainCssBundleChunk[0])\n      // replace script src, add nonce\n      html = html.replace(mainCssBundleChunk[0], href)\n    }\n\n    // set CSP (content security policy) to grant permission to local files\n    // while blocking unexpected malicious network requests\n    const wrapInQuotes = (str: string) => `'${str}'`\n    const nonceString = nonces.map((nonce: string) => wrapInQuotes(`nonce-${nonce}`)).join(' ')\n    const hashString = hashes.map(wrapInQuotes).join(' ')\n\n    const cspMetaString =\n      [\n        `default-src 'self'`,\n        `manifest-src ${hashString} 'self'`,\n        `connect-src https: http:`,\n        // @ts-ignore\n        `font-src ${panel.webview.cspSource} http: https: data:`,\n        // @ts-ignore\n        `img-src ${panel.webview.cspSource} https:`,\n        `script-src ${nonceString} ${hashString} data:`,\n        // @ts-ignore\n        `style-src ${panel.webview.cspSource} https: 'self' 'unsafe-inline'`,\n      ].join('; ') + ';'\n    // add CSP to end of <head>\n    html = html.replace('</head>', `<meta http-equiv=\"Content-Security-Policy\" content=\"${cspMetaString}\" /></head>`)\n\n    // set view\n    panel.webview.html = html\n  } catch (error: any) {\n    logger(`Error: ${error.message}`)\n    onError(error)\n  }\n}\n\nexport default render\n", "import { satisfies } from 'semver'\nimport { exec } from '../node'\n\nconst semverRegex =\n  /(?<=^v?|\\sv?)(?:0|[1-9]\\d*)\\.(?:0|[1-9]\\d*)\\.(?:0|[1-9]\\d*)(?:-(?:0|[1-9]\\d*|[\\da-z-]*[a-z-][\\da-z-]*)(?:\\.(?:0|[1-9]\\d*|[\\da-z-]*[a-z-][\\da-z-]*))*)?(?:\\+[\\da-z-]+(?:\\.[\\da-z-]+)*)?(\\.windows.[0-9]+)?(?=$|\\s)/gi\n\nexport const getVersion = async (name: string): Promise<{ version: string | null; error: Error | null }> => {\n  try {\n    const { stdout, stderr } = await exec({ command: `${name} --version` })\n    if (!stderr) {\n      const match = stdout.match(semverRegex)\n      if (match) {\n        const parsedVersion = match[0].split('.').slice(0, 3).join('.')\n        return { version: parsedVersion, error: null }\n      }\n    }\n    return { version: null, error: null }\n  } catch (error: any) {\n    return { version: null, error }\n  }\n}\n\nexport const compareVersions = async (currentVersion: string, expectedVersion: string): Promise<never | boolean> => {\n  // see node-semver docs: https://github.com/npm/node-semver\n  return satisfies(currentVersion, expectedVersion)\n}\n", "import * as TT from 'typings/tutorial'\nimport { exec, exists } from '../node'\nimport { getVersion, compareVersions } from '../dependencies'\nimport logger from '../logger'\n\nexport const gitOrigin = 'coderoad'\n\nconst stashAllFiles = async (): Promise<never | void> => {\n  // stash files including untracked (eg. newly created file)\n  const { stderr } = await exec({ command: `git stash --include-untracked` })\n  if (stderr) {\n    logger(`Error: ${stderr}`)\n    throw new Error('Error stashing files')\n  }\n}\n\nconst cherryPickCommit = async (commit: string, count = 0): Promise<never | void> => {\n  if (count > 1) {\n    logger('cherry-pick failed')\n    return\n  }\n  try {\n    // cherry-pick pulls commits from another branch\n    // -X theirs merges and accepts incoming changes over existing changes\n    const { stdout } = await exec({ command: `git cherry-pick -X theirs ${commit}` })\n    if (!stdout) {\n      throw new Error('No cherry-pick output')\n    }\n  } catch (error: any) {\n    logger(`cherry-pick-commit failed: ${error.message}`)\n    // stash all files if cherry-pick fails\n    await stashAllFiles()\n    return cherryPickCommit(commit, ++count)\n  }\n}\n\n/*\n    SINGLE git cherry-pick %COMMIT%\n    if fails, will stash all and retry\n*/\nexport function loadCommit(commit: string): Promise<never | void> {\n  return cherryPickCommit(commit)\n}\n\n/* \n    save commit\n    git commit -am '${level}/${step} complete'\n*/\n\nexport async function saveCommit(message: string): Promise<never | void> {\n  const { stdout, stderr } = await exec({ command: `git commit -am '${message}'` })\n  if (stderr) {\n    logger(`Error: ${stderr}`)\n    throw new Error('Error saving progress to Git')\n  }\n  logger(`Commit saved: ${stdout}`)\n}\n\nexport async function clear(): Promise<Error | void> {\n  try {\n    // commit progress to git\n    const { stderr } = await exec({ command: 'git reset HEAD --hard && git clean -fd' })\n    if (!stderr) {\n      return\n    }\n    logger(`Error: ${stderr}`)\n  } catch (error: any) {\n    logger(`Error: ${error.message}`)\n  }\n  throw new Error('Error cleaning up current unsaved work')\n}\n\nasync function init(): Promise<Error | void> {\n  const { version: gitVersion, error: gitError } = await getVersion('git')\n  if (gitError) {\n    throw new Error(`Error: Git config error: ${gitError.message}`)\n  }\n  if (!gitVersion) {\n    throw new Error('Error: No git version found')\n  }\n  const hasInitialBranch = await compareVersions(gitVersion, '>=2.28.0')\n  let stderr\n  if (hasInitialBranch) {\n    // --initial-branch is introduced in git v2.28 when git changed the default master -> main\n    const initResult = await exec({ command: 'git init --initial-branch=master' })\n    stderr = initResult.stderr\n  } else {\n    // pre git v2.28, master is default branch\n    const initResult = await exec({ command: 'git init' })\n    stderr = initResult.stderr\n  }\n  // note: prevents stderr warning concerning default init branch\n  if (stderr) {\n    throw new Error(`Error initializing Git: ${stderr}`)\n  }\n}\n\nexport async function initIfNotExists(): Promise<never | void> {\n  const hasGitInit = exists('.git')\n  if (!hasGitInit) {\n    await init()\n  }\n}\n\nexport async function checkRemoteConnects(repo: TT.TutorialRepo): Promise<never | void> {\n  // check for git repo\n  const externalRepoExists = await exec({ command: `git ls-remote --exit-code --heads ${repo.uri}` })\n  if (externalRepoExists.stderr) {\n    // no repo found or no internet connection\n    throw new Error(externalRepoExists.stderr)\n  }\n  // check for git repo branch\n  const { stderr, stdout } = await exec({ command: `git ls-remote --exit-code --heads ${repo.uri} ${repo.branch}` })\n  if (stderr) {\n    throw new Error(stderr)\n  }\n  if (!stdout || !stdout.length) {\n    throw new Error('Tutorial branch does not exist')\n  }\n}\n\nexport async function addRemote(repo: string): Promise<never | void> {\n  const { stderr } = await exec({ command: `git remote add ${gitOrigin} ${repo} && git fetch ${gitOrigin}` })\n  if (stderr) {\n    const alreadyExists = stderr.match(`${gitOrigin} already exists.`)\n    const successfulNewBranch = stderr.match('new branch')\n\n    // validate the response is acceptable\n    if (!alreadyExists && !successfulNewBranch) {\n      logger(`Error: ${stderr}`)\n      throw new Error('Error adding git remote')\n    }\n  }\n}\n\nexport async function checkRemoteExists(): Promise<boolean> {\n  try {\n    const { stdout, stderr } = await exec({ command: 'git remote -v' })\n    if (stderr) {\n      return false\n    }\n    // string match on remote output\n    // TODO improve the specificity of this regex\n    return !!stdout.match(gitOrigin)\n  } catch (error: any) {\n    logger(`Warn: ${error.message}`)\n    return false\n  }\n}\n\nexport async function setupCodeRoadRemote(repo: string): Promise<never | void> {\n  // check coderoad remote not taken\n  const hasRemote = await checkRemoteExists()\n  // git remote add coderoad tutorial\n  // git fetch coderoad\n  if (hasRemote) {\n    // TODO: verify the remote is the same\n    return\n  }\n  await addRemote(repo)\n}\n\nexport async function loadCommitHistory(): Promise<string[]> {\n  try {\n    // returns an list of commit hashes\n    const { stdout, stderr } = await exec({ command: 'git log --pretty=format:\"%h\"' })\n    if (stderr) {\n      return []\n    }\n    // string match on remote output\n    return stdout.split('\\n')\n  } catch (error: any) {\n    // likely no git setup or no commits\n    logger(`Warn: ${error.message}`)\n    return []\n  }\n}\n\n// return the short form of a hash (first 7 characters)\n// using `git rev-parse` seems unnecessarily slower\nexport function getShortHash(hash: string): string {\n  return hash.slice(0, 7)\n}\n\nexport async function getCommitMessage(hash: string): Promise<string | null> {\n  try {\n    // returns an list of commit hashes\n    const { stdout, stderr } = await exec({ command: `git log -n 1 --pretty=format:%s ${hash}` })\n    if (stderr) {\n      return null\n    }\n    // string match on remote output\n    return stdout\n  } catch (error: any) {\n    logger(`Error: ${error.message}`)\n    // likely no git commit message found\n    return null\n  }\n}\n\nexport async function commitsExistsByMessage(message: string): Promise<boolean> {\n  try {\n    // returns a list of commit hashes\n    const { stdout, stderr } = await exec({ command: `git log -g --grep='${message}'` })\n    if (stderr) {\n      return false\n    }\n    return !!stdout.length\n  } catch (error: any) {\n    logger(`Error: ${error.message}`)\n    // likely no commit found\n    return false\n  }\n}\n\nexport async function validateGitConfig(target: string): Promise<boolean> {\n  try {\n    // returns a list of commit hashes\n    const { stdout, stderr } = await exec({ command: `git config ${target}` })\n    if (stderr) {\n      return false\n    }\n    return !!stdout.length\n  } catch (error) {\n    return false\n  }\n}\n", "import * as git from '../../git'\n\n// avoid duplicate commits\nconst verifyCommitUnique = async (hash: string): Promise<boolean> => {\n  const message: string | null = await git.getCommitMessage(hash)\n  if (!message) {\n    return false\n  }\n  const exists: boolean = await git.commitsExistsByMessage(message)\n  return exists\n}\n\nexport const loadCommits = async (commits: string[] = []): Promise<void> => {\n  if (commits && commits.length) {\n    // load the current list of commits for validation\n    for (const commit of commits) {\n      const commitExists = await verifyCommitUnique(commit)\n      if (!commitExists) {\n        await git.loadCommit(commit)\n      }\n    }\n  }\n}\n", "import * as chokidar from 'chokidar'\nimport * as vscode from 'vscode'\nimport { COMMANDS } from '../../../commands'\nimport { WORKSPACE_ROOT } from '../../../environment'\n\n// NOTE: vscode createFileWatcher doesn't seem to detect changes outside of vscode\n// such as `npm install` of a package. Went with chokidar instead\n\n// collect active file watchers as an object keyed on pattern\nconst watcherObject: { [key: string]: chokidar.FSWatcher } = {}\n\nconst disposeWatcher = (watcher: string) => {\n  watcherObject[watcher].close()\n  delete watcherObject[watcher]\n}\n\nexport const loadWatchers = (watchers: string[] = []): void => {\n  if (!watchers.length) {\n    // remove all watchers\n    for (const watcher of Object.keys(watcherObject)) {\n      disposeWatcher(watcher)\n    }\n  }\n  for (const watcher of watchers) {\n    if (!watcherObject[watcher]) {\n      // see how glob patterns are used in VSCode (not like a regex)\n      // https://code.visualstudio.com/api/references/vscode-api#GlobPattern\n      const fsWatcher: chokidar.FSWatcher = chokidar.watch(watcher, {\n        cwd: WORKSPACE_ROOT,\n        interval: 1000,\n      })\n\n      // prevent firing tests within 1 second of last test check\n      const lastFire: Date | null = null\n\n      // run tests on watcher change\n      fsWatcher.on('change', (path, event) => {\n        const now = +new Date()\n        if (!lastFire || lastFire - now > 1000) {\n          vscode.commands.executeCommand(COMMANDS.RUN_TEST, {\n            callbacks: {\n              onSuccess: () => {\n                // cleanup watcher on success\n                disposeWatcher(watcher)\n              },\n            },\n          })\n        }\n      })\n\n      // key fs watcher on name\n      // to easily add/remove multiple watchers\n      watcherObject[watcher] = fsWatcher\n    }\n  }\n}\n\nexport const resetWatchers = (): void => {\n  for (const watcher of Object.keys(watcherObject)) {\n    disposeWatcher(watcher)\n  }\n}\n", "import { join } from 'path'\nimport * as vscode from 'vscode'\nimport logger from '../../logger'\n\nconst openFiles = async (files: string[] = []): Promise<void> => {\n  if (!files.length) {\n    return\n  }\n  for (const filePath of files) {\n    try {\n      const workspaceFolders: readonly vscode.WorkspaceFolder[] | undefined = vscode.workspace.workspaceFolders\n      if (!workspaceFolders || !workspaceFolders.length) {\n        throw new Error('No workspace directory. Open a workspace directory and try again')\n      }\n      const wr: string = workspaceFolders[0].uri.path\n      const absoluteFilePath = join(wr, filePath)\n      const doc = await vscode.workspace.openTextDocument(absoluteFilePath)\n      await vscode.window.showTextDocument(doc, vscode.ViewColumn.One)\n    } catch (error: any) {\n      logger(`Failed to open file ${filePath}: ${error.message}`)\n    }\n  }\n}\n\nexport default openFiles\n", "import { exec } from '../../node'\nimport { send } from '../../../commands'\nimport logger from '../../logger'\n\nconst runCommands = async (commands: string[] = []): Promise<void> => {\n  if (!commands.length) {\n    return\n  }\n  for (const command of commands) {\n    const process = {\n      title: command,\n      description: 'Running process...',\n    }\n    logger(`Command: ${command}`)\n    send({ type: 'COMMAND_START', payload: { process: { ...process, status: 'RUNNING' } } })\n    let result: { stdout: string; stderr: string }\n    try {\n      result = await exec({ command })\n      if (result.stderr) {\n        throw new Error(result.stderr)\n      }\n      logger(`Command output: ${result.stdout}`)\n    } catch (error: any) {\n      logger(`Command failed: ${error.message}`)\n      send({ type: 'COMMAND_FAIL', payload: { process: { ...process, status: 'FAIL' } } })\n      return\n    }\n    send({ type: 'COMMAND_SUCCESS', payload: { process: { ...process, status: 'SUCCESS' } } })\n  }\n}\n\nexport default runCommands\n", "import * as vscode from 'vscode'\nimport * as TT from 'typings/tutorial'\n\n// what are VSCode commands?\n// - https://code.visualstudio.com/api/references/vscode-api#commands\n// a list of commands:\n// - https://code.visualstudio.com/api/references/commands (note many take params)\n// - https://code.visualstudio.com/docs/getstarted/keybindings (anything keybound is a command)\n\nconst runVSCodeCommands = async (commands: TT.VSCodeCommand[] = []): Promise<void> => {\n  if (!commands.length) {\n    return\n  }\n  for (const command of commands) {\n    if (typeof command === 'string') {\n      // string named commands\n      await vscode.commands.executeCommand(command)\n    } else if (Array.isArray(command)) {\n      // array commands with params\n      const [name, params] = command\n      await vscode.commands.executeCommand(name, params)\n    }\n  }\n}\n\nexport default runVSCodeCommands\n", "import * as T from 'typings'\nimport * as vscode from 'vscode'\nimport { COMMANDS } from '../commands'\n\nexport const runTest = (action?: T.Action): void => {\n  vscode.commands.executeCommand(COMMANDS.RUN_TEST, action?.payload)\n}\n", "import * as TT from 'typings/tutorial'\nimport fetch from 'node-fetch'\nimport logger from '../logger'\nimport { WEBHOOK_TOKEN } from '../../environment'\n\nconst WEBHOOK_EVENTS = {\n  init: false,\n  reset: false,\n  continue: false,\n  step_complete: false,\n  level_complete: false,\n  tutorial_complete: false,\n}\n\n// variables set on init\nlet WEBHOOK_URI: string | undefined\n\nexport const setupWebhook = (webhookConfig: TT.WebhookConfig) => {\n  if (!webhookConfig.url) {\n    return\n  }\n  // set webhook uri\n  WEBHOOK_URI = webhookConfig.url\n\n  // set webhook event triggers\n  const events = webhookConfig.events as TT.WebhookConfigEvents\n  for (const eventName of Object.keys(events || {})) {\n    WEBHOOK_EVENTS[eventName] = events[eventName]\n  }\n}\n\nconst callWebhookEndpoint = async <B>(bodyObject: B): Promise<void> => {\n  if (!WEBHOOK_URI) {\n    return\n  }\n\n  const headers = { 'Content-Type': 'application/json' }\n  // if the webhook token is specified as env var, sends a token with the request\n  if (WEBHOOK_TOKEN) {\n    headers['CodeRoad-User-Token'] = WEBHOOK_TOKEN\n  }\n\n  const body = JSON.stringify(bodyObject)\n\n  try {\n    const sendEvent = await fetch(WEBHOOK_URI, {\n      method: 'POST',\n      headers,\n      body,\n    })\n    if (!sendEvent.ok) {\n      throw new Error('Error sending event')\n    }\n    logger(`Called webhook endpoint ${WEBHOOK_URI} with body ${JSON.stringify(body)}`)\n  } catch (err: unknown) {\n    logger(`Failed to call webhook endpoint ${WEBHOOK_URI} with body ${JSON.stringify(body)}`)\n  }\n}\n\ntype WebhookEventInit = {\n  tutorialId: string\n  coderoadVersion: string\n}\n\nexport const onInit = (event: WebhookEventInit): void => {\n  if (WEBHOOK_EVENTS.init) {\n    callWebhookEndpoint<WebhookEventInit>(event)\n  }\n}\n\ntype WebhookEventReset = {\n  tutorialId: string\n}\n\nexport const onReset = (event: WebhookEventReset): void => {\n  if (WEBHOOK_EVENTS.reset) {\n    callWebhookEndpoint<WebhookEventReset>(event)\n  }\n}\n\ntype WebhookEventContinue = {\n  tutorialId: string\n}\n\nexport const onContinue = (event: WebhookEventReset): void => {\n  if (WEBHOOK_EVENTS.continue) {\n    callWebhookEndpoint<WebhookEventContinue>(event)\n  }\n}\n\ntype WebhookEventStepComplete = { tutorialId: string; version?: string; levelId: string; stepId: string }\n\nexport const onStepComplete = (event: WebhookEventStepComplete): void => {\n  if (WEBHOOK_EVENTS.step_complete) {\n    callWebhookEndpoint<WebhookEventStepComplete>(event)\n  }\n}\n\ntype WebhookEventLevelComplete = { tutorialId: string; version?: string; levelId: string }\n\nexport const onLevelComplete = (event: WebhookEventLevelComplete): void => {\n  if (WEBHOOK_EVENTS.level_complete) {\n    callWebhookEndpoint<WebhookEventLevelComplete>(event)\n  }\n}\n\ntype WebhookEventTutorialComplete = { tutorialId: string; version?: string }\n\nexport const onTutorialComplete = (event: WebhookEventTutorialComplete): void => {\n  if (WEBHOOK_EVENTS.tutorial_complete) {\n    callWebhookEndpoint<WebhookEventTutorialComplete>(event)\n  }\n}\n", "import * as TT from 'typings/tutorial'\nimport * as git from '../git'\nimport { loadCommits } from './utils/commits'\nimport { loadWatchers, resetWatchers } from './utils/watchers'\nimport openFiles from './utils/openFiles'\nimport runCommands from './utils/runCommands'\nimport runVSCodeCommands from './utils/runVSCodeCommands'\nimport * as telemetry from '../telemetry'\nimport { runTest } from '../../actions/onTest'\nimport { VERSION } from '../../environment'\nimport * as webhooks from './webhooks'\n\n// run at the end of when a tutorial is configured\nexport const onInit = async (actions: TT.StepActions, tutorialId: string): Promise<void> => {\n  await loadCommits(actions?.commits)\n  await runCommands(actions?.commands)\n  await runVSCodeCommands(actions?.vscodeCommands)\n  webhooks.onInit({\n    tutorialId,\n    coderoadVersion: VERSION,\n  })\n}\n\n// run when a level starts\nexport const onLevelEnter = async (actions: TT.StepActions): Promise<void> => {\n  await loadCommits(actions?.commits)\n  await runCommands(actions?.commands)\n}\n\n// run when a step starts\nexport const onSetupEnter = async (actions: TT.StepActions): Promise<void> => {\n  await loadCommits(actions?.commits)\n  await openFiles(actions?.files)\n  await loadWatchers(actions?.watchers)\n  await runCommands(actions?.commands)\n  await runVSCodeCommands(actions?.vscodeCommands)\n}\n\n// run when a step solution starts\nexport const onSolutionEnter = async (actions: TT.StepActions): Promise<void> => {\n  await git.clear()\n  await loadCommits(actions?.commits)\n  await openFiles(actions?.files)\n  await runCommands(actions?.commands)\n  await runVSCodeCommands(actions?.vscodeCommands)\n  await runTest()\n}\n\n// run when \"reset\" is triggered\nexport const onReset = async (actions: TT.StepActions, tutorialId: string): Promise<void> => {\n  await resetWatchers()\n  await runCommands(actions?.commands)\n  await runVSCodeCommands(actions?.vscodeCommands)\n  webhooks.onReset({\n    tutorialId,\n  })\n}\n\n// run when a tutorial is continued\nexport const onContinue = async (actions: TT.StepActions, tutorialId: string): Promise<void> => {\n  await runCommands(actions?.commands)\n  await runVSCodeCommands(actions?.vscodeCommands)\n  webhooks.onContinue({\n    tutorialId,\n  })\n}\n\n// run when an uncaught exception is thrown\nexport const onError = async (error: Error): Promise<void> => {\n  telemetry.onError(error)\n}\n\n// run when a step task passes\nexport const onStepComplete = async ({\n  tutorialId,\n  levelId,\n  stepId,\n}: {\n  tutorialId: string\n  levelId: string\n  stepId: string\n}): Promise<void> => {\n  git.saveCommit(`Save progress: ${stepId}`)\n  telemetry.onEvent('step_complete', { tutorialId, stepId, levelId, version: VERSION })\n  webhooks.onStepComplete({\n    tutorialId,\n    levelId,\n    stepId,\n  })\n}\n\n// run when a level is complete (all tasks pass or no tasks)\nexport const onLevelComplete = async ({\n  tutorialId,\n  levelId,\n}: {\n  tutorialId: string\n  levelId: string\n}): Promise<void> => {\n  telemetry.onEvent('level_complete', { tutorialId, levelId, version: VERSION })\n  webhooks.onLevelComplete({\n    tutorialId,\n    levelId,\n  })\n}\n\n// run when all levels are complete\nexport const onTutorialComplete = async ({ tutorialId }: { tutorialId: string }): Promise<void> => {\n  telemetry.onEvent('tutorial_complete', { tutorialId, version: VERSION })\n  webhooks.onTutorialComplete({\n    tutorialId,\n  })\n}\n", "import * as T from 'typings'\nimport * as vscode from 'vscode'\nimport { COMMANDS } from './commands'\nimport Context from './services/context/context'\nimport logger from './services/logger'\nimport { openWorkspace } from './services/workspace'\nimport * as actions from './actions'\nimport * as hooks from './services/hooks'\n\ninterface Channel {\n  receive(action: T.Action): Promise<void>\n}\n\nclass Channel implements Channel {\n  public context: Context\n  constructor(workspaceState: vscode.Memento) {\n    // workspaceState used for local storages\n    this.context = new Context(workspaceState)\n  }\n\n  // receive from webview\n  public receive = async (action: T.Action): Promise<void> => {\n    if (action.source !== 'coderoad') {\n      // filter out events from other extensions\n      return\n    }\n\n    // action may be an object.type or plain string\n    const actionType: string = typeof action === 'string' ? action : action.type\n\n    if (actionType === 'CLIENT_LOG') {\n      // logs in web client are not easily visible\n      // it's simpler to log to the \"CodeRoad (Logs)\" channel\n      logger(action.payload)\n      return\n    }\n\n    logger(actionType)\n\n    switch (actionType) {\n      case 'EDITOR_STARTUP':\n        actions.onStartup(this.context)\n        return\n      // clear tutorial local storage\n      // configure test runner, language, git\n      case 'EDITOR_TUTORIAL_CONFIG':\n        actions.onTutorialConfigNew(action, this.context)\n        return\n      case 'EDITOR_TUTORIAL_CONTINUE_CONFIG':\n        actions.onTutorialConfigContinue(action, this.context)\n        return\n      case 'EDITOR_VALIDATE_SETUP':\n        actions.onValidateSetup()\n        return\n      case 'EDITOR_REQUEST_WORKSPACE':\n        openWorkspace()\n        return\n      // load step actions (git commits, commands, open files)\n      case 'EDITOR_LEVEL_ENTER':\n      case 'EDITOR_STEP_ENTER':\n        await vscode.commands.executeCommand(COMMANDS.SET_CURRENT_POSITION, action.payload.position)\n        await hooks.onSetupEnter(action.payload.actions)\n        return\n      // load solution step actions (git commits, commands, open files)\n      case 'EDITOR_SOLUTION_ENTER':\n        await vscode.commands.executeCommand(COMMANDS.SET_CURRENT_POSITION, action.payload.position)\n        await hooks.onSolutionEnter(action.payload.actions)\n        return\n      case 'EDITOR_SYNC_POSITION':\n        // update progress when a level is deemed complete in the client\n        await this.context.position.set(action.payload.position)\n        return\n      case 'EDITOR_OPEN_LOGS':\n        actions.onOpenLogs(action)\n        return\n      case 'EDITOR_RUN_TEST':\n        actions.runTest(action)\n        return\n      case 'EDITOR_RUN_RESET_LATEST':\n        actions.onRunReset({ type: 'LATEST' }, this.context)\n        return\n      case 'EDITOR_RUN_RESET_POSITION':\n        actions.onRunReset({ type: 'POSITION', position: action.payload.position }, this.context)\n        return\n      case 'EDITOR_STEP_COMPLETE':\n        await hooks.onStepComplete(action.payload)\n        return\n      case 'EDITOR_LEVEL_COMPLETE':\n        await hooks.onLevelComplete(action.payload)\n        return\n      case 'EDITOR_TUTORIAL_COMPLETE':\n        await hooks.onTutorialComplete(action.payload)\n        return\n      default:\n        logger(`No match for action type: ${actionType}`)\n        return\n    }\n  }\n}\n\nexport default Channel\n", "import * as vscode from 'vscode'\nimport { readFile, writeFile } from '../node'\nimport { SESSION_STORAGE_PATH } from '../../environment'\nimport logger from '../logger'\n\n// NOTE: localStorage is not available on client\n// and must be stored in editor\n// https://github.com/Microsoft/vscode/issues/52246\n\n// storage is unfortunately bound to the vscode extension context\n// forcing it to be passed in through activation and down to other tools\nclass Storage<T> {\n  private key: string\n  private filePath: string\n  private storage: vscode.Memento\n  private defaultValue: T\n  constructor({\n    key,\n    filePath,\n    storage,\n    defaultValue,\n  }: {\n    key: string\n    filePath: string\n    storage: vscode.Memento\n    defaultValue: T\n  }) {\n    this.storage = storage\n    this.key = key\n    this.filePath = filePath\n    this.defaultValue = defaultValue\n  }\n  public get = async (): Promise<T> => {\n    if (SESSION_STORAGE_PATH) {\n      try {\n        // 1. read from file instead of local storage if specified\n        const sessionFile = await readFile(SESSION_STORAGE_PATH, `${this.filePath}.json`)\n        if (!sessionFile) {\n          throw new Error('No session file found')\n        }\n        const data: T = JSON.parse(sessionFile)\n\n        if (data) {\n          // validate session\n          const keys = Object.keys(data)\n          if (keys.length) {\n            return data\n          }\n        }\n      } catch (err: any) {\n        logger(`Failed to read or parse session file: ${SESSION_STORAGE_PATH}/${this.filePath}.json: ${err.message}`)\n      }\n    }\n    const value: string | undefined = await this.storage.get(this.key)\n    if (value) {\n      // 2. read from local storage\n      try {\n        return JSON.parse(value)\n      } catch (err: any) {\n        logger(`Failed to parse session state from local storage: ${value}: ${err.message}`)\n      }\n    }\n    // 3. fallback to the default\n    return this.defaultValue\n  }\n  public set = (value: T): void => {\n    const stringValue = JSON.stringify(value)\n    this.storage.update(this.key, stringValue)\n    this.writeToSessionFile(stringValue)\n  }\n  public update = async (value: T): Promise<void> => {\n    const current = await this.get()\n    const next = JSON.stringify({\n      ...current,\n      ...value,\n    })\n    await this.storage.update(this.key, next)\n\n    this.writeToSessionFile(next)\n  }\n  public writeToSessionFile(data: string) {\n    // optionally write state to file, useful when state cannot be controlled across containers\n    if (SESSION_STORAGE_PATH) {\n      try {\n        writeFile(data, SESSION_STORAGE_PATH, `${this.filePath}.json`)\n      } catch (err: any) {\n        logger(\n          `Failed to write coderoad session to path: ${SESSION_STORAGE_PATH}/${this.filePath}.json: ${err.message}`,\n        )\n      }\n    }\n  }\n  public reset = () => {\n    this.set(this.defaultValue)\n  }\n}\n\nexport default Storage\n", "import * as vscode from 'vscode'\nimport * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport Storage from '../../storage'\n\nconst defaultValue: T.Position = {\n  levelId: '',\n  stepId: null,\n  complete: false,\n}\n\n// position\nclass Position {\n  private value: T.Position\n  private storage: Storage<T.Position> | undefined\n  constructor() {\n    this.value = defaultValue\n  }\n  setTutorial(workspaceState: vscode.Memento, tutorial: TT.Tutorial): void {\n    this.storage = new Storage<T.Position>({\n      key: `coderoad:position:${tutorial.id}:${tutorial.version}`,\n      filePath: 'coderoad_position',\n      storage: workspaceState,\n      defaultValue,\n    })\n  }\n  async initPosition(workspaceState: vscode.Memento, tutorial: TT.Tutorial): Promise<T.Position> {\n    // set value from storage\n    this.setTutorial(workspaceState, tutorial)\n    // find first level & step id\n    const initLevel = tutorial.levels.length ? tutorial.levels[0] : null\n    return this.set({\n      levelId: initLevel?.id || '',\n      stepId: initLevel?.steps.length ? initLevel.steps[0].id : null,\n      complete: false,\n    })\n  }\n  async continuePosition(workspaceState: vscode.Memento, tutorial: TT.Tutorial): Promise<T.Position> {\n    this.setTutorial(workspaceState, tutorial)\n    const position: T.Position = (await this.storage?.get()) || defaultValue\n    return this.set(position)\n  }\n  public get = (): T.Position => {\n    return this.value\n  }\n  public set = (value: T.Position): T.Position => {\n    this.value = value\n    this.storage?.set(value)\n    return this.value\n  }\n  public reset = (): T.Position => {\n    return this.set(defaultValue)\n  }\n}\n\nexport default Position\n", "import * as TT from 'typings/tutorial'\nimport * as vscode from 'vscode'\nimport Storage from '../../storage'\n\n// Tutorial\nclass Tutorial {\n  private storage: Storage<TT.Tutorial | null>\n  private value: TT.Tutorial | null = null\n  constructor(workspaceState: vscode.Memento) {\n    this.storage = new Storage<TT.Tutorial | null>({\n      key: 'coderoad:currentTutorial',\n      filePath: 'coderoad_tutorial',\n      storage: workspaceState,\n      defaultValue: null,\n    })\n    // set value from storage\n    this.storage.get().then((value: TT.Tutorial | null) => {\n      this.value = value\n    })\n  }\n  public get = (): TT.Tutorial | null => {\n    return this.value\n  }\n  public set = (value: TT.Tutorial | null): void => {\n    this.value = value\n    this.storage.set(value)\n  }\n  public reset = (): void => {\n    this.set(null)\n  }\n}\n\nexport default Tutorial\n", "import * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport * as vscode from 'vscode'\nimport Position from './state/Position'\nimport Tutorial from './state/Tutorial'\n\nclass Context {\n  public tutorial: Tutorial\n  public position: Position\n  private workspaceState: vscode.Memento\n  constructor(workspaceState: vscode.Memento) {\n    // state held in one place\n    this.workspaceState = workspaceState\n    this.tutorial = new Tutorial(workspaceState)\n    this.position = new Position()\n  }\n  public onNew = async (tutorial: TT.Tutorial): Promise<{ position: T.Position }> => {\n    this.tutorial.set(tutorial)\n    const position: T.Position = await this.position.initPosition(this.workspaceState, tutorial)\n    return { position }\n  }\n  public onContinue = async (tutorial: TT.Tutorial): Promise<{ position: T.Position }> => {\n    const position: T.Position = await this.position.continuePosition(this.workspaceState, tutorial)\n    return { position }\n  }\n}\n\nexport default Context\n", "import * as vscode from 'vscode'\nimport * as TT from 'typings/tutorial'\nimport * as E from 'typings/error'\nimport Context from '../services/context/context'\nimport { send } from '../commands'\nimport { WORKSPACE_ROOT, TUTORIAL_URL } from '../environment'\nimport fetch from 'node-fetch'\nimport logger from '../services/logger'\n\nconst onStartup = async (context: Context): Promise<void> => {\n  try {\n    // check if a workspace is open, otherwise nothing works\n    const noActiveWorkspace = !WORKSPACE_ROOT.length\n    if (noActiveWorkspace) {\n      const error: E.ErrorMessage = {\n        type: 'NoWorkspaceFound',\n        message: '',\n        actions: [\n          {\n            label: 'Open Workspace',\n            transition: 'REQUEST_WORKSPACE',\n          },\n        ],\n      }\n      send({ type: 'NO_WORKSPACE', payload: { error } })\n      return\n    }\n\n    const env = {\n      machineId: vscode.env.machineId,\n      sessionId: vscode.env.sessionId,\n    }\n\n    // continue from tutorial from local storage\n    const tutorial: TT.Tutorial | null = context.tutorial.get()\n\n    // NEW: no stored tutorial, must start new tutorial\n    if (!tutorial || !tutorial.version) {\n      if (TUTORIAL_URL) {\n        logger(`Using tutorial url from env: ${TUTORIAL_URL}`)\n        // if a tutorial URL is added, launch on startup\n        try {\n          const tutorialRes = await fetch(TUTORIAL_URL)\n          const tutorial: TT.Tutorial = await tutorialRes.json()\n          logger(`Tutorial: ${tutorial?.summary?.title} (${tutorial?.version})`)\n          send({ type: 'START_TUTORIAL_FROM_URL', payload: { tutorial } })\n          return\n        } catch (e: any) {\n          // on failure to load a tutorial url fallback to NEW\n          throw new Error(`Failed to load tutorial from url ${TUTORIAL_URL} with error \"${e.message}\"`)\n        }\n      }\n      // NEW from start click\n      send({ type: 'START_NEW_TUTORIAL', payload: { env } })\n      return\n    }\n\n    // CONTINUE_FROM_PROGRESS\n    const { position } = await context.onContinue(tutorial)\n    logger(`Continuing tutorial from progress: level ${position?.levelId} step ${position?.stepId}`)\n    // communicate to client the tutorial & stepProgress state\n    send({ type: 'LOAD_STORED_TUTORIAL', payload: { env, tutorial, position } })\n  } catch (e: any) {\n    const error = {\n      type: 'UnknownError',\n      message: `Location: Editor startup\\n\\n${e.message}`,\n    }\n    send({ type: 'EDITOR_STARTUP_FAILED', payload: { error } })\n  }\n}\n\nexport default onStartup\n", "import * as vscode from 'vscode'\nimport * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport * as E from 'typings/error'\nimport { satisfies } from 'semver'\nimport { onEvent } from '../services/telemetry'\nimport { getVersion, compareVersions } from '../services/dependencies'\nimport Context from '../services/context/context'\nimport tutorialConfig from './utils/tutorialConfig'\nimport { send } from '../commands'\nimport { setupWebhook } from '../services/hooks/webhooks'\n\nconst onTutorialConfigNew = async (action: T.Action, context: Context): Promise<void> => {\n  try {\n    const data: TT.Tutorial = action.payload.tutorial\n\n    onEvent('tutorial_start', {\n      tutorialId: data.id,\n      tutorialVersion: data.version,\n      tutorialTitle: data.summary.title,\n    })\n\n    // validate extension version\n    const expectedAppVersion = data.config?.appVersions?.vscode\n    if (expectedAppVersion) {\n      const extension = vscode.extensions.getExtension('coderoad.coderoad')\n      if (extension) {\n        const currentAppVersion = extension.packageJSON.version\n        const satisfied = satisfies(currentAppVersion, expectedAppVersion)\n        if (!satisfied) {\n          const error: E.ErrorMessage = {\n            type: 'UnmetExtensionVersion',\n            message: `Expected CodeRoad v${expectedAppVersion}, but found v${currentAppVersion}`,\n          }\n          send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n          return\n        }\n      }\n    }\n\n    // setup tutorial config (save watcher, test runner, etc)\n    await context.onNew(data)\n\n    // validate dependencies\n    const dependencies = data.config.dependencies\n    if (dependencies && dependencies.length) {\n      for (const dep of dependencies) {\n        // check dependency is installed\n        const { version, error: gitError } = await getVersion(dep.name)\n        if (gitError) {\n          // git config issue\n          const error: E.ErrorMessage = {\n            type: 'GitConfigError',\n            message: gitError.message,\n            actions: [\n              {\n                label: 'Check Again',\n                transition: 'TRY_AGAIN',\n              },\n            ],\n          }\n          send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n          return\n        }\n        if (!version) {\n          // use a custom error message\n          const error: E.ErrorMessage = {\n            type: 'MissingTutorialDependency',\n            message: dep.message || `Process \"${dep.name}\" is required but not found. It may need to be installed`,\n            actions: [\n              {\n                label: 'Check Again',\n                transition: 'TRY_AGAIN',\n              },\n            ],\n          }\n          send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n          return\n        }\n\n        // check dependency version\n        const satisfiedDependency = await compareVersions(version, dep.version)\n\n        if (!satisfiedDependency) {\n          const error: E.ErrorMessage = {\n            type: 'UnmetTutorialDependency',\n            message: `Expected ${dep.name} to have version ${dep.version}, but found version ${version}`,\n            actions: [\n              {\n                label: 'Check Again',\n                transition: 'TRY_AGAIN',\n              },\n            ],\n          }\n          send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n          return\n        }\n\n        if (satisfiedDependency !== true) {\n          const error: E.ErrorMessage = satisfiedDependency || {\n            type: 'UnknownError',\n            message: `Something went wrong comparing dependency for ${dep.name}`,\n            actions: [\n              {\n                label: 'Try Again',\n                transition: 'TRY_AGAIN',\n              },\n            ],\n          }\n          send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n          return\n        }\n      }\n    }\n\n    const error: E.ErrorMessage | void = await tutorialConfig({ data }).catch((error: Error) => ({\n      type: 'UnknownError',\n      message: `Location: tutorial config.\\n\\n${error.message}`,\n    }))\n\n    // has error\n    if (error && error.type) {\n      send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n      return\n    }\n\n    // configure webhook\n    if (data.config?.webhook) {\n      setupWebhook(data.config.webhook)\n    }\n\n    // report back to the webview that setup is complete\n    send({ type: 'TUTORIAL_CONFIGURED' })\n  } catch (e: any) {\n    const error = {\n      type: 'UnknownError',\n      message: `Location: EditorTutorialConfig.\\n\\n ${e.message}`,\n    }\n    send({ type: 'TUTORIAL_CONFIGURE_FAIL', payload: { error } })\n  }\n}\n\nexport default onTutorialConfigNew\n", "import * as E from 'typings/error'\nimport * as TT from 'typings/tutorial'\nimport * as vscode from 'vscode'\nimport { COMMANDS } from '../../commands'\nimport * as git from '../../services/git'\nimport { DISABLE_RUN_ON_SAVE } from '../../environment'\n\ninterface TutorialConfigParams {\n  data: TT.Tutorial\n  alreadyConfigured?: boolean\n  onComplete?(): void\n}\n\nconst tutorialConfig = async ({ data, alreadyConfigured }: TutorialConfigParams): Promise<E.ErrorMessage | void> => {\n  if (!alreadyConfigured) {\n    // setup git, add remote\n    const initError: E.ErrorMessage | void = await git.initIfNotExists().catch(\n      (error: Error): E.ErrorMessage => ({\n        type: 'GitNotFound',\n        message: error.message,\n        actions: [{ label: 'Retry', transition: 'TRY_AGAIN' }],\n      }),\n    )\n\n    if (initError) {\n      return initError\n    }\n\n    // verify that internet is connected, remote exists and branch exists\n    const remoteConnectError: E.ErrorMessage | void = await git.checkRemoteConnects(data.config.repo).catch(\n      (error: Error): E.ErrorMessage => ({\n        type: 'FailedToConnectToGitRepo',\n        message: error.message,\n        actions: [{ label: 'Retry', transition: 'TRY_AGAIN' }],\n      }),\n    )\n\n    if (remoteConnectError) {\n      return remoteConnectError\n    }\n\n    // TODO if remote not already set\n    const coderoadRemoteError: E.ErrorMessage | void = await git.setupCodeRoadRemote(data.config.repo.uri).catch(\n      (error: Error): E.ErrorMessage => ({\n        type: 'GitRemoteAlreadyExists',\n        message: error.message,\n      }),\n    )\n\n    if (coderoadRemoteError) {\n      return coderoadRemoteError\n    }\n  }\n\n  await vscode.commands.executeCommand(COMMANDS.CONFIG_TEST_RUNNER, { data, alreadyConfigured })\n\n  if (!DISABLE_RUN_ON_SAVE) {\n    // verify if file test should run based on document saved\n    const shouldRunTest = (document: vscode.TextDocument): boolean => {\n      // must be a file\n      if (document.uri.scheme !== 'file') {\n        return false\n      }\n      return true\n    }\n\n    // setup onSave hook\n    vscode.workspace.onDidSaveTextDocument((document: vscode.TextDocument) => {\n      if (shouldRunTest(document)) {\n        vscode.commands.executeCommand(COMMANDS.RUN_TEST)\n      }\n    })\n  }\n}\n\nexport default tutorialConfig\n", "import * as vscode from 'vscode'\nimport * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport Context from '../services/context/context'\nimport tutorialConfig from './utils/tutorialConfig'\nimport { COMMANDS, send } from '../commands'\nimport logger from '../services/logger'\nimport { setupWebhook } from '../services/hooks/webhooks'\nimport * as hooks from '../services/hooks'\n\nconst onTutorialConfigContinue = async (action: T.Action, context: Context): Promise<void> => {\n  try {\n    const tutorialToContinue: TT.Tutorial | null = context.tutorial.get()\n    logger(`Tutorial: ${tutorialToContinue?.summary?.title} (${tutorialToContinue?.version})`)\n    if (!tutorialToContinue) {\n      throw new Error('Invalid tutorial to continue')\n    }\n    // update the current stepId on startup\n    vscode.commands.executeCommand(COMMANDS.SET_CURRENT_POSITION, action.payload.position)\n    await tutorialConfig({\n      data: tutorialToContinue,\n      alreadyConfigured: true,\n    })\n\n    // configure webhook\n    if (tutorialToContinue.config?.webhook) {\n      setupWebhook(tutorialToContinue.config.webhook)\n    }\n\n    // if tutorial.config.reset.command, run it\n    const continueActions = tutorialToContinue?.config?.continue\n    if (continueActions) {\n      await hooks.onContinue(\n        { commands: continueActions?.commands, vscodeCommands: continueActions?.vscodeCommands },\n        tutorialToContinue?.id as string,\n      )\n    }\n  } catch (e: any) {\n    const error = {\n      type: 'UnknownError',\n      message: `Location: Editor tutorial continue config.\\n\\n ${e.message}`,\n    }\n    send({ type: 'CONTINUE_FAILED', payload: { error } })\n  }\n}\n\nexport default onTutorialConfigContinue\n", "import * as E from 'typings/error'\nimport { getVersion } from '../services/dependencies'\nimport { checkWorkspaceEmpty } from '../services/workspace'\nimport { send } from '../commands'\nimport { validateGitConfig } from '../services/git'\n\nconst onValidateSetup = async (): Promise<void> => {\n  try {\n    // check workspace is selected\n    const isEmptyWorkspace = await checkWorkspaceEmpty()\n    if (!isEmptyWorkspace) {\n      const error: E.ErrorMessage = {\n        type: 'WorkspaceNotEmpty',\n        message: '',\n        actions: [\n          {\n            label: 'Open Workspace',\n            transition: 'REQUEST_WORKSPACE',\n          },\n          {\n            label: 'Check Again',\n            transition: 'RETRY',\n          },\n        ],\n      }\n      send({ type: 'VALIDATE_SETUP_FAILED', payload: { error } })\n      return\n    }\n    // check Git is installed.\n    // Should wait for workspace before running otherwise requires access to root folder\n    const { version, error: gitError } = await getVersion('git')\n    if (gitError) {\n      // git config issue\n      const error: E.ErrorMessage = {\n        type: 'GitConfigError',\n        message: gitError.message,\n        actions: [\n          {\n            label: 'Check Again',\n            transition: 'TRY_AGAIN',\n          },\n        ],\n      }\n      send({ type: 'VALIDATE_SETUP_FAILED', payload: { error } })\n      return\n    }\n    if (!version) {\n      const error: E.ErrorMessage = {\n        type: 'GitNotFound',\n        message: '',\n        actions: [\n          {\n            label: 'Check Again',\n            transition: 'RETRY',\n          },\n        ],\n      }\n      send({ type: 'VALIDATE_SETUP_FAILED', payload: { error } })\n      return\n    }\n\n    const isGitUserNameConfigured = await validateGitConfig('user.name')\n    const isGitUserEmailConfigured = await validateGitConfig('user.email')\n\n    if (!isGitUserNameConfigured || !isGitUserEmailConfigured) {\n      let message = ''\n      if (!isGitUserNameConfigured) message += 'Git user not configured.\\n'\n      if (!isGitUserEmailConfigured) message += 'Git email not configured.'\n      const error: E.ErrorMessage = {\n        type: 'GitUserNotConfigured',\n        message,\n        actions: [\n          {\n            label: 'Check Again',\n            transition: 'RETRY',\n          },\n        ],\n      }\n      send({ type: 'VALIDATE_SETUP_FAILED', payload: { error } })\n      return\n    }\n\n    send({ type: 'SETUP_VALIDATED' })\n  } catch (e: any) {\n    const error = {\n      type: 'UnknownError',\n      message: e.message,\n    }\n    send({ type: 'VALIDATE_SETUP_FAILED', payload: { error } })\n  }\n}\n\nexport default onValidateSetup\n", "import { exec, removeFile } from '../node'\nimport logger from '../logger'\ninterface Input {\n  hash: string\n  branch: string\n}\n\nconst ignoreError = () => {\n  /* */\n}\n\n// note: attempted to do this as a bash script\n// but requires the bash script has git permissions\nconst reset = async ({ branch, hash }: Input): Promise<void> => {\n  const remote = 'coderoad'\n\n  try {\n    // if no git init, will initialize\n    // otherwise re-initializes git\n    await exec({ command: 'git init' }).catch(logger)\n\n    // capture current branch\n    const hasBranch = await exec({ command: 'git branch --show-current' })\n    const localBranch = hasBranch.stdout\n    // check if coderoad remote exists\n    const hasRemote = await exec({ command: 'git remote -v' }).catch(logger)\n    if (!hasRemote || !hasRemote.stdout || !hasRemote.stdout.length) {\n      throw new Error('No remote found')\n    } else if (!hasRemote.stdout.match(new RegExp(remote))) {\n      throw new Error(`No \"${remote}\" remote found`)\n    }\n\n    // switch to an empty branch\n    await exec({\n      command: 'git checkout --orphan reset-orphan-branch',\n    })\n    // stash any current work\n    await exec({\n      command: 'git stash --include-untracked',\n    }).catch(ignoreError)\n\n    // remove any other files\n    await exec({\n      command: 'git rm -rf .',\n    }).catch(ignoreError)\n    await removeFile('.gitignore').catch(ignoreError)\n\n    await exec({\n      command: `git branch -D ${localBranch}`,\n    })\n    await exec({\n      command: `git checkout -b ${localBranch}`,\n    })\n\n    // load git timeline\n    await exec({\n      command: `git fetch coderoad ${branch}`,\n    })\n    await exec({\n      command: `git merge coderoad/${branch}`,\n    })\n    // reset to target commit hash\n    await exec({\n      command: `git reset --hard ${hash}`,\n    })\n  } catch (error: any) {\n    logger(`Error resetting: ${error.message}`)\n  }\n}\n\nexport default reset\n", "import * as TT from '../../../typings/tutorial'\nimport * as T from '../../../typings'\n\nconst getLastCommitHash = (position: T.Position, tutorial: TT.Tutorial | null): string => {\n  if (!tutorial) {\n    throw new Error('No tutorial found')\n  }\n  const { levels } = tutorial\n  // get previous position\n  const { levelId, stepId } = position\n\n  let level: TT.Level | undefined = levels.find((l) => levelId === l.id)\n  if (!level) {\n    throw new Error(`No level found matching ${levelId}`)\n  }\n\n  // handle a level with no steps\n  if (!level.steps || !level.steps.length) {\n    if (level.setup && level.setup.commits) {\n      // return level commit\n      const levelCommits = level.setup.commits\n      return levelCommits[levelCommits.length - 1]\n    } else {\n      // is there a previous level?\n      // @ts-ignore\n      const levelIndex = levels.findIndex((l: TT.Level) => level.id === l.id)\n      if (levelIndex > 0) {\n        level = levels[levelIndex - 1]\n      } else {\n        // use init commit\n        const configCommits = tutorial.config.setup?.commits\n        if (!configCommits) {\n          throw new Error('No commits found to reset back to')\n        }\n        return configCommits[configCommits.length - 1]\n      }\n    }\n  }\n\n  const step = level.steps.find((s) => stepId === s.id)\n  if (!step) {\n    throw new Error(`No step found matching ${stepId}`)\n  }\n  const commits = step.setup?.commits || []\n  if (!commits.length) {\n    throw new Error(`No commits found on step ${stepId}`)\n  }\n  return commits[commits.length - 1]\n}\n\nexport default getLastCommitHash\n", "import * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport Context from '../services/context/context'\nimport reset from '../services/reset'\nimport * as hooks from '../services/hooks'\nimport getCommitHashByPosition from '../services/reset/lastHash'\nimport logger from '../services/logger'\n\ntype ResetAction = {\n  type: 'LATEST' | 'POSITION'\n  position?: T.Position\n}\n\n// reset to the start of the last test\nconst onRunReset = async (action: ResetAction, context: Context): Promise<void> => {\n  // reset to timeline\n  const tutorial: TT.Tutorial | null = context.tutorial.get()\n  const position: T.Position = action.position ? action.position : context.position.get()\n\n  // get last pass commit\n  const hash: string = getCommitHashByPosition(position, tutorial)\n\n  const branch = tutorial?.config.repo.branch\n\n  if (!branch) {\n    logger('Error: No repo branch found for tutorial')\n    return\n  }\n\n  // load timeline until last pass commit\n  await reset({ branch, hash })\n\n  // if tutorial.config.reset.command, run it\n  const resetActions = tutorial?.config?.reset\n  if (resetActions) {\n    await hooks.onReset(\n      { commands: resetActions?.commands, vscodeCommands: resetActions?.vscodeCommands },\n      tutorial?.id as string,\n    )\n  }\n}\n\nexport default onRunReset\n", "import * as T from 'typings'\nimport { showOutput } from '../services/logger/output'\n\nexport const onOpenLogs = async (action: T.Action): Promise<void> => {\n  const channel = action.payload.channel\n  await showOutput(channel)\n}\n\nexport default onOpenLogs\n", "import * as T from 'typings'\nimport * as TT from 'typings/tutorial'\nimport * as vscode from 'vscode'\nimport createTestRunner from './services/testRunner'\nimport createWebView from './services/webview/create'\nimport * as hooks from './services/hooks'\nimport logger from './services/logger'\nimport Channel from './channel'\n\nexport const COMMANDS = {\n  START: 'coderoad.start',\n  CONFIG_TEST_RUNNER: 'coderoad.config_test_runner',\n  RUN_TEST: 'coderoad.run_test',\n  SET_CURRENT_POSITION: 'coderoad.set_current_position',\n  ENTER: 'coderoad.enter',\n}\n\ninterface CreateCommandProps {\n  extensionPath: string\n  workspaceState: vscode.Memento\n}\n\nlet sendToClient = (action: T.Action): void => {\n  // function is replaced when webview mounts\n}\n\n// This makes it easier to pass the send\n// function throughout the codebase\nexport const send = (action: T.Action): void => {\n  // log send of event to client\n  logger(`${typeof action === 'string' ? action : action.type}`)\n  sendToClient(action)\n}\n\nexport const createCommands = (commandProps: CreateCommandProps): { [key: string]: any } => {\n  const { extensionPath, workspaceState } = commandProps\n  // React panel webview\n  let webview: any\n  let currentPosition: T.Position\n  let testRunner: any\n  const channel = new Channel(workspaceState)\n\n  const start = async () => {\n    if (webview && webview.state.loaded) {\n      webview.createOrShow()\n    } else {\n      // activate machine\n      webview = await createWebView({\n        extensionPath,\n        channel,\n      })\n      // make send to client function exportable\n      // as \"send\".\n      sendToClient = webview.send\n    }\n  }\n\n  // run activation if triggered by \"workspaceContains\"\n  start()\n\n  return {\n    [COMMANDS.START]: start,\n    [COMMANDS.CONFIG_TEST_RUNNER]: async ({\n      data,\n      alreadyConfigured,\n    }: {\n      data: TT.Tutorial\n      alreadyConfigured: boolean\n    }) => {\n      if (!alreadyConfigured) {\n        const setupActions = data.config.setup\n        if (setupActions) {\n          await hooks.onInit(setupActions, data.id)\n        }\n      }\n      testRunner = createTestRunner(data, {\n        onSuccess: (position: T.Position) => {\n          logger(`Test pass position: ${JSON.stringify(position)}`)\n          // send test pass message back to client\n          channel.context.position.set({ ...position, complete: true })\n          send({ type: 'TEST_PASS', payload: { position: { ...position, complete: true } } })\n        },\n        onFail: (position: T.Position, failSummary: T.TestFail): void => {\n          // send test fail message back to client with failure message\n          send({ type: 'TEST_FAIL', payload: { position, fail: failSummary } })\n        },\n        onError: (position: T.Position) => {\n          // TODO: send test error message back to client\n          const message = 'Error with test runner'\n          send({ type: 'TEST_ERROR', payload: { position, message } })\n        },\n        onRun: (position: T.Position) => {\n          // send test run message back to client\n          send({ type: 'START_TEST', payload: { position } })\n        },\n        onLoadSubtasks: ({ summary }) => {\n          send({ type: 'LOAD_SUBTASK_RESULTS', payload: { summary } })\n        },\n      })\n    },\n    [COMMANDS.SET_CURRENT_POSITION]: (position: T.Position) => {\n      // set from last setup stepAction\n      currentPosition = position\n      channel.context.position.set(position)\n    },\n    [COMMANDS.RUN_TEST]: ({\n      subtasks,\n      callbacks,\n    }: { subtasks?: boolean; callbacks?: { onSuccess: () => void } } = {}) => {\n      testRunner({ position: currentPosition, onSuccess: callbacks?.onSuccess, subtasks })\n    },\n    [COMMANDS.ENTER]: () => {\n      send({ type: 'KEY_PRESS_ENTER' })\n    },\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,QAAA,UAAA,WAAA;AAAA,0BAAA;;AAOkB,eAAA,OAAd,SAAmB,SAAa;AAAE,YAAA,iBAAA;iBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAwB;AAAxB,yBAAA,KAAA,KAAA,UAAA;;AAC9B,YAAG,SAAQ,aAAa;AACpB,kBAAQ,KAAK,SAAQ,MAAM,SAAS;;;AAI9B,eAAA,OAAd,SAAmB,SAAa;AAAE,YAAA,iBAAA;iBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAwB;AAAxB,yBAAA,KAAA,KAAA,UAAA;;AAC9B,YAAG,CAAC,SAAQ,iBAAiB;AACzB,kBAAQ,KAAK,SAAQ,MAAM,SAAS;;;AAd9B,eAAA,cAAc;AACd,eAAA,kBAAkB;AAClB,eAAA,gBAAgB;AAEf,eAAA,MAAM;AAazB,aAAA;;AAEA,YAAA,UAAS;;;;;ACpBT;AAAA;AAAA,cAAU,QAAO,UAAU;AAE3B,QAAI;AAEJ,QAAI,OAAO,YAAY,YACnB,QAAQ,OACR,QAAQ,IAAI,cACZ,cAAc,KAAK,QAAQ,IAAI,aAAa;AAC9C,cAAQ,WAAY;AAClB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW;AACjD,aAAK,QAAQ;AACb,gBAAQ,IAAI,MAAM,SAAS;AAAA;AAAA,WAExB;AACL,cAAQ,WAAY;AAAA;AAAA;AAKtB,YAAQ,sBAAsB;AAE9B,QAAI,aAAa;AACjB,QAAI,mBAAmB,OAAO,oBACD;AAG7B,QAAI,4BAA4B;AAGhC,QAAI,KAAK,QAAQ,KAAK;AACtB,QAAI,MAAM,QAAQ,MAAM;AACxB,QAAI,IAAI;AAQR,QAAI,oBAAoB;AACxB,QAAI,qBAAqB;AACzB,QAAI,yBAAyB;AAC7B,QAAI,0BAA0B;AAM9B,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB;AAK5B,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,qBAAqB,UACzB,IAAI,qBAAqB,UACzB,IAAI,qBAAqB;AAElD,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,MAAM,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B;AAK5D,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB,QAAQ,IAAI,qBACZ,MAAM,IAAI,wBAAwB;AAE9D,QAAI,4BAA4B;AAChC,QAAI,6BAA6B,QAAQ,IAAI,0BACZ,MAAM,IAAI,wBAAwB;AAMnE,QAAI,aAAa;AACjB,QAAI,cAAc,UAAU,IAAI,wBACd,WAAW,IAAI,wBAAwB;AAEzD,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,WAAW,IAAI,6BACf,WAAW,IAAI,6BAA6B;AAKnE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB;AAMvB,QAAI,QAAQ;AACZ,QAAI,SAAS,YAAY,IAAI,mBAChB,WAAW,IAAI,mBAAmB;AAW/C,QAAI,OAAO;AACX,QAAI,YAAY,OAAO,IAAI,eACX,IAAI,cAAc,MAClB,IAAI,SAAS;AAE7B,QAAI,QAAQ,MAAM,YAAY;AAK9B,QAAI,aAAa,aAAa,IAAI,oBACjB,IAAI,mBAAmB,MACvB,IAAI,SAAS;AAE9B,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,aAAa;AAEhC,QAAI,OAAO;AACX,QAAI,QAAQ;AAKZ,QAAI,wBAAwB;AAC5B,QAAI,yBAAyB,IAAI,0BAA0B;AAC3D,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,IAAI,qBAAqB;AAEjD,QAAI,cAAc;AAClB,QAAI,eAAe,cAAc,IAAI,oBAAoB,aAC1B,IAAI,oBAAoB,aACxB,IAAI,oBAAoB,SAC5B,IAAI,cAAc,OAC1B,IAAI,SAAS;AAGhC,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,cAAc,IAAI,yBAAyB,aAC/B,IAAI,yBAAyB,aAC7B,IAAI,yBAAyB,SACjC,IAAI,mBAAmB,OAC/B,IAAI,SAAS;AAGrC,QAAI,SAAS;AACb,QAAI,UAAU,MAAM,IAAI,QAAQ,SAAS,IAAI,eAAe;AAC5D,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,QAAQ,SAAS,IAAI,oBAAoB;AAItE,QAAI,SAAS;AACb,QAAI,UAAU,wBACY,4BAA4B,oBACtB,4BAA4B,sBAC5B,4BAA4B;AAK5D,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAIjE,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAGjE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,MAAM,IAAI,QAAQ,UAAU,aAAa;AAChE,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,QAAQ,UAAU,YAAY;AAI1D,QAAI,iBAAiB;AACrB,QAAI,kBAAkB,WAAW,IAAI,QACf,UAAU,aAAa,MAAM,IAAI,eAAe;AAGtE,OAAG,kBAAkB,IAAI,OAAO,IAAI,iBAAiB;AACrD,QAAI,wBAAwB;AAM5B,QAAI,cAAc;AAClB,QAAI,eAAe,WAAW,IAAI,eAAe,gBAExB,IAAI,eAAe;AAG5C,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,WAAW,IAAI,oBAAoB,gBAE7B,IAAI,oBAAoB;AAItD,QAAI,OAAO;AACX,QAAI,QAAQ;AAIZ,SAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,YAAM,GAAG,IAAI;AACb,UAAI,CAAC,GAAG,IAAI;AACV,WAAG,KAAK,IAAI,OAAO,IAAI;AAAA;AAAA;AAHlB;AAOT,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,SAAS,YAAY;AAC/B,eAAO;AAAA;AAGT,UAAI,KAAI,QAAQ,QAAQ,GAAG,SAAS,GAAG;AACvC,UAAI,CAAC,GAAE,KAAK,UAAU;AACpB,eAAO;AAAA;AAGT,UAAI;AACF,eAAO,IAAI,OAAO,SAAS;AAAA,eACpB,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,SAAS;AACvB,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,QAAQ,OAAO,QAAQ,UAAU,KAAK;AACpD,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,SAAS;AAEjB,oBAAiB,SAAS,SAAS;AACjC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAGvB,UAAI,mBAAmB,QAAQ;AAC7B,YAAI,QAAQ,UAAU,QAAQ,OAAO;AACnC,iBAAO;AAAA,eACF;AACL,oBAAU,QAAQ;AAAA;AAAA,iBAEX,OAAO,YAAY,UAAU;AACtC,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,UAAI,QAAQ,SAAS,YAAY;AAC/B,cAAM,IAAI,UAAU,4BAA4B,aAAa;AAAA;AAG/D,UAAI,CAAE,iBAAgB,SAAS;AAC7B,eAAO,IAAI,OAAO,SAAS;AAAA;AAG7B,YAAM,UAAU,SAAS;AACzB,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AAEvB,UAAI,IAAI,QAAQ,OAAO,MAAM,QAAQ,QAAQ,GAAG,SAAS,GAAG;AAE5D,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,WAAK,MAAM;AAGX,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAEhB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAItB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,aAAa;AAAA,aACb;AACL,aAAK,aAAa,EAAE,GAAG,MAAM,KAAK,IAAI,SAAU,IAAI;AAClD,cAAI,WAAW,KAAK,KAAK;AACvB,gBAAI,MAAM,CAAC;AACX,gBAAI,OAAO,KAAK,MAAM,kBAAkB;AACtC,qBAAO;AAAA;AAAA;AAGX,iBAAO;AAAA;AAAA;AAIX,WAAK,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO;AACtC,WAAK;AAAA;AAGP,WAAO,UAAU,SAAS,WAAY;AACpC,WAAK,UAAU,KAAK,QAAQ,MAAM,KAAK,QAAQ,MAAM,KAAK;AAC1D,UAAI,KAAK,WAAW,QAAQ;AAC1B,aAAK,WAAW,MAAM,KAAK,WAAW,KAAK;AAAA;AAE7C,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,WAAW,WAAY;AACtC,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,UAAU,SAAU,OAAO;AAC1C,YAAM,kBAAkB,KAAK,SAAS,KAAK,SAAS;AACpD,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,KAAK,YAAY,UAAU,KAAK,WAAW;AAAA;AAGpD,WAAO,UAAU,cAAc,SAAU,OAAO;AAC9C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM;AAAA;AAG9C,WAAO,UAAU,aAAa,SAAU,OAAO;AAC7C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAIjC,UAAI,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AACtD,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,MAAM,WAAW,QAAQ;AAC7D,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AAC9D,eAAO;AAAA;AAGT,UAAI,KAAI;AACR,SAAG;AACD,YAAI,IAAI,KAAK,WAAW;AACxB,YAAI,IAAI,MAAM,WAAW;AACzB,cAAM,sBAAsB,IAAG,GAAG;AAClC,YAAI,MAAM,UAAa,MAAM,QAAW;AACtC,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,GAAG;AAClB;AAAA,eACK;AACL,iBAAO,mBAAmB,GAAG;AAAA;AAAA,eAExB,EAAE;AAAA;AAKb,WAAO,UAAU,MAAM,SAAU,SAAS,YAAY;AACpD,cAAQ;AAAA,aACD;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AAIH,eAAK,WAAW,SAAS;AACzB,eAAK,IAAI,SAAS;AAClB,eAAK,IAAI,OAAO;AAChB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,IAAI,SAAS;AAAA;AAEpB,eAAK,IAAI,OAAO;AAChB;AAAA,aAEG;AAKH,cAAI,KAAK,UAAU,KACf,KAAK,UAAU,KACf,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,UAAU,KAAK,KAAK,WAAW,WAAW,GAAG;AACpD,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,aAAa;AAClB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,aAAa,CAAC;AAAA,iBACd;AACL,gBAAI,KAAI,KAAK,WAAW;AACxB,mBAAO,EAAE,MAAK,GAAG;AACf,kBAAI,OAAO,KAAK,WAAW,QAAO,UAAU;AAC1C,qBAAK,WAAW;AAChB,qBAAI;AAAA;AAAA;AAGR,gBAAI,OAAM,IAAI;AAEZ,mBAAK,WAAW,KAAK;AAAA;AAAA;AAGzB,cAAI,YAAY;AAGd,gBAAI,KAAK,WAAW,OAAO,YAAY;AACrC,kBAAI,MAAM,KAAK,WAAW,KAAK;AAC7B,qBAAK,aAAa,CAAC,YAAY;AAAA;AAAA,mBAE5B;AACL,mBAAK,aAAa,CAAC,YAAY;AAAA;AAAA;AAGnC;AAAA;AAGA,gBAAM,IAAI,MAAM,iCAAiC;AAAA;AAErD,WAAK;AACL,WAAK,MAAM,KAAK;AAChB,aAAO;AAAA;AAGT,YAAQ,MAAM;AACd,iBAAc,SAAS,SAAS,OAAO,YAAY;AACjD,UAAI,OAAQ,UAAW,UAAU;AAC/B,qBAAa;AACb,gBAAQ;AAAA;AAGV,UAAI;AACF,eAAO,IAAI,OAAO,SAAS,OAAO,IAAI,SAAS,YAAY;AAAA,eACpD,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,OAAO;AACf,kBAAe,UAAU,UAAU;AACjC,UAAI,GAAG,UAAU,WAAW;AAC1B,eAAO;AAAA,aACF;AACL,YAAI,KAAK,MAAM;AACf,YAAI,KAAK,MAAM;AACf,YAAI,SAAS;AACb,YAAI,GAAG,WAAW,UAAU,GAAG,WAAW,QAAQ;AAChD,mBAAS;AACT,cAAI,gBAAgB;AAAA;AAEtB,iBAAS,OAAO,IAAI;AAClB,cAAI,QAAQ,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACzD,gBAAI,GAAG,SAAS,GAAG,MAAM;AACvB,qBAAO,SAAS;AAAA;AAAA;AAAA;AAItB,eAAO;AAAA;AAAA;AAIX,YAAQ,qBAAqB;AAE7B,QAAI,UAAU;AACd,gCAA6B,GAAG,GAAG;AACjC,UAAI,OAAO,QAAQ,KAAK;AACxB,UAAI,OAAO,QAAQ,KAAK;AAExB,UAAI,QAAQ,MAAM;AAChB,YAAI,CAAC;AACL,YAAI,CAAC;AAAA;AAGP,aAAO,MAAM,IAAI,IACZ,QAAQ,CAAC,OAAQ,KACjB,QAAQ,CAAC,OAAQ,IAClB,IAAI,IAAI,KACR;AAAA;AAGN,YAAQ,sBAAsB;AAC9B,iCAA8B,GAAG,GAAG;AAClC,aAAO,mBAAmB,GAAG;AAAA;AAG/B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,UAAU;AAClB,qBAAkB,GAAG,GAAG,OAAO;AAC7B,aAAO,IAAI,OAAO,GAAG,OAAO,QAAQ,IAAI,OAAO,GAAG;AAAA;AAGpD,YAAQ,eAAe;AACvB,0BAAuB,GAAG,GAAG;AAC3B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,WAAW;AACnB,sBAAmB,GAAG,GAAG,OAAO;AAC9B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,OAAO;AACf,kBAAe,MAAM,OAAO;AAC1B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,QAAQ,GAAG,GAAG;AAAA;AAAA;AAIjC,YAAQ,QAAQ;AAChB,mBAAgB,MAAM,OAAO;AAC3B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,SAAS,GAAG,GAAG;AAAA;AAAA;AAIlC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,IAAI,GAAG,OAAO;AAC7B,cAAQ;AAAA,aACD;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AAAA,aACA;AAAA,aACA;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA;AAGjB,gBAAM,IAAI,UAAU,uBAAuB;AAAA;AAAA;AAIjD,YAAQ,aAAa;AACrB,wBAAqB,MAAM,SAAS;AAClC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,gBAAgB,YAAY;AAC9B,YAAI,KAAK,UAAU,CAAC,CAAC,QAAQ,OAAO;AAClC,iBAAO;AAAA,eACF;AACL,iBAAO,KAAK;AAAA;AAAA;AAIhB,UAAI,CAAE,iBAAgB,aAAa;AACjC,eAAO,IAAI,WAAW,MAAM;AAAA;AAG9B,YAAM,cAAc,MAAM;AAC1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,MAAM;AAEX,UAAI,KAAK,WAAW,KAAK;AACvB,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,QAAQ,KAAK,WAAW,KAAK,OAAO;AAAA;AAG3C,YAAM,QAAQ;AAAA;AAGhB,QAAI,MAAM;AACV,eAAW,UAAU,QAAQ,SAAU,MAAM;AAC3C,UAAI,KAAI,KAAK,QAAQ,QAAQ,GAAG,mBAAmB,GAAG;AACtD,UAAI,IAAI,KAAK,MAAM;AAEnB,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,yBAAyB;AAAA;AAG/C,WAAK,WAAW,EAAE;AAClB,UAAI,KAAK,aAAa,KAAK;AACzB,aAAK,WAAW;AAAA;AAIlB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,SAAS;AAAA,aACT;AACL,aAAK,SAAS,IAAI,OAAO,EAAE,IAAI,KAAK,QAAQ;AAAA;AAAA;AAIhD,eAAW,UAAU,WAAW,WAAY;AAC1C,aAAO,KAAK;AAAA;AAGd,eAAW,UAAU,OAAO,SAAU,SAAS;AAC7C,YAAM,mBAAmB,SAAS,KAAK,QAAQ;AAE/C,UAAI,KAAK,WAAW,KAAK;AACvB,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,aAAO,IAAI,SAAS,KAAK,UAAU,KAAK,QAAQ,KAAK;AAAA;AAGvD,eAAW,UAAU,aAAa,SAAU,MAAM,SAAS;AACzD,UAAI,CAAE,iBAAgB,aAAa;AACjC,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI;AAEJ,UAAI,KAAK,aAAa,IAAI;AACxB,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,OAAO,UAAU;AAAA,iBAC9B,KAAK,aAAa,IAAI;AAC/B,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,QAAQ,UAAU;AAAA;AAG1C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,aAAa,KAAK,OAAO,YAAY,KAAK,OAAO;AACrD,UAAI,+BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,SAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,6BACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,gCACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAE/C,aAAO,2BAA2B,2BAC/B,cAAc,gCACf,8BAA8B;AAAA;AAGlC,YAAQ,QAAQ;AAChB,mBAAgB,OAAO,SAAS;AAC9B,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,iBAAiB,OAAO;AAC1B,YAAI,MAAM,UAAU,CAAC,CAAC,QAAQ,SAC1B,MAAM,sBAAsB,CAAC,CAAC,QAAQ,mBAAmB;AAC3D,iBAAO;AAAA,eACF;AACL,iBAAO,IAAI,MAAM,MAAM,KAAK;AAAA;AAAA;AAIhC,UAAI,iBAAiB,YAAY;AAC/B,eAAO,IAAI,MAAM,MAAM,OAAO;AAAA;AAGhC,UAAI,CAAE,iBAAgB,QAAQ;AAC5B,eAAO,IAAI,MAAM,OAAO;AAAA;AAG1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,oBAAoB,CAAC,CAAC,QAAQ;AAGnC,WAAK,MAAM;AACX,WAAK,MAAM,MAAM,MAAM,cAAc,IAAI,SAAU,QAAO;AACxD,eAAO,KAAK,WAAW,OAAM;AAAA,SAC5B,MAAM,OAAO,SAAU,GAAG;AAE3B,eAAO,EAAE;AAAA;AAGX,UAAI,CAAC,KAAK,IAAI,QAAQ;AACpB,cAAM,IAAI,UAAU,2BAA2B;AAAA;AAGjD,WAAK;AAAA;AAGP,UAAM,UAAU,SAAS,WAAY;AACnC,WAAK,QAAQ,KAAK,IAAI,IAAI,SAAU,OAAO;AACzC,eAAO,MAAM,KAAK,KAAK;AAAA,SACtB,KAAK,MAAM;AACd,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,WAAW,WAAY;AACrC,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,aAAa,SAAU,OAAO;AAC5C,UAAI,QAAQ,KAAK,QAAQ;AACzB,cAAQ,MAAM;AAEd,UAAI,KAAK,QAAQ,GAAG,oBAAoB,GAAG;AAC3C,cAAQ,MAAM,QAAQ,IAAI;AAC1B,YAAM,kBAAkB;AAExB,cAAQ,MAAM,QAAQ,GAAG,iBAAiB;AAC1C,YAAM,mBAAmB,OAAO,GAAG;AAGnC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,MAAM,OAAO,KAAK;AAKhC,UAAI,SAAS,QAAQ,GAAG,mBAAmB,GAAG;AAC9C,UAAI,MAAM,MAAM,MAAM,KAAK,IAAI,SAAU,MAAM;AAC7C,eAAO,gBAAgB,MAAM,KAAK;AAAA,SACjC,MAAM,KAAK,KAAK,MAAM;AACzB,UAAI,KAAK,QAAQ,OAAO;AAEtB,cAAM,IAAI,OAAO,SAAU,MAAM;AAC/B,iBAAO,CAAC,CAAC,KAAK,MAAM;AAAA;AAAA;AAGxB,YAAM,IAAI,IAAI,SAAU,MAAM;AAC5B,eAAO,IAAI,WAAW,MAAM,KAAK;AAAA,SAChC;AAEH,aAAO;AAAA;AAGT,UAAM,UAAU,aAAa,SAAU,OAAO,SAAS;AACrD,UAAI,CAAE,kBAAiB,QAAQ;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,aAAO,KAAK,IAAI,KAAK,SAAU,iBAAiB;AAC9C,eAAO,gBAAgB,MAAM,SAAU,gBAAgB;AACrD,iBAAO,MAAM,IAAI,KAAK,SAAU,kBAAkB;AAChD,mBAAO,iBAAiB,MAAM,SAAU,iBAAiB;AACvD,qBAAO,eAAe,WAAW,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ5D,YAAQ,gBAAgB;AACxB,2BAAwB,OAAO,SAAS;AACtC,aAAO,IAAI,MAAM,OAAO,SAAS,IAAI,IAAI,SAAU,MAAM;AACvD,eAAO,KAAK,IAAI,SAAU,GAAG;AAC3B,iBAAO,EAAE;AAAA,WACR,KAAK,KAAK,OAAO,MAAM;AAAA;AAAA;AAO9B,6BAA0B,MAAM,SAAS;AACvC,YAAM,QAAQ,MAAM;AACpB,aAAO,cAAc,MAAM;AAC3B,YAAM,SAAS;AACf,aAAO,cAAc,MAAM;AAC3B,YAAM,UAAU;AAChB,aAAO,eAAe,MAAM;AAC5B,YAAM,UAAU;AAChB,aAAO,aAAa,MAAM;AAC1B,YAAM,SAAS;AACf,aAAO;AAAA;AAGT,iBAAc,IAAI;AAChB,aAAO,CAAC,MAAM,GAAG,kBAAkB,OAAO,OAAO;AAAA;AASnD,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AAEjB,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,mBAChD,IAAI;AACb,gBAAM,mBAAmB;AACzB,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,eAC7B;AAEL,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAGpC,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAUX,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,YAAM,SAAS,MAAM;AACrB,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AACjB,cAAI,MAAM,KAAK;AACb,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,iBACpD;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAU,EAAC,IAAI,KAAK;AAAA;AAAA,mBAExC,IAAI;AACb,gBAAM,mBAAmB;AACzB,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA,eAErB;AACL,gBAAM;AACN,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA;AAI5B,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAIX,4BAAyB,MAAM,SAAS;AACtC,YAAM,kBAAkB,MAAM;AAC9B,aAAO,KAAK,MAAM,OAAO,IAAI,SAAU,OAAM;AAC3C,eAAO,cAAc,OAAM;AAAA,SAC1B,KAAK;AAAA;AAGV,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK;AACZ,UAAI,KAAI,QAAQ,QAAQ,GAAG,eAAe,GAAG;AAC7C,aAAO,KAAK,QAAQ,IAAG,SAAU,KAAK,MAAM,GAAG,GAAG,GAAG,IAAI;AACvD,cAAM,UAAU,MAAM,KAAK,MAAM,GAAG,GAAG,GAAG;AAC1C,YAAI,KAAK,IAAI;AACb,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,OAAO;AAEX,YAAI,SAAS,OAAO,MAAM;AACxB,iBAAO;AAAA;AAGT,YAAI,IAAI;AACN,cAAI,SAAS,OAAO,SAAS,KAAK;AAEhC,kBAAM;AAAA,iBACD;AAEL,kBAAM;AAAA;AAAA,mBAEC,QAAQ,MAAM;AAGvB,cAAI,IAAI;AACN,gBAAI;AAAA;AAEN,cAAI;AAEJ,cAAI,SAAS,KAAK;AAIhB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AACT,kBAAI;AACJ,kBAAI;AAAA,mBACC;AACL,kBAAI,CAAC,IAAI;AACT,kBAAI;AAAA;AAAA,qBAEG,SAAS,MAAM;AAGxB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AAAA,mBACJ;AACL,kBAAI,CAAC,IAAI;AAAA;AAAA;AAIb,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,mBACxB,IAAI;AACb,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI;AACb,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAG3D,cAAM,iBAAiB;AAEvB,eAAO;AAAA;AAAA;AAMX,0BAAuB,MAAM,SAAS;AACpC,YAAM,gBAAgB,MAAM;AAE5B,aAAO,KAAK,OAAO,QAAQ,GAAG,OAAO;AAAA;AAQvC,2BAAwB,IACtB,MAAM,IAAI,IAAI,IAAI,KAAK,IACvB,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI;AACzB,UAAI,IAAI,KAAK;AACX,eAAO;AAAA,iBACE,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK;AAAA,iBACV,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK,MAAM,KAAK;AAAA,aACzB;AACL,eAAO,OAAO;AAAA;AAGhB,UAAI,IAAI,KAAK;AACX,aAAK;AAAA,iBACI,IAAI,KAAK;AAClB,aAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACd,IAAI,KAAK;AAClB,aAAK,MAAM,KAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACzB,KAAK;AACd,aAAK,OAAO,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,aACxC;AACL,aAAK,OAAO;AAAA;AAGd,aAAQ,QAAO,MAAM,IAAI;AAAA;AAI3B,UAAM,UAAU,OAAO,SAAU,SAAS;AACxC,UAAI,CAAC,SAAS;AACZ,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,eAAS,KAAI,GAAG,KAAI,KAAK,IAAI,QAAQ,MAAK;AACxC,YAAI,QAAQ,KAAK,IAAI,KAAI,SAAS,KAAK,UAAU;AAC/C,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,qBAAkB,KAAK,SAAS,SAAS;AACvC,eAAS,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AACnC,YAAI,CAAC,IAAI,IAAG,KAAK,UAAU;AACzB,iBAAO;AAAA;AAAA;AAIX,UAAI,QAAQ,WAAW,UAAU,CAAC,QAAQ,mBAAmB;AAM3D,aAAK,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AAC/B,gBAAM,IAAI,IAAG;AACb,cAAI,IAAI,IAAG,WAAW,KAAK;AACzB;AAAA;AAGF,cAAI,IAAI,IAAG,OAAO,WAAW,SAAS,GAAG;AACvC,gBAAI,UAAU,IAAI,IAAG;AACrB,gBAAI,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,OAAO;AACnC,qBAAO;AAAA;AAAA;AAAA;AAMb,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,YAAY;AACpB,wBAAoB,SAAS,OAAO,SAAS;AAC3C,UAAI;AACF,gBAAQ,IAAI,MAAM,OAAO;AAAA,eAClB,IAAP;AACA,eAAO;AAAA;AAET,aAAO,MAAM,KAAK;AAAA;AAGpB,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,IAAI;AAEnC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,GAAG;AAElC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,OAAO;AACjC,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS,IAAI,OAAO;AACpB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS;AACT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,oBAAY,QAAQ,SAAU,YAAY;AAExC,cAAI,UAAU,IAAI,OAAO,WAAW,OAAO;AAC3C,kBAAQ,WAAW;AAAA,iBACZ;AACH,kBAAI,QAAQ,WAAW,WAAW,GAAG;AACnC,wBAAQ;AAAA,qBACH;AACL,wBAAQ,WAAW,KAAK;AAAA;AAE1B,sBAAQ,MAAM,QAAQ;AAAA,iBAEnB;AAAA,iBACA;AACH,kBAAI,CAAC,UAAU,GAAG,QAAQ,UAAU;AAClC,yBAAS;AAAA;AAEX;AAAA,iBACG;AAAA,iBACA;AAEH;AAAA;AAGA,oBAAM,IAAI,MAAM,2BAA2B,WAAW;AAAA;AAAA;AAAA;AAK9D,UAAI,UAAU,MAAM,KAAK,SAAS;AAChC,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,SAAS;AACnC,UAAI;AAGF,eAAO,IAAI,MAAM,OAAO,SAAS,SAAS;AAAA,eACnC,IAAP;AACA,eAAO;AAAA;AAAA;AAKX,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAItC,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAGtC,YAAQ,UAAU;AAClB,qBAAkB,SAAS,OAAO,MAAM,SAAS;AAC/C,gBAAU,IAAI,OAAO,SAAS;AAC9B,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,MAAM,OAAO,MAAM,MAAM;AAC7B,cAAQ;AAAA,aACD;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA,aACG;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA;AAEA,gBAAM,IAAI,UAAU;AAAA;AAIxB,UAAI,WAAU,SAAS,OAAO,UAAU;AACtC,eAAO;AAAA;AAMT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,YAAI,OAAO;AACX,YAAI,MAAM;AAEV,oBAAY,QAAQ,SAAU,YAAY;AACxC,cAAI,WAAW,WAAW,KAAK;AAC7B,yBAAa,IAAI,WAAW;AAAA;AAE9B,iBAAO,QAAQ;AACf,gBAAM,OAAO;AACb,cAAI,KAAK,WAAW,QAAQ,KAAK,QAAQ,UAAU;AACjD,mBAAO;AAAA,qBACE,KAAK,WAAW,QAAQ,IAAI,QAAQ,UAAU;AACvD,kBAAM;AAAA;AAAA;AAMV,YAAI,KAAK,aAAa,QAAQ,KAAK,aAAa,OAAO;AACrD,iBAAO;AAAA;AAKT,YAAK,EAAC,IAAI,YAAY,IAAI,aAAa,SACnC,MAAM,SAAS,IAAI,SAAS;AAC9B,iBAAO;AAAA,mBACE,IAAI,aAAa,SAAS,KAAK,SAAS,IAAI,SAAS;AAC9D,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,SAAS,SAAS;AACrC,UAAI,SAAS,MAAM,SAAS;AAC5B,aAAQ,UAAU,OAAO,WAAW,SAAU,OAAO,aAAa;AAAA;AAGpE,YAAQ,aAAa;AACrB,wBAAqB,IAAI,IAAI,SAAS;AACpC,WAAK,IAAI,MAAM,IAAI;AACnB,WAAK,IAAI,MAAM,IAAI;AACnB,aAAO,GAAG,WAAW;AAAA;AAGvB,YAAQ,SAAS;AACjB,oBAAiB,SAAS;AACxB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,QAAQ,MAAM,GAAG;AAE7B,UAAI,SAAS,MAAM;AACjB,eAAO;AAAA;AAGT,aAAO,MAAM,MAAM,KACjB,MAAO,OAAM,MAAM,OACnB,MAAO,OAAM,MAAM;AAAA;AAAA;AAAA;;;ACz8CvB;AAAA;AAAA;AAGA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAI,QAAO,QAAQ;AACnB,QAAI,SAAS;AAEb,QAAI,eAAe,QAAQ;AAC3B,QAAI,gBAAgB,OAAO,KAAK,QAAQ,QAAQ;AAChD,QAAI,kBAAkB,aAAa,UAAU;AAC7C,iCAA6B,cAAc;AACvC,UAAI,iBAAiB;AACrB,aAAO,wBAAwB,UAAU;AACrC,YAAI,iBAAiB,gBAAgB,MAAM,MAAM;AACjD,YAAI,aAAa,WAAW;AAExB,cAAI,aAAa,aAAa,iBAAiB,UAAU;AACzD,cAAI,eAAe,eAAe,aAAa;AAE3C,mBAAO,eAAe;AAAA;AAE1B,cAAI,gBAAgB;AACpB,cAAI,cAAc,QAAQ,YAAY,GAAG;AACrC,gBAAI;AACA,8BAAgB,gBAAgB,KAAK,MAAM,MAAK,KAAK,UAAU,iBAAiB;AAAA,qBAE7E,GAAP;AAGI,qBAAO;AAAA;AAAA,iBAGV;AAGD,4BAAgB,QAAQ,QAAQ,UAAU;AAAA;AAE9C,cAAI,qBAAqB,cAAc,QAAQ;AAC/C,cAAI,sBAAsB,GAAG;AAIzB,4BAAgB,cAAc,UAAU,GAAG;AAAA;AAE/C,cAAI,iBAAiB;AACrB,mBAAS,KAAK,GAAG,KAAK,aAAa,WAAW,KAAK,GAAG,QAAQ,MAAM;AAChE,gBAAI,gBAAgB,GAAG;AACvB,gBAAI,OAAO,UAAU,eAAe,cAAc,mBAAmB;AACjE,+BAAiB,cAAc,MAAM,gBAAgB;AAAA;AAAA;AAG7D,iBAAO,eAAe,cAAc;AAAA;AAExC,eAAO;AAAA;AAAA;AAGf,YAAQ,sBAAsB;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxD9B;AAAA;AAAA;AAGA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAI,iBAAiB;AACrB,QAAI,iBAAiB;AACrB,YAAQ,sBAAsB,eAAe;AAC7C,QAAI,aAAa,SAAU,YAAY;AAAE,aAAO;AAAA;AAChD,QAAI,gCAAiC,WAAY;AAC7C,gDAAyC;AACrC,aAAK,UAAU,mBAAgC;AAC/C,aAAK,cAAc;AACnB,aAAK,8BAA8B,SAAU,IAAI;AAAE,iBAAO;AAAA;AAC1D,aAAK,eAAe;AACpB,aAAK,sBAAsB;AAAA;AAE/B,qCAA8B,UAAU,gBAAgB,SAAU,MAAM;AACpE,YAAI,YAAY,KAAK,YAAY;AACjC,YAAI,WAAW;AACX,iBAAO,UAAU,KAAK,SAAU,IAAI;AAChC,gBAAI,SAAS,GAAG;AAChB,mBAAO,CAAC,UAAU,OAAO;AAAA;AAAA;AAGjC,eAAO;AAAA;AAEX,qCAA8B,UAAU,UAAU,SAAU,MAAM,OAAO;AACrE,YAAI,KAAK,qBAAqB;AAC1B;AAAA;AAEJ,YAAI,YAAY,KAAK,YAAY;AAEjC,YAAI,WAAW;AACX,cAAI,kBAAkB;AAAA,YAClB,WAAW,KAAK;AAAA,YAChB,MAAM;AAAA;AAEV,eAAK,sBAAsB;AAC3B,oBAAU,QAAQ,SAAU,IAAI;AAC5B,gBAAI,WAAW,GAAG,UAAU,SAAS,GAAG;AACxC,gBAAI;AACA,kBAAI,UAAU,OAAO,OAAO;AACxB,yBAAS;AAAA;AAAA,qBAGV,GAAP;AAAA;AAAA;AAIJ,eAAK,sBAAsB;AAAA;AAAA;AAGnC,qCAA8B,UAAU,YAAY,SAAU,MAAM,UAAU,QAAQ;AAClF,YAAI,WAAW,QAAQ;AAAE,mBAAS;AAAA;AAClC,YAAI,CAAC,KAAK,YAAY,OAAO;AACzB,eAAK,YAAY,QAAQ;AAAA;AAE7B,aAAK,YAAY,MAAM,KAAK,EAAE,UAAoB;AAAA;AAEtD,qCAA8B,UAAU,cAAc,SAAU,MAAM,UAAU,QAAQ;AACpF,YAAI,WAAW,QAAQ;AAAE,mBAAS;AAAA;AAClC,YAAI,YAAY,KAAK,YAAY;AACjC,YAAI,WAAW;AACX,mBAAS,QAAQ,GAAG,QAAQ,UAAU,QAAQ,EAAE,OAAO;AACnD,gBAAI,UAAU,OAAO,aAAa,YAAY,UAAU,OAAO,WAAW,QAAQ;AAC9E,wBAAU,OAAO,OAAO;AACxB,qBAAO;AAAA;AAAA;AAAA;AAInB,eAAO;AAAA;AAGX,qCAA8B,UAAU,QAAQ,WAAY;AACxD,YAAI,QAAQ;AACZ,aAAK,cAAc;AACnB,aAAK,8BAA8B,SAAU,IAAI;AAAE,iBAAO;AAAA;AAE1D,eAAO,oBAAoB,KAAK,cAAc,QAAQ,SAAU,MAAM;AAAE,iBAAO,OAAO,MAAM,aAAa;AAAA;AAAA;AAE7G,qCAA8B,UAAU,gBAAgB,SAAU,IAAI;AAClE,eAAO,KAAK,4BAA4B;AAAA;AAE5C,qCAA8B,UAAU,yBAAyB,SAAU,WAAW;AAClF,YAAI,4BAA4B,KAAK;AACrC,aAAK,8BAA+B,SAAU,IAAI;AAAE,iBAAO,UAAU,0BAA0B;AAAA;AAAA;AAEnG,qCAA8B,UAAU,sBAAsB,SAAU,aAAa,SAAS;AAC1F,YAAI,CAAC,KAAK,aAAa,cAAc;AACjC,eAAK,aAAa,eAAe;AAAA;AAErC,aAAK,aAAa,aAAa,KAAK;AAAA;AAExC,qCAA8B,UAAU,mBAAmB,WAAY;AACnE,eAAO,KAAK;AAAA;AAEhB,aAAO;AAAA;AAEX,QAAI,CAAC,OAAO,mBAAmB;AAC3B,aAAO,oBAAoB,IAAI;AAG3B,qBAAe,QAAQ;AAG3B,mBAAa,UAAU,UAAU,eAAe,oBAAoB,OAAO,kBAAkB;AAAA;AAHzF;AAKR,YAAQ,UAAU,OAAO;AAAA;AAAA;;;AC3GzB;AAAA;AAAA;AACA,QAAI,WAAY,WAAQ,QAAK,YAAa,OAAO,UAAU,SAAS,GAAG;AACnE,eAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,YAAI,UAAU;AACd,iBAAS,KAAK;AAAG,cAAI,OAAO,UAAU,eAAe,KAAK,GAAG;AACzD,cAAE,KAAK,EAAE;AAAA;AAEjB,aAAO;AAAA;AAEX,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAI,uBAAuB;AAC3B,YAAQ,qBAAqB;AAU7B,QAAI,gCAAgC,SAAU,aAAa;AACvD,UAAI;AACA,YAAI,cAAc,QAAQ,0BAA0B;AACpD,YAAI,eAAe,qBAAqB,QAAQ,wBAC1C,EAAE,cAAc,qBAAqB,QAAQ,0BAC7C;AACN,YAAI,WAAW,IAAI,YAAY;AAG/B,YAAI,sBAAsB,SAAS;AACnC,iBAAS,YAAY,SAAU,MAAM,SAAS;AAE1C,cAAI,CAAC,WAAW,CAAC,QAAQ,QAAQ;AAC7B,gBAAI,kBAAkB,SAAS;AAC/B,gBAAI,mBAAmB,gBAAgB,aAAa,gBAAgB,UAAU,aAAa;AACvF,wBAAU,SAAS,IAAI,SAAS,EAAE,QAAQ;AAAA,gBAClC,SAAS,gBAAgB,UAAU,YAAY;AAAA,gBAC/C,QAAQ,gBAAgB,UAAU,YAAY;AAAA;AAAA;AAAA;AAI9D,cAAI,OAAO,oBAAoB,KAAK,MAAM,MAAM;AAChD,eAAK,SAAS;AACd,iBAAO;AAAA;AAEX,iBAAS,iBAAiB,IAAI;AAC9B,iBAAS,QAAQ,sBAAsB;AACvC,oBAAY,UAAU;AAAA,eAEnB,GAAP;AAAA;AACA,aAAO;AAAA;AAEX,QAAI,4BAA2C,WAAY;AACvD,4CAAqC;AAAA;AAErC,iCAA0B,UAAU,UAAU,SAAU,MAAM;AAAA;AAG9D,iCAA0B,UAAU,QAAQ,SAAU,MAAM;AACxD,6BAAqB,QAAQ,QAAQ,qBAAqB;AAAA;AAE9D,iCAA0B,UAAU,WAAW,WAAY;AAAA;AAG3D,aAAO;AAAA;AAEX,YAAQ,mBAAmB;AAAA,MACvB,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,uBAAuB,QAAQ;AAAA;AAEpF,YAAQ,SAAS;AAAA;AAAA;;;AC1EjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,sBAAsB,SAAU,gBAAgB;AAChD,UAAI,eAAe,eAAe,UAAU;AAC5C,qBAAe,UAAU,QAAQ,SAAU,KAAK,QAAQ;AACpD,YAAI,MAAM,aAAa,MAAM,MAAM;AACnC,YAAI,CAAC,QAAQ;AACT,cAAI,MAAM;AACV,cAAI,CAAC,KAAK;AACN,kBAAM,aAAa,KAAK,MAAM,KAAK;AAAA;AAEvC,+BAAqB,QAAQ,QAAQ,UAAU,EAAE,OAAO,IAAI,OAAO,QAAQ;AAAA;AAE/E,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,YAAQ,SAAS;AAAA,MACb,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,UAAU,QAAQ;AAAA;AAEvE,YAAQ,SAAS;AAAA;AAAA;;;AC3BjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,WAAW,QAAQ;AACvB,QAAI,uBAAuB,SAAU,iBAAiB;AAClD,UAAI,qBAAqB,IAAI,SAAS;AACtC,UAAI,qBAAqB,IAAI,SAAS;AAGtC,yBAAmB,QAAQ,SAAU,OAAO;AACxC,YAAI,CAAC,OAAO;AACR,iBAAO;AAAA;AAEX,YAAI,UAAU,MAAM;AACpB,6BAAqB,QAAQ,QAAQ,WAAW,EAAE;AAClD,eAAO;AAAA;AAEX,yBAAmB,QAAQ,SAAU,OAAO;AACxC,YAAI,CAAC,OAAO;AACR,iBAAO;AAAA;AAEX,YAAI,UAAU,MAAM;AACpB,6BAAqB,QAAQ,QAAQ,WAAW,EAAE,SAAkB,QAAQ;AAC5E,eAAO;AAAA;AAEX,UAAI,mBAAmB,IAAI,gBAAgB,QAAQ,oBAAoB;AACvE,UAAI,iBAAiB,CAAC,OAAO,QAAQ,QAAQ,SAAS,OAAO,QAAQ,WAAW,SAAS;AACzF,UAAI,UAAU,SAAU,SAAQ;AAC5B,YAAI,iBAAiB,gBAAgB;AACrC,YAAI,gBAAgB;AAChB,0BAAgB,WAAU,WAAY;AAClC,gBAAI,iBAAiB,UAAS;AAC1B,kBAAI;AACA,iCAAiB,SAAQ,MAAM,kBAAkB;AAAA,uBAE9C,GAAP;AAAA;AAAA;AAIJ,mBAAO,eAAe,MAAM,iBAAiB;AAAA;AAAA;AAAA;AAIzD,eAAS,KAAK,GAAG,mBAAmB,gBAAgB,KAAK,iBAAiB,QAAQ,MAAM;AACpF,YAAI,SAAS,iBAAiB;AAC9B,gBAAQ;AAAA;AAEZ,aAAO;AAAA;AAEX,YAAQ,UAAU;AAAA,MACd,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AAGpE,cAAQ;AAAA;AAEZ,YAAQ,SAAS;AAAA;AAAA;;;AC7DjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,2BAA2B,SAAU,mBAAmB;AACxD,UAAI,kBAAkB,kBAAkB,OAAO,UAAU;AACzD,wBAAkB,OAAO,UAAU,UAAU,oCAAoC;AAC7E,YAAI,MAAM,gBAAgB,MAAM,MAAM;AAItC,YAAI,gBAAgB,KAAK,EAAE,KAAK;AAChC,aAAK,EAAE,KAAK,QAAQ,kCAAkC;AAClD,cAAI,QAAQ,OAAO,UAAU,OAAO,aAAa,IAAI;AACrD,cAAI,OAAO,UAAU,WAAW,YAAY;AACxC,sBAAU,SAAS,qBAAqB,QAAQ,cAAc,UAAU;AAAA;AAE5E,iBAAO,cAAc,MAAM,MAAM;AAAA;AAIrC,YAAI,iBAAiB,KAAK,EAAE,KAAK;AACjC,aAAK,EAAE,KAAK,SAAS,mCAAmC;AACpD,cAAI,OAAO,UAAU,OAAO,YAAY;AACpC,sBAAU,KAAK,qBAAqB,QAAQ,cAAc,UAAU;AAAA;AAExE,iBAAO,eAAe,MAAM,MAAM;AAAA;AAEtC,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,YAAQ,YAAY;AAAA,MAChB,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,gBAAgB,QAAQ;AAAA;AAE7E,YAAQ,SAAS;AAAA;AAAA;;;ACxCjB;AAAA;AAAA;AACA,QAAI,WAAY,WAAQ,QAAK,YAAa,OAAO,UAAU,SAAS,GAAG;AACnE,eAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,YAAI,UAAU;AACd,iBAAS,KAAK;AAAG,cAAI,OAAO,UAAU,eAAe,KAAK,GAAG;AACzD,cAAE,KAAK,EAAE;AAAA;AAEjB,aAAO;AAAA;AAEX,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,uBAAuB,SAAU,eAAe;AAChD,UAAI,WAAW,cAAc,WAAW;AAAA,QACpC,sBAAsB;AAAA,UAClB,MAAM,WAAY;AACd,mBAAO,qBAAqB,QAAQ,cAAc,SAAU,IAAI;AAAE,qBAAO;AAAA;AAAA;AAAA;AAAA;AAIrF,UAAI,WAAW;AACf,eAAS,GAAG,WAAW,SAAU,OAAO;AACpC,YAAI,SAAS,MAAM,YAAY;AAI3B;AAAA;AAEJ,iBAAS,MAAM,aAAa,SAAS,IAAI,OAAO,EAAE,MAAM,IAAI;AAAA;AAEhE,eAAS,GAAG,aAAa,SAAU,OAAO;AACtC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,MAAM,gBAAgB,YAAY;AACzC,gBAAM,YAAY,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AAAA,eAE3I;AAED,+BAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AAAA;AAG7G,eAAS,GAAG,UAAU,SAAU,OAAO;AACnC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,MAAM,gBAAgB,YAAY;AACzC,gBAAM,YAAY,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AAAA,eAE3I;AAED,+BAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AAAA;AAG7G,aAAO;AAAA;AAEX,QAAI,wBAAwB,SAAU,eAAe;AACjD,UAAI,WAAW,cAAc;AAC7B,UAAI,WAAW;AACf,UAAI,aAAa;AACjB,eAAS,GAAG,WAAW,SAAU,OAAO;AACpC,YAAI,SAAS,MAAM,YAAY;AAI3B;AAAA;AAEJ,mBAAW,MAAM,aAAa,qBAAqB,QAAQ,cAAc,SAAU,IAAI;AAAE,iBAAO;AAAA;AAChG,iBAAS,MAAM,aAAa,SAAS,IAAI,OAAO,EAAE,MAAM,IAAI;AAAA;AAEhE,eAAS,GAAG,aAAa,SAAU,OAAO;AACtC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,UAAU,YAAY,OAAO,WAAW,MAAM,eAAe,YAAY;AAChF,qBAAW,MAAM,WAAW,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AACtJ,iBAAO,WAAW,MAAM;AAAA;AAAA;AAGhC,eAAS,GAAG,UAAU,SAAU,OAAO;AACnC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,UAAU,YAAY,OAAO,WAAW,MAAM,eAAe,YAAY;AAChF,qBAAW,MAAM,WAAW,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AACtJ,iBAAO,WAAW,MAAM;AAAA;AAAA;AAGhC,aAAO;AAAA;AAIX,QAAI,2BAA2B,SAAU,eAAe;AACpD,UAAI,kBAAkB,cAAc,OAAO,UAAU;AACrD,oBAAc,OAAO,UAAU,UAAU,oCAAoC;AACzE,YAAI,MAAM,gBAAgB,MAAM,MAAM;AAItC,YAAI,gBAAgB,KAAK,EAAE,aAAa,EAAE,KAAK;AAC/C,aAAK,EAAE,aAAa,EAAE,KAAK,QAAQ,kCAAkC;AACjE,cAAI,QAAQ,OAAO,UAAU,OAAO,aAAa,IAAI;AACrD,cAAI,OAAO,UAAU,WAAW,YAAY;AACxC,sBAAU,SAAS,qBAAqB,QAAQ,cAAc,UAAU;AAAA;AAE5E,iBAAO,cAAc,MAAM,MAAM;AAAA;AAIrC,YAAI,iBAAiB,KAAK,EAAE,aAAa,EAAE,KAAK;AAChD,aAAK,EAAE,aAAa,EAAE,KAAK,SAAS,mCAAmC;AACnE,cAAI,OAAO,UAAU,OAAO,YAAY;AACpC,sBAAU,KAAK,qBAAqB,QAAQ,cAAc,UAAU;AAAA;AAExE,iBAAO,eAAe,MAAM,MAAM;AAAA;AAEtC,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,QAAI,0BAA0B,SAAU,eAAe;AACnD,+BAAyB;AACzB,UAAI,WAAW,cAAc;AAC7B,UAAI,WAAW;AACf,UAAI,aAAa;AACjB,eAAS,GAAG,WAAW,SAAU,OAAO;AACpC,YAAI,SAAS,MAAM,YAAY;AAI3B;AAAA;AAEJ,mBAAW,MAAM,aAAa,qBAAqB,QAAQ,cAAc,SAAU,IAAI;AAAE,iBAAO;AAAA;AAChG,iBAAS,MAAM,aAAa;AAAA;AAEhC,eAAS,GAAG,aAAa,SAAU,OAAO;AACtC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,UAAU,YAAY,OAAO,WAAW,MAAM,eAAe,YAAY;AAChF,qBAAW,MAAM,WAAW,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AACtJ,iBAAO,WAAW,MAAM;AAAA;AAAA;AAGhC,eAAS,GAAG,UAAU,SAAU,OAAO;AACnC,YAAI,cAAc,SAAS,MAAM;AACjC,YAAI,aAAa;AACb,iBAAO,SAAS,MAAM;AAAA;AAE1B,YAAI,OAAO,UAAU,YAAY,OAAO,WAAW,MAAM,eAAe,YAAY;AAChF,qBAAW,MAAM,WAAW,WAAY;AAAE,mBAAO,qBAAqB,QAAQ,QAAQ,WAAW,EAAE,aAA0B,OAAc,WAAW;AAAA;AACtJ,iBAAO,WAAW,MAAM;AAAA;AAAA;AAGhC,aAAO;AAAA;AAEX,YAAQ,SAAS;AAAA,MACb,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,YAAQ,SAAS;AAAA,MACb,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,YAAQ,WAAW;AAAA,MACf,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AACpE,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AACpE,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AAAA;AAExE,YAAQ,SAAS;AAAA;AAAA;;;ACnLjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,QAAO,QAAQ;AACnB,QAAI,qBAAqB,SAAU,eAAe,mBAAmB;AAGjE,UAAI,sBAAsB,SAAU,KAAK,MAAM;AAC3C,eAAO,SAAU,MAAM,WAAW;AAC9B,cAAI,eAAe,IAAI;AACvB,cAAI,cAAc;AACd,gBAAI,QAAQ,iCAAiC;AAEzC,kBAAI,QAAQ,UAAU,SAAS;AAC/B,uBAAS,IAAI,UAAU,SAAS,GAAG,KAAK,GAAG,EAAE,GAAG;AAC5C,oBAAI,OAAO,UAAU,OAAO,YAAY;AACpC,0BAAQ;AACR;AAAA,2BAEK,OAAO,UAAU,OAAO,aAAa;AAC1C;AAAA;AAAA;AAGR,kBAAI,KAAK,UAAU;AACnB,kBAAI,kBAAkB,EAAE,QAAQ,MAAM,WAAW,MAAM,WAAW;AAClE,kBAAI,OAAO,OAAO,YAAY;AAI1B,oBAAI,WAAW;AACX,kCAAgB,YAAY,QAAQ;AACpC,kCAAgB,YAAY,IAAI;AAChC,4BAAU,SAAS,qBAAqB,QAAQ,cAAc,UAAU,iBAAiB;AAAA,uBAExF;AACD,4BAAU,SAAS,qBAAqB,QAAQ,cAAc;AAAA;AAAA;AAGtE,kBAAI,SAAS,aAAa,MAAM,MAAM;AACtC,8BAAgB,SAAS;AACzB,qBAAO;AAAA;AAAA;AAAA;AAAA;AAKvB,UAAI,2BAA2B,SAAU,aAAa,MAAM;AACxD,eAAO,oBAAoB,YAAY,WAAW,OAAO;AAAA;AAE7D,UAAI,8BAA8B;AAAA,QAC9B;AAAA,QAAW;AAAA,QACX;AAAA,QAAQ;AAAA,QAAc;AAAA;AAE1B,UAAI,kBAAkB,QAAQ,MAAK,QAAQ,qBAAqB;AAChE,kCAA4B,QAAQ,SAAU,OAAO;AAAE,eAAO,yBAAyB,iBAAiB,cAAc;AAAA;AAEtH,0BAAoB,iBAAiB,cAAc,eAAe,SAAU,iBAAiB,IAAI;AAC7F,eAAO,SAAU,KAAK;AAClB,cAAI,aAAa,QAAQ,OAAO,gBAAgB;AAEhD,cAAI,WAAY,WAAW,KAAK,MAAM,WAAW,KAAK,MAAO;AAC7D,+BAAqB,QAAQ,QAAQ,SAAS,EAAE,OAAO,gBAAgB,QAAQ,cAAc,WAAW,KAAU,UAAoB,MAAM,gBAAgB;AAC5J,aAAG,MAAM,MAAM;AAAA;AAAA;AAGvB,UAAI,wBAAwB;AAAA,QACxB;AAAA;AAEJ,UAAI,YAAY,QAAQ,MAAK,QAAQ,qBAAqB;AAC1D,4BAAsB,QAAQ,SAAU,OAAO;AAAE,eAAO,yBAAyB,WAAW,QAAQ;AAAA;AACpG,aAAO;AAAA;AAEX,YAAQ,QAAQ;AAAA,MACZ,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,SAAS,QAAQ;AAAA;AAEtE,YAAQ,SAAS;AAAA;AAAA;;;AChFjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,wCAAoC,gBAAgB;AAChD,UAAI,kBAAkB,eAAe,UAAU;AAC/C,qBAAe,UAAU,UAAU,iBAAiB,UAAU;AAC1D,YAAI,UAAU;AACV,oBAAU,KAAK,qBAAqB,QAAQ,cAAc;AAAA;AAE9D,eAAO,gBAAgB,MAAM,MAAM;AAAA;AAEvC,aAAO;AAAA;AAEX,YAAQ,gBAAgB;AAAA,MACpB,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AAAA;AAExE,YAAQ,SAAS;AAAA;AAAA;;;ACtBjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,WAAW,QAAQ;AACvB,oCAAgC,YAAY,gBAAgB;AACxD,UAAI,sBAAsB,WAAW,OAAO,UAAU;AACtD,UAAI,yBAAyB;AAG7B,iBAAW,OAAO,UAAU,QAAQ,eAAe,QAAQ,QAAQ,UAAU;AACzE,YAAI,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU;AAAA,YACN,MAAM,KAAK,qBAAqB;AAAA,YAChC,MAAM,KAAK,qBAAqB;AAAA;AAAA,UAEpC,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,UAAU;AAAA,UACV,MAAM,IAAI;AAAA;AAEd,YAAI,QAAQ,QAAQ;AACpB,YAAI;AACJ,+BAAuB,IAAI;AACvB,cAAI,MAAM,GAAG,yBAAyB;AAClC,iBAAK,GAAG;AAAA;AAEZ,cAAI,mBAAmB,qBAAqB,QAAQ,cAAc,SAAU,KAAK,KAAK;AAClF,gBAAI,MAAM,QAAQ,OAAO;AACzB,iBAAK,SAAS,OAAO,EAAE,UAAU,IAAI,UAAU,SAAS,IAAI;AAC5D,iBAAK,QAAQ;AACb,iBAAK,WAAW,KAAK,KAAM,IAAI,KAAK,MAAQ,IAAI,KAAK;AACrD,iCAAqB,QAAQ,QAAQ,YAAY;AAOjD,gBAAI,KAAK;AACL,kBAAI,IAAI;AACJ,uBAAO,GAAG,MAAM,MAAM;AAAA,yBAEjB,eAAe,uBAAuB,SAAS,cAAc;AAClE,4BAAY,KAAK,SAAS;AAAA;AAAA,uBAGzB,IAAI;AACT,iBAAG,MAAM,MAAM;AAAA;AAAA;AAGvB,cAAI;AACA,mBAAO,eAAe,kBAAkB,wBAAwB,EAAE,OAAO;AACzE,mBAAO;AAAA,mBAEJ,GAAP;AAEI,mBAAO;AAAA;AAAA;AAOf,YAAI;AACA,cAAI,OAAO,WAAW,UAAU;AAC5B,gBAAI,kBAAkB,OAAO;AACzB,mBAAK,MAAM,aAAa;AAAA,gBACpB,MAAM;AAAA,gBACN,MAAM;AAAA;AAEV,yBAAW,cAAc;AAAA,mBAExB;AACD,mBAAK,MAAM,OAAO;AAMlB,kBAAI,UAAU;AACV,2BAAW,cAAc;AAAA,qBAExB;AACD,yBAAS,cAAc;AAAA;AAAA;AAAA,iBAI9B;AACD,gBAAI,OAAO,OAAO,SAAS,UAAU;AACjC,mBAAK,MAAM,OAAO,OAAO;AAAA,uBAEpB,OAAO,kBAAkB,OAAO;AACrC,mBAAK,MAAM,aAAa;AAAA,gBACpB,MAAM,OAAO;AAAA,gBACb,MAAM,OAAO;AAAA;AAAA,mBAGhB;AACD,mBAAK,MAAM,OAAO,OAAO;AAAA;AAE7B,gBAAI,UAAU;AACV,yBAAW,cAAc;AAAA,uBAEpB,QAAQ;AACb,uBAAS,cAAc;AAAA,mBAEtB;AACD,qBAAO,WAAW,cAAc,OAAO;AAAA;AAAA;AAAA,iBAI5C,GAAP;AAEI,iBAAO,oBAAoB,MAAM,MAAM;AAAA;AAE3C,kBAAU,KAAK;AACf,kBAAU,KAAK;AACf,kBAAU,KAAK;AACf,kBAAU,SAAU,UAAU,SAAS,IAAK,UAAU,SAAS;AAC/D,sBAAc,oBAAoB,MAAM,MAAM;AAC9C,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,oCAAgC,YAAY,gBAAgB;AACxD,UAAI,sBAAsB,WAAW,OAAO,UAAU;AACtD,UAAI,yBAAyB;AAG7B,iBAAW,OAAO,UAAU,QAAQ,eAAe,QAAQ,QAAQ,UAAU;AACzE,YAAI,QAAQ;AACZ,YAAI,mBAAmB,CAAC,CAAC;AACzB,YAAI,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU;AAAA,YACN,MAAM,KAAK,qBAAqB;AAAA,YAChC,MAAM,KAAK,qBAAqB;AAAA;AAAA,UAEpC,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,UAAU;AAAA,UACV,MAAM,IAAI;AAAA;AAEd,YAAI,QAAQ,QAAQ;AACpB,YAAI;AACJ,+BAAuB,IAAI;AACvB,cAAI,MAAM,GAAG,yBAAyB;AAClC,iBAAK,GAAG;AAAA;AAEZ,cAAI,mBAAmB,qBAAqB,QAAQ,cAAc,SAAU,KAAK,KAAK;AAClF,gBAAI,MAAM,QAAQ,OAAO;AACzB,iBAAK,SAAS,OAAO,EAAE,UAAU,IAAI,UAAU,SAAS,IAAI;AAC5D,iBAAK,QAAQ;AACb,iBAAK,WAAW,KAAK,KAAM,IAAI,KAAK,MAAQ,IAAI,KAAK;AACrD,iCAAqB,QAAQ,QAAQ,YAAY;AACjD,gBAAI,KAAK;AACL,kBAAI,IAAI;AACJ,uBAAO,GAAG,MAAM,MAAM;AAAA,yBAEjB,eAAe,uBAAuB,SAAS,cAAc;AAClE,4BAAY,KAAK,SAAS;AAAA;AAAA,uBAGzB,IAAI;AACT,iBAAG,MAAM,MAAM;AAAA;AAAA;AAGvB,cAAI;AACA,mBAAO,eAAe,kBAAkB,wBAAwB,EAAE,OAAO;AACzE,mBAAO;AAAA,mBAEJ,GAAP;AAEI,mBAAO;AAAA;AAAA;AAMf,YAAI;AACA,cAAI,OAAO,WAAW,UAAU;AAC5B,gBAAI,kBAAkB,OAAO;AACzB,mBAAK,MAAM,aAAa;AAAA,gBACpB,MAAM;AAAA,gBACN,MAAM;AAAA;AAEV,iCAAmB,OAAO,aAAa;AACvC,yBAAW,mBAAmB,cAAc,YAAY;AAAA,mBAEvD;AACD,mBAAK,MAAM,OAAO;AAClB,kBAAI,UAAU;AACV,mCAAmB,OAAO,aAAa;AACvC,2BAAW,mBAAmB,cAAc,YAAY;AAAA,qBAEvD;AACD,mCAAmB,OAAO,WAAW;AACrC,yBAAS,mBAAmB,cAAc,UAAU;AAAA;AAAA;AAAA,iBAI3D;AACD,gBAAI,OAAO,OAAO,SAAS,UAAU;AACjC,mBAAK,MAAM,OAAO,OAAO;AAAA,uBAEpB,OAAO,kBAAkB,OAAO;AACrC,mBAAK,MAAM,aAAa;AAAA,gBACpB,MAAM,OAAO;AAAA,gBACb,MAAM,OAAO;AAAA;AAAA,mBAGhB;AACD,mBAAK,MAAM,OAAO,OAAO;AAAA;AAE7B,gBAAI,UAAU;AACV,iCAAmB,OAAO,aAAa;AACvC,yBAAW,cAAc;AAAA,uBAEpB,QAAQ;AACb,iCAAmB,OAAO,WAAW;AACrC,uBAAS,mBAAmB,cAAc,UAAU;AAAA,mBAEnD;AACD,iCAAmB,OAAO,OAAO,aAAa;AAC9C,qBAAO,WAAW,mBAAmB,cAAc,OAAO,YAAY,OAAO;AAAA;AAAA;AAAA,iBAIlF,GAAP;AAEI,iBAAO,oBAAoB,MAAM,MAAM;AAAA;AAE3C,kBAAU,KAAK;AACf,kBAAU,KAAK;AACf,kBAAU,KAAK;AACf,kBAAU,SAAU,UAAU,SAAS,IAAK,UAAU,SAAS;AAC/D,sBAAc,oBAAoB,MAAM,MAAM;AAC9C,YAAI,CAAC,kBAAkB;AAEnB,iBAAO,YAEF,KAAK,SAAU,QAAQ;AACxB,4BAAgB,QAAW;AAC3B,mBAAO,IAAI,MAAM,SAAS,SAAU,SAAS,QAAQ;AACjD,sBAAQ;AAAA;AAAA,aAIX,MAAM,SAAU,OAAO;AACxB,4BAAgB,OAAO;AACvB,mBAAO,IAAI,MAAM,SAAS,SAAU,SAAS,QAAQ;AACjD,qBAAO;AAAA;AAAA;AAAA;AAInB,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,YAAQ,YAAY;AAAA,MAChB,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,YAAQ,YAAY;AAAA,MAChB,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,MAAM,QAAQ;AAC/D,2BAAqB,QAAQ,oBAAoB,MAAM,QAAQ;AAAA;AAEnE,YAAQ,SAAS;AAAA;AAAA;;;AClRjB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,qBAAqB,SAAU,eAAe;AAC9C,UAAI,eAAe,cAAc,YAAY,UAAU;AAEvD,oBAAc,YAAY,UAAU,wBAAwB,SAAU,YAAY;AAC9E,YAAI,YAAY;AACZ,cAAI,OAAO,WAAW;AACtB,cAAI,CAAC,QAAQ,CAAC,KAAK,aAAa;AAC5B,gBAAI,YAAY,KAAK;AACrB,gBAAI,cAAc,QAAQ;AAC1B,gBAAI,cAAc,IAAI;AAKtB,uBAAW,WAAW,qBAAqB,QAAQ,cAAc,SAAU,KAAK,QAAQ;AACpF,kBAAI,aAAa,QAAQ,OAAO;AAEhC,kBAAI,WAAY,WAAW,KAAK,MAAM,WAAW,KAAK,MAAO;AAC7D,mCAAqB,QAAQ,QAAQ,SAAS,EAAE,UAAoB,SAAS,WAAW,YAAwB,KAAU,QAAgB,MAAM;AAChJ,kBAAI,OAAO,SAAS,YAAY;AAC5B,qBAAK,MAAM,MAAM;AAAA;AAAA;AAGzB,uBAAW,SAAS,cAAc;AAAA;AAAA;AAG1C,eAAO,aAAa,KAAK,MAAM;AAAA;AAEnC,aAAO;AAAA;AAEX,YAAQ,QAAQ;AAAA,MACZ,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,SAAS,QAAQ;AAAA;AAEtE,YAAQ,SAAS;AAAA;AAAA;;;AC1CjB;AAAA;AAAA;AACA,QAAI,WAAY,WAAQ,QAAK,YAAa,OAAO,UAAU,SAAS,GAAG;AACnE,eAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,YAAI,UAAU;AACd,iBAAS,KAAK;AAAG,cAAI,OAAO,UAAU,eAAe,KAAK,GAAG;AACzD,cAAE,KAAK,EAAE;AAAA;AAEjB,aAAO;AAAA;AAEX,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAC3B,QAAI,uBAAuB,SAAU,iBAAiB;AAClD,UAAI,sBAAsB,gBAAgB,WAAW,UAAU;AAC/D,sBAAgB,WAAW,UAAU,cAAc,uBAAuB;AACtE,oCAA4B,cAAc;AACtC,cAAI,QAAQ,QAAQ;AACpB,cAAI,OAAO;AAAA,YACP,OAAO;AAAA,YACP,UAAU;AAAA,cACN,MAAM;AAAA,cACN,MAAM;AAAA;AAAA,YAEV,QAAQ;AAAA,YACR,OAAO;AAAA,YACP,UAAU;AAAA;AAEd,iBAAO,qBAAqB,QAAQ,cAAc,SAAU,KAAK,UAAU,MAAM;AAC7E,gBAAI,MAAM,QAAQ,OAAO;AACzB,mBAAO,SAAS,IAAI,MAAM,EAAE,UAAU;AAAA,cAC9B,MAAM,KAAK,WAAW,OAAO;AAAA,cAC7B,MAAM,KAAK,WAAW,OAAO,QAAQ;AAAA,eACtC,QAAQ,CAAC,OAAO,EAAE,UAAoB,QAAc,OAAO;AAAA,cAC1D,MAAM,KAAK,iBAAiB,UAAU;AAAA,eACvC,OAAO,KAAK,UAAU,KAAK,KAAM,IAAI,KAAK,MAAQ,IAAI,KAAK;AAClE,iCAAqB,QAAQ,QAAQ,WAAW;AAChD,yBAAa,KAAK,MAAM,KAAK,UAAU;AAAA;AAAA;AAG/C,YAAI,UAAU,UAAU;AACxB,kBAAU,GAAG,WAAW,mBAAmB,QAAQ;AACnD,4BAAoB,MAAM,MAAM;AAAA;AAEpC,aAAO;AAAA;AAEX,YAAQ,UAAU;AAAA,MACd,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AAAA;AAExE,YAAQ,SAAS;AAAA;AAAA;;;ACrDjB;AAAA;AAAA;AACA,QAAI,YAAa,WAAQ,QAAK,aAAe,WAAY;AACrD,UAAI,gBAAgB,OAAO,kBACtB,EAAE,WAAW,gBAAgB,SAAS,SAAU,GAAG,GAAG;AAAE,UAAE,YAAY;AAAA,WACvE,SAAU,GAAG,GAAG;AAAE,iBAAS,KAAK;AAAG,cAAI,EAAE,eAAe;AAAI,cAAE,KAAK,EAAE;AAAA;AACzE,aAAO,SAAU,GAAG,GAAG;AACnB,sBAAc,GAAG;AACjB,sBAAc;AAAE,eAAK,cAAc;AAAA;AACnC,UAAE,YAAY,MAAM,OAAO,OAAO,OAAO,KAAM,IAAG,YAAY,EAAE,WAAW,IAAI;AAAA;AAAA;AAGvF,QAAI,SAAU,WAAQ,QAAK,UAAW,SAAU,GAAG,GAAG;AAClD,UAAI,IAAI;AACR,eAAS,KAAK;AAAG,YAAI,OAAO,UAAU,eAAe,KAAK,GAAG,MAAM,EAAE,QAAQ,KAAK;AAC9E,YAAE,KAAK,EAAE;AACb,UAAI,KAAK,QAAQ,OAAO,OAAO,0BAA0B;AACrD,iBAAS,IAAI,GAAG,IAAI,OAAO,sBAAsB,IAAI,IAAI,EAAE,QAAQ;AAAK,cAAI,EAAE,QAAQ,EAAE,MAAM;AAC1F,cAAE,EAAE,MAAM,EAAE,EAAE;AAAA;AACtB,aAAO;AAAA;AAEX,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAGtD,QAAI,uBAAuB;AAE3B,QAAI,wBAAwB,SAAU,iBAAiB;AACnD,UAAI,cAAc,gBAAgB,OAAO,UAAU;AACnD,UAAI;AACJ,UAAI,gBAAgB,SAAU,OAAO,SAAS,MAAM;AAChD,YAAI;AACJ,YAAI,cAAc,gBAAgB,OAAO,IAAI,QAAQ;AACjD,sBAAY;AAAA,mBAEP,cAAc,gBAAgB,OAAO,OAAO,QAAQ;AACzD,sBAAY;AAAA,eAEX;AACD,sBAAY;AAAA;AAEhB,6BAAqB,QAAQ,QAAQ,WAAW,EAAE,OAAc,SAAkB,MAAY;AAC9F,eAAO;AAAA;AAGX,sBAAgB,OAAO,UAAU,MAAM,eAAe;AAClD,oBAAY,KAAK;AACjB,YAAI,CAAC,KAAK,WAAW,KAAK,QAAQ,WAAW,GAAG;AAC5C,eAAK,UAAU,CAAC;AAAA,mBAEX,KAAK,QAAQ,KAAK,QAAQ,SAAS,OAAO,eAAe;AAC9D,eAAK,UAAU,KAAK,QAAQ,OAAO,SAAU,GAAG;AAAE,mBAAO,MAAM;AAAA;AAC/D,eAAK,QAAQ,KAAK;AAAA;AAEtB,eAAO,YAAY,MAAM,MAAM;AAAA;AAEnC,aAAO;AAAA;AAEX,QAAI,wBAAwB,SAAU,iBAAiB;AACnD,UAAI,iBAAiB,SAAU,SAAS,OAAO;AAC3C,YAAI;AACJ,YAAI,QAAQ,OAAO,IAAI,OAAO,UAAU,MAAM;AAC1C,sBAAY;AAAA,mBAEP,QAAQ,OAAO,OAAO,OAAO,UAAU,MAAM;AAClD,sBAAY;AAAA,eAEX;AACD,sBAAY;AAAA;AAEhB,eAAO;AAAA;AAEX,UAAI,uBAAsC,SAAU,QAAQ;AACxD,kBAAU,uBAAsB;AAChC,uCAA8B,SAAS,MAAM;AACzC,cAAI,QAAQ,OAAO,KAAK,MAAM,SAAS;AACvC,gBAAM,UAAU;AAChB,iBAAO;AAAA;AAEX,8BAAqB,UAAU,MAAM,SAAU,MAAM,UAAU;AAE3D,cAAI,UAAU,KAAK,SAAS,QAAQ,KAAK,OAAO,OAAO,KAAK,MAAM,QAAQ,OAAO,MAAM,CAAC,WAAW,SAAS;AAC5G,kBAAQ,OAAO,OAAO,WAAW,aAAa,KAAK,OAAO,OAAO,YAAY;AAC7E,oBAAU,gBAAgB,QAAQ,OAAO;AACzC,cAAI,YAAY,eAAe,KAAK,SAAS;AAC7C,iBAAO,QAAQ;AACf,mBAAS,OAAO,OAAO;AACnB,gBAAI,MAAM,eAAe,MAAM;AAC3B,mBAAK,OAAO,MAAM;AAAA;AAAA;AAG1B,+BAAqB,QAAQ,QAAQ,WAAW,EAAE,SAAkB,OAAc,WAAsB;AACxG;AAAA;AAEJ,eAAO;AAAA,QACT,gBAAgB;AAElB,kCAA4B;AAExB,YAAI,SAAS,UAAU,GAAG,UAAU,gBAAgB,OAAO,IAAI;AAC/D,YAAI;AACJ,iBAAS,SAAS,QAAQ;AACtB,cAAI,OAAO,eAAe,QAAQ;AAC9B,wBAAY,cAAc,UAAa,OAAO,SAAS,OAAO,aAAa,QAAQ;AAAA;AAAA;AAG3F,aAAK,IAAI,IAAI,qBAAqB,iBAAiB,EAAE,OAAO;AAAA;AAEhE,UAAI,aAAa,gBAAgB;AACjC,sBAAgB,eAAe,yBAAyB;AAEpD,YAAI,SAAS,UAAU,GAAG,UAAU,gBAAgB,OAAO,IAAI;AAC/D,YAAI;AACJ,iBAAS,SAAS,QAAQ;AACtB,cAAI,OAAO,eAAe,QAAQ;AAC9B,wBAAY,cAAc,UAAa,OAAO,SAAS,OAAO,aAAa,QAAQ;AAAA;AAAA;AAS3F,YAAI,SAAS,WAAW,MAAM,MAAM;AACpC,eAAO,IAAI,IAAI,qBAAqB,iBAAiB,EAAE,OAAO;AAC9D,YAAI,gBAAgB,OAAO;AAC3B,eAAO,YAAY,WAAY;AAC3B,wBAAc,MAAM,MAAM;AAC1B,2BAAiB,MAAM,MAAM;AAAA;AAEjC,eAAO;AAAA;AAEX,UAAI,oBAAoB,gBAAgB;AACxC,sBAAgB,YAAY,WAAY;AACpC,0BAAkB,MAAM,MAAM;AAC9B,yBAAiB,MAAM,MAAM;AAAA;AAEjC,sBAAgB,IAAI,IAAI,qBAAqB;AAC7C,aAAO;AAAA;AAEX,YAAQ,WAAW;AAAA,MACf,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,YAAQ,WAAW;AAAA,MACf,kBAAkB;AAAA,MAClB,OAAO;AAAA;AAEX,sBAAkB;AACd,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AACpE,2BAAqB,QAAQ,oBAAoB,WAAW,QAAQ;AAAA;AAExE,YAAQ,SAAS;AAAA;AAAA;;;ACvJjB;AAAA;AAAA;AAGA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAI,WAAW;AACf,YAAQ,WAAW;AACnB,QAAI,SAAS;AACb,YAAQ,SAAS;AACjB,QAAI,aAAa;AACjB,YAAQ,UAAU;AAClB,QAAI,cAAc;AAClB,YAAQ,cAAc;AACtB,QAAI,UAAU;AACd,YAAQ,UAAU;AAClB,QAAI,QAAQ;AACZ,YAAQ,QAAQ;AAChB,QAAI,SAAS;AACb,YAAQ,SAAS;AACjB,QAAI,KAAK;AACT,YAAQ,KAAK;AACb,QAAI,QAAQ;AACZ,YAAQ,QAAQ;AAChB,QAAI,UAAU;AACd,YAAQ,UAAU;AAClB,QAAI,UAAU;AACd,YAAQ,UAAU;AAClB,sBAAkB;AACd,aAAO;AACP,iBAAW;AACX,kBAAY;AACZ,cAAQ;AACR,YAAM;AACN,SAAG;AACH,aAAO;AACP,YAAM;AACN,cAAQ;AACR,eAAS;AACT,cAAQ;AAAA;AAEZ,YAAQ,SAAS;AAAA;AAAA;;;;;;;AChCjB,QAAA,UAAA;AAEa,YAAA,gBAAgB,CAAC,QAAQ,IAAI;AAC1C,QAAM,MAAM;AAEZ,QAAI,QAAA,eAAe;AACT,mBAA2C;AAC3C,0BAA4B,QAAQ,IAAI,4CAA4C;AACpF,yBAAmB,kBAAkB,MAAM;AAC3C,gBAAiC;QACnC,QAAQ,WAAW;QACnB,SAAS,WAAW;QACpB,SAAS,WAAW;QACpB,aAAa,WAAW;QACxB,OAAO,WAAW;QAClB,OAAO,WAAW;QAClB,IAAI,WAAW;QACf,QAAQ,WAAW;QACnB,SAAS,WAAW;;AAExB,WAAW,OAAO,SAAS;AACvB,YAAI,iBAAiB,QAAQ,SAAS,IAAI;AACtC,kBAAQ,KAAK;AACb,kBAAQ,KAAK,KAAK,mBAAiB,MAAG;;;AAG9C,UAAI,iBAAiB,SAAS,GAAG;AAC7B,gBAAQ,KAAK,KAAK,oCAAoC;;WAEvD;AACH,cAAQ,KAAK,KAAK;;AAxBZ;AACA;AACA;AACA;AAWK;AAaf,yCAA4C,IAA8B;AACtE,UAAI,CAAC,QAAA,eAAe;AAChB;;AAGH,wBAAqD,QAAQ,uBAAuB;;AALzF,YAAA,8BAAA;;;;;ACxCA;AAAA;AAAA,cAAU,QAAO,UAAU;AAE3B,QAAI;AAEJ,QAAI,OAAO,YAAY,YACnB,QAAQ,OACR,QAAQ,IAAI,cACZ,cAAc,KAAK,QAAQ,IAAI,aAAa;AAC9C,cAAQ,WAAY;AAClB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW;AACjD,aAAK,QAAQ;AACb,gBAAQ,IAAI,MAAM,SAAS;AAAA;AAAA,WAExB;AACL,cAAQ,WAAY;AAAA;AAAA;AAKtB,YAAQ,sBAAsB;AAE9B,QAAI,aAAa;AACjB,QAAI,mBAAmB,OAAO,oBACD;AAG7B,QAAI,4BAA4B;AAGhC,QAAI,KAAK,QAAQ,KAAK;AACtB,QAAI,MAAM,QAAQ,MAAM;AACxB,QAAI,IAAI;AAQR,QAAI,oBAAoB;AACxB,QAAI,qBAAqB;AACzB,QAAI,yBAAyB;AAC7B,QAAI,0BAA0B;AAM9B,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB;AAK5B,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,qBAAqB,UACzB,IAAI,qBAAqB,UACzB,IAAI,qBAAqB;AAElD,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,MAAM,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B;AAK5D,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB,QAAQ,IAAI,qBACZ,MAAM,IAAI,wBAAwB;AAE9D,QAAI,4BAA4B;AAChC,QAAI,6BAA6B,QAAQ,IAAI,0BACZ,MAAM,IAAI,wBAAwB;AAMnE,QAAI,aAAa;AACjB,QAAI,cAAc,UAAU,IAAI,wBACd,WAAW,IAAI,wBAAwB;AAEzD,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,WAAW,IAAI,6BACf,WAAW,IAAI,6BAA6B;AAKnE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB;AAMvB,QAAI,QAAQ;AACZ,QAAI,SAAS,YAAY,IAAI,mBAChB,WAAW,IAAI,mBAAmB;AAW/C,QAAI,OAAO;AACX,QAAI,YAAY,OAAO,IAAI,eACX,IAAI,cAAc,MAClB,IAAI,SAAS;AAE7B,QAAI,QAAQ,MAAM,YAAY;AAK9B,QAAI,aAAa,aAAa,IAAI,oBACjB,IAAI,mBAAmB,MACvB,IAAI,SAAS;AAE9B,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,aAAa;AAEhC,QAAI,OAAO;AACX,QAAI,QAAQ;AAKZ,QAAI,wBAAwB;AAC5B,QAAI,yBAAyB,IAAI,0BAA0B;AAC3D,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,IAAI,qBAAqB;AAEjD,QAAI,cAAc;AAClB,QAAI,eAAe,cAAc,IAAI,oBAAoB,aAC1B,IAAI,oBAAoB,aACxB,IAAI,oBAAoB,SAC5B,IAAI,cAAc,OAC1B,IAAI,SAAS;AAGhC,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,cAAc,IAAI,yBAAyB,aAC/B,IAAI,yBAAyB,aAC7B,IAAI,yBAAyB,SACjC,IAAI,mBAAmB,OAC/B,IAAI,SAAS;AAGrC,QAAI,SAAS;AACb,QAAI,UAAU,MAAM,IAAI,QAAQ,SAAS,IAAI,eAAe;AAC5D,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,QAAQ,SAAS,IAAI,oBAAoB;AAItE,QAAI,SAAS;AACb,QAAI,UAAU,wBACY,4BAA4B,oBACtB,4BAA4B,sBAC5B,4BAA4B;AAK5D,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAIjE,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAGjE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,MAAM,IAAI,QAAQ,UAAU,aAAa;AAChE,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,QAAQ,UAAU,YAAY;AAI1D,QAAI,iBAAiB;AACrB,QAAI,kBAAkB,WAAW,IAAI,QACf,UAAU,aAAa,MAAM,IAAI,eAAe;AAGtE,OAAG,kBAAkB,IAAI,OAAO,IAAI,iBAAiB;AACrD,QAAI,wBAAwB;AAM5B,QAAI,cAAc;AAClB,QAAI,eAAe,WAAW,IAAI,eAAe,gBAExB,IAAI,eAAe;AAG5C,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,WAAW,IAAI,oBAAoB,gBAE7B,IAAI,oBAAoB;AAItD,QAAI,OAAO;AACX,QAAI,QAAQ;AAIZ,SAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,YAAM,GAAG,IAAI;AACb,UAAI,CAAC,GAAG,IAAI;AACV,WAAG,KAAK,IAAI,OAAO,IAAI;AAAA;AAAA;AAHlB;AAOT,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,SAAS,YAAY;AAC/B,eAAO;AAAA;AAGT,UAAI,KAAI,QAAQ,QAAQ,GAAG,SAAS,GAAG;AACvC,UAAI,CAAC,GAAE,KAAK,UAAU;AACpB,eAAO;AAAA;AAGT,UAAI;AACF,eAAO,IAAI,OAAO,SAAS;AAAA,eACpB,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,SAAS;AACvB,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,QAAQ,OAAO,QAAQ,UAAU,KAAK;AACpD,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,SAAS;AAEjB,oBAAiB,SAAS,SAAS;AACjC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAGvB,UAAI,mBAAmB,QAAQ;AAC7B,YAAI,QAAQ,UAAU,QAAQ,OAAO;AACnC,iBAAO;AAAA,eACF;AACL,oBAAU,QAAQ;AAAA;AAAA,iBAEX,OAAO,YAAY,UAAU;AACtC,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,UAAI,QAAQ,SAAS,YAAY;AAC/B,cAAM,IAAI,UAAU,4BAA4B,aAAa;AAAA;AAG/D,UAAI,CAAE,iBAAgB,SAAS;AAC7B,eAAO,IAAI,OAAO,SAAS;AAAA;AAG7B,YAAM,UAAU,SAAS;AACzB,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AAEvB,UAAI,IAAI,QAAQ,OAAO,MAAM,QAAQ,QAAQ,GAAG,SAAS,GAAG;AAE5D,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,WAAK,MAAM;AAGX,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAEhB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAItB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,aAAa;AAAA,aACb;AACL,aAAK,aAAa,EAAE,GAAG,MAAM,KAAK,IAAI,SAAU,IAAI;AAClD,cAAI,WAAW,KAAK,KAAK;AACvB,gBAAI,MAAM,CAAC;AACX,gBAAI,OAAO,KAAK,MAAM,kBAAkB;AACtC,qBAAO;AAAA;AAAA;AAGX,iBAAO;AAAA;AAAA;AAIX,WAAK,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO;AACtC,WAAK;AAAA;AAGP,WAAO,UAAU,SAAS,WAAY;AACpC,WAAK,UAAU,KAAK,QAAQ,MAAM,KAAK,QAAQ,MAAM,KAAK;AAC1D,UAAI,KAAK,WAAW,QAAQ;AAC1B,aAAK,WAAW,MAAM,KAAK,WAAW,KAAK;AAAA;AAE7C,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,WAAW,WAAY;AACtC,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,UAAU,SAAU,OAAO;AAC1C,YAAM,kBAAkB,KAAK,SAAS,KAAK,SAAS;AACpD,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,KAAK,YAAY,UAAU,KAAK,WAAW;AAAA;AAGpD,WAAO,UAAU,cAAc,SAAU,OAAO;AAC9C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM;AAAA;AAG9C,WAAO,UAAU,aAAa,SAAU,OAAO;AAC7C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAIjC,UAAI,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AACtD,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,MAAM,WAAW,QAAQ;AAC7D,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AAC9D,eAAO;AAAA;AAGT,UAAI,KAAI;AACR,SAAG;AACD,YAAI,IAAI,KAAK,WAAW;AACxB,YAAI,IAAI,MAAM,WAAW;AACzB,cAAM,sBAAsB,IAAG,GAAG;AAClC,YAAI,MAAM,UAAa,MAAM,QAAW;AACtC,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,GAAG;AAClB;AAAA,eACK;AACL,iBAAO,mBAAmB,GAAG;AAAA;AAAA,eAExB,EAAE;AAAA;AAKb,WAAO,UAAU,MAAM,SAAU,SAAS,YAAY;AACpD,cAAQ;AAAA,aACD;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AAIH,eAAK,WAAW,SAAS;AACzB,eAAK,IAAI,SAAS;AAClB,eAAK,IAAI,OAAO;AAChB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,IAAI,SAAS;AAAA;AAEpB,eAAK,IAAI,OAAO;AAChB;AAAA,aAEG;AAKH,cAAI,KAAK,UAAU,KACf,KAAK,UAAU,KACf,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,UAAU,KAAK,KAAK,WAAW,WAAW,GAAG;AACpD,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,aAAa;AAClB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,aAAa,CAAC;AAAA,iBACd;AACL,gBAAI,KAAI,KAAK,WAAW;AACxB,mBAAO,EAAE,MAAK,GAAG;AACf,kBAAI,OAAO,KAAK,WAAW,QAAO,UAAU;AAC1C,qBAAK,WAAW;AAChB,qBAAI;AAAA;AAAA;AAGR,gBAAI,OAAM,IAAI;AAEZ,mBAAK,WAAW,KAAK;AAAA;AAAA;AAGzB,cAAI,YAAY;AAGd,gBAAI,KAAK,WAAW,OAAO,YAAY;AACrC,kBAAI,MAAM,KAAK,WAAW,KAAK;AAC7B,qBAAK,aAAa,CAAC,YAAY;AAAA;AAAA,mBAE5B;AACL,mBAAK,aAAa,CAAC,YAAY;AAAA;AAAA;AAGnC;AAAA;AAGA,gBAAM,IAAI,MAAM,iCAAiC;AAAA;AAErD,WAAK;AACL,WAAK,MAAM,KAAK;AAChB,aAAO;AAAA;AAGT,YAAQ,MAAM;AACd,iBAAc,SAAS,SAAS,OAAO,YAAY;AACjD,UAAI,OAAQ,UAAW,UAAU;AAC/B,qBAAa;AACb,gBAAQ;AAAA;AAGV,UAAI;AACF,eAAO,IAAI,OAAO,SAAS,OAAO,IAAI,SAAS,YAAY;AAAA,eACpD,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,OAAO;AACf,kBAAe,UAAU,UAAU;AACjC,UAAI,GAAG,UAAU,WAAW;AAC1B,eAAO;AAAA,aACF;AACL,YAAI,KAAK,MAAM;AACf,YAAI,KAAK,MAAM;AACf,YAAI,SAAS;AACb,YAAI,GAAG,WAAW,UAAU,GAAG,WAAW,QAAQ;AAChD,mBAAS;AACT,cAAI,gBAAgB;AAAA;AAEtB,iBAAS,OAAO,IAAI;AAClB,cAAI,QAAQ,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACzD,gBAAI,GAAG,SAAS,GAAG,MAAM;AACvB,qBAAO,SAAS;AAAA;AAAA;AAAA;AAItB,eAAO;AAAA;AAAA;AAIX,YAAQ,qBAAqB;AAE7B,QAAI,UAAU;AACd,gCAA6B,GAAG,GAAG;AACjC,UAAI,OAAO,QAAQ,KAAK;AACxB,UAAI,OAAO,QAAQ,KAAK;AAExB,UAAI,QAAQ,MAAM;AAChB,YAAI,CAAC;AACL,YAAI,CAAC;AAAA;AAGP,aAAO,MAAM,IAAI,IACZ,QAAQ,CAAC,OAAQ,KACjB,QAAQ,CAAC,OAAQ,IAClB,IAAI,IAAI,KACR;AAAA;AAGN,YAAQ,sBAAsB;AAC9B,iCAA8B,GAAG,GAAG;AAClC,aAAO,mBAAmB,GAAG;AAAA;AAG/B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,UAAU;AAClB,qBAAkB,GAAG,GAAG,OAAO;AAC7B,aAAO,IAAI,OAAO,GAAG,OAAO,QAAQ,IAAI,OAAO,GAAG;AAAA;AAGpD,YAAQ,eAAe;AACvB,0BAAuB,GAAG,GAAG;AAC3B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,WAAW;AACnB,sBAAmB,GAAG,GAAG,OAAO;AAC9B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,OAAO;AACf,kBAAe,MAAM,OAAO;AAC1B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,QAAQ,GAAG,GAAG;AAAA;AAAA;AAIjC,YAAQ,QAAQ;AAChB,mBAAgB,MAAM,OAAO;AAC3B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,SAAS,GAAG,GAAG;AAAA;AAAA;AAIlC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,IAAI,GAAG,OAAO;AAC7B,cAAQ;AAAA,aACD;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AAAA,aACA;AAAA,aACA;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA;AAGjB,gBAAM,IAAI,UAAU,uBAAuB;AAAA;AAAA;AAIjD,YAAQ,aAAa;AACrB,wBAAqB,MAAM,SAAS;AAClC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,gBAAgB,YAAY;AAC9B,YAAI,KAAK,UAAU,CAAC,CAAC,QAAQ,OAAO;AAClC,iBAAO;AAAA,eACF;AACL,iBAAO,KAAK;AAAA;AAAA;AAIhB,UAAI,CAAE,iBAAgB,aAAa;AACjC,eAAO,IAAI,WAAW,MAAM;AAAA;AAG9B,YAAM,cAAc,MAAM;AAC1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,MAAM;AAEX,UAAI,KAAK,WAAW,KAAK;AACvB,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,QAAQ,KAAK,WAAW,KAAK,OAAO;AAAA;AAG3C,YAAM,QAAQ;AAAA;AAGhB,QAAI,MAAM;AACV,eAAW,UAAU,QAAQ,SAAU,MAAM;AAC3C,UAAI,KAAI,KAAK,QAAQ,QAAQ,GAAG,mBAAmB,GAAG;AACtD,UAAI,IAAI,KAAK,MAAM;AAEnB,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,yBAAyB;AAAA;AAG/C,WAAK,WAAW,EAAE;AAClB,UAAI,KAAK,aAAa,KAAK;AACzB,aAAK,WAAW;AAAA;AAIlB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,SAAS;AAAA,aACT;AACL,aAAK,SAAS,IAAI,OAAO,EAAE,IAAI,KAAK,QAAQ;AAAA;AAAA;AAIhD,eAAW,UAAU,WAAW,WAAY;AAC1C,aAAO,KAAK;AAAA;AAGd,eAAW,UAAU,OAAO,SAAU,SAAS;AAC7C,YAAM,mBAAmB,SAAS,KAAK,QAAQ;AAE/C,UAAI,KAAK,WAAW,KAAK;AACvB,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,aAAO,IAAI,SAAS,KAAK,UAAU,KAAK,QAAQ,KAAK;AAAA;AAGvD,eAAW,UAAU,aAAa,SAAU,MAAM,SAAS;AACzD,UAAI,CAAE,iBAAgB,aAAa;AACjC,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI;AAEJ,UAAI,KAAK,aAAa,IAAI;AACxB,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,OAAO,UAAU;AAAA,iBAC9B,KAAK,aAAa,IAAI;AAC/B,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,QAAQ,UAAU;AAAA;AAG1C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,aAAa,KAAK,OAAO,YAAY,KAAK,OAAO;AACrD,UAAI,+BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,SAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,6BACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,gCACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAE/C,aAAO,2BAA2B,2BAC/B,cAAc,gCACf,8BAA8B;AAAA;AAGlC,YAAQ,QAAQ;AAChB,mBAAgB,OAAO,SAAS;AAC9B,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,iBAAiB,OAAO;AAC1B,YAAI,MAAM,UAAU,CAAC,CAAC,QAAQ,SAC1B,MAAM,sBAAsB,CAAC,CAAC,QAAQ,mBAAmB;AAC3D,iBAAO;AAAA,eACF;AACL,iBAAO,IAAI,MAAM,MAAM,KAAK;AAAA;AAAA;AAIhC,UAAI,iBAAiB,YAAY;AAC/B,eAAO,IAAI,MAAM,MAAM,OAAO;AAAA;AAGhC,UAAI,CAAE,iBAAgB,QAAQ;AAC5B,eAAO,IAAI,MAAM,OAAO;AAAA;AAG1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,oBAAoB,CAAC,CAAC,QAAQ;AAGnC,WAAK,MAAM;AACX,WAAK,MAAM,MAAM,MAAM,cAAc,IAAI,SAAU,QAAO;AACxD,eAAO,KAAK,WAAW,OAAM;AAAA,SAC5B,MAAM,OAAO,SAAU,GAAG;AAE3B,eAAO,EAAE;AAAA;AAGX,UAAI,CAAC,KAAK,IAAI,QAAQ;AACpB,cAAM,IAAI,UAAU,2BAA2B;AAAA;AAGjD,WAAK;AAAA;AAGP,UAAM,UAAU,SAAS,WAAY;AACnC,WAAK,QAAQ,KAAK,IAAI,IAAI,SAAU,OAAO;AACzC,eAAO,MAAM,KAAK,KAAK;AAAA,SACtB,KAAK,MAAM;AACd,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,WAAW,WAAY;AACrC,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,aAAa,SAAU,OAAO;AAC5C,UAAI,QAAQ,KAAK,QAAQ;AACzB,cAAQ,MAAM;AAEd,UAAI,KAAK,QAAQ,GAAG,oBAAoB,GAAG;AAC3C,cAAQ,MAAM,QAAQ,IAAI;AAC1B,YAAM,kBAAkB;AAExB,cAAQ,MAAM,QAAQ,GAAG,iBAAiB;AAC1C,YAAM,mBAAmB,OAAO,GAAG;AAGnC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,MAAM,OAAO,KAAK;AAKhC,UAAI,SAAS,QAAQ,GAAG,mBAAmB,GAAG;AAC9C,UAAI,MAAM,MAAM,MAAM,KAAK,IAAI,SAAU,MAAM;AAC7C,eAAO,gBAAgB,MAAM,KAAK;AAAA,SACjC,MAAM,KAAK,KAAK,MAAM;AACzB,UAAI,KAAK,QAAQ,OAAO;AAEtB,cAAM,IAAI,OAAO,SAAU,MAAM;AAC/B,iBAAO,CAAC,CAAC,KAAK,MAAM;AAAA;AAAA;AAGxB,YAAM,IAAI,IAAI,SAAU,MAAM;AAC5B,eAAO,IAAI,WAAW,MAAM,KAAK;AAAA,SAChC;AAEH,aAAO;AAAA;AAGT,UAAM,UAAU,aAAa,SAAU,OAAO,SAAS;AACrD,UAAI,CAAE,kBAAiB,QAAQ;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,aAAO,KAAK,IAAI,KAAK,SAAU,iBAAiB;AAC9C,eAAO,gBAAgB,MAAM,SAAU,gBAAgB;AACrD,iBAAO,MAAM,IAAI,KAAK,SAAU,kBAAkB;AAChD,mBAAO,iBAAiB,MAAM,SAAU,iBAAiB;AACvD,qBAAO,eAAe,WAAW,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ5D,YAAQ,gBAAgB;AACxB,2BAAwB,OAAO,SAAS;AACtC,aAAO,IAAI,MAAM,OAAO,SAAS,IAAI,IAAI,SAAU,MAAM;AACvD,eAAO,KAAK,IAAI,SAAU,GAAG;AAC3B,iBAAO,EAAE;AAAA,WACR,KAAK,KAAK,OAAO,MAAM;AAAA;AAAA;AAO9B,6BAA0B,MAAM,SAAS;AACvC,YAAM,QAAQ,MAAM;AACpB,aAAO,cAAc,MAAM;AAC3B,YAAM,SAAS;AACf,aAAO,cAAc,MAAM;AAC3B,YAAM,UAAU;AAChB,aAAO,eAAe,MAAM;AAC5B,YAAM,UAAU;AAChB,aAAO,aAAa,MAAM;AAC1B,YAAM,SAAS;AACf,aAAO;AAAA;AAGT,iBAAc,IAAI;AAChB,aAAO,CAAC,MAAM,GAAG,kBAAkB,OAAO,OAAO;AAAA;AASnD,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AAEjB,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,mBAChD,IAAI;AACb,gBAAM,mBAAmB;AACzB,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,eAC7B;AAEL,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAGpC,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAUX,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,YAAM,SAAS,MAAM;AACrB,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AACjB,cAAI,MAAM,KAAK;AACb,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,iBACpD;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAU,EAAC,IAAI,KAAK;AAAA;AAAA,mBAExC,IAAI;AACb,gBAAM,mBAAmB;AACzB,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA,eAErB;AACL,gBAAM;AACN,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA;AAI5B,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAIX,4BAAyB,MAAM,SAAS;AACtC,YAAM,kBAAkB,MAAM;AAC9B,aAAO,KAAK,MAAM,OAAO,IAAI,SAAU,OAAM;AAC3C,eAAO,cAAc,OAAM;AAAA,SAC1B,KAAK;AAAA;AAGV,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK;AACZ,UAAI,KAAI,QAAQ,QAAQ,GAAG,eAAe,GAAG;AAC7C,aAAO,KAAK,QAAQ,IAAG,SAAU,KAAK,MAAM,GAAG,GAAG,GAAG,IAAI;AACvD,cAAM,UAAU,MAAM,KAAK,MAAM,GAAG,GAAG,GAAG;AAC1C,YAAI,KAAK,IAAI;AACb,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,OAAO;AAEX,YAAI,SAAS,OAAO,MAAM;AACxB,iBAAO;AAAA;AAGT,YAAI,IAAI;AACN,cAAI,SAAS,OAAO,SAAS,KAAK;AAEhC,kBAAM;AAAA,iBACD;AAEL,kBAAM;AAAA;AAAA,mBAEC,QAAQ,MAAM;AAGvB,cAAI,IAAI;AACN,gBAAI;AAAA;AAEN,cAAI;AAEJ,cAAI,SAAS,KAAK;AAIhB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AACT,kBAAI;AACJ,kBAAI;AAAA,mBACC;AACL,kBAAI,CAAC,IAAI;AACT,kBAAI;AAAA;AAAA,qBAEG,SAAS,MAAM;AAGxB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AAAA,mBACJ;AACL,kBAAI,CAAC,IAAI;AAAA;AAAA;AAIb,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,mBACxB,IAAI;AACb,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI;AACb,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAG3D,cAAM,iBAAiB;AAEvB,eAAO;AAAA;AAAA;AAMX,0BAAuB,MAAM,SAAS;AACpC,YAAM,gBAAgB,MAAM;AAE5B,aAAO,KAAK,OAAO,QAAQ,GAAG,OAAO;AAAA;AAQvC,2BAAwB,IACtB,MAAM,IAAI,IAAI,IAAI,KAAK,IACvB,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI;AACzB,UAAI,IAAI,KAAK;AACX,eAAO;AAAA,iBACE,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK;AAAA,iBACV,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK,MAAM,KAAK;AAAA,aACzB;AACL,eAAO,OAAO;AAAA;AAGhB,UAAI,IAAI,KAAK;AACX,aAAK;AAAA,iBACI,IAAI,KAAK;AAClB,aAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACd,IAAI,KAAK;AAClB,aAAK,MAAM,KAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACzB,KAAK;AACd,aAAK,OAAO,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,aACxC;AACL,aAAK,OAAO;AAAA;AAGd,aAAQ,QAAO,MAAM,IAAI;AAAA;AAI3B,UAAM,UAAU,OAAO,SAAU,SAAS;AACxC,UAAI,CAAC,SAAS;AACZ,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,eAAS,KAAI,GAAG,KAAI,KAAK,IAAI,QAAQ,MAAK;AACxC,YAAI,QAAQ,KAAK,IAAI,KAAI,SAAS,KAAK,UAAU;AAC/C,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,qBAAkB,KAAK,SAAS,SAAS;AACvC,eAAS,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AACnC,YAAI,CAAC,IAAI,IAAG,KAAK,UAAU;AACzB,iBAAO;AAAA;AAAA;AAIX,UAAI,QAAQ,WAAW,UAAU,CAAC,QAAQ,mBAAmB;AAM3D,aAAK,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AAC/B,gBAAM,IAAI,IAAG;AACb,cAAI,IAAI,IAAG,WAAW,KAAK;AACzB;AAAA;AAGF,cAAI,IAAI,IAAG,OAAO,WAAW,SAAS,GAAG;AACvC,gBAAI,UAAU,IAAI,IAAG;AACrB,gBAAI,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,OAAO;AACnC,qBAAO;AAAA;AAAA;AAAA;AAMb,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,YAAY;AACpB,wBAAoB,SAAS,OAAO,SAAS;AAC3C,UAAI;AACF,gBAAQ,IAAI,MAAM,OAAO;AAAA,eAClB,IAAP;AACA,eAAO;AAAA;AAET,aAAO,MAAM,KAAK;AAAA;AAGpB,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,IAAI;AAEnC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,GAAG;AAElC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,OAAO;AACjC,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS,IAAI,OAAO;AACpB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS;AACT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,oBAAY,QAAQ,SAAU,YAAY;AAExC,cAAI,UAAU,IAAI,OAAO,WAAW,OAAO;AAC3C,kBAAQ,WAAW;AAAA,iBACZ;AACH,kBAAI,QAAQ,WAAW,WAAW,GAAG;AACnC,wBAAQ;AAAA,qBACH;AACL,wBAAQ,WAAW,KAAK;AAAA;AAE1B,sBAAQ,MAAM,QAAQ;AAAA,iBAEnB;AAAA,iBACA;AACH,kBAAI,CAAC,UAAU,GAAG,QAAQ,UAAU;AAClC,yBAAS;AAAA;AAEX;AAAA,iBACG;AAAA,iBACA;AAEH;AAAA;AAGA,oBAAM,IAAI,MAAM,2BAA2B,WAAW;AAAA;AAAA;AAAA;AAK9D,UAAI,UAAU,MAAM,KAAK,SAAS;AAChC,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,SAAS;AACnC,UAAI;AAGF,eAAO,IAAI,MAAM,OAAO,SAAS,SAAS;AAAA,eACnC,IAAP;AACA,eAAO;AAAA;AAAA;AAKX,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAItC,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAGtC,YAAQ,UAAU;AAClB,qBAAkB,SAAS,OAAO,MAAM,SAAS;AAC/C,gBAAU,IAAI,OAAO,SAAS;AAC9B,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,MAAM,OAAO,MAAM,MAAM;AAC7B,cAAQ;AAAA,aACD;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA,aACG;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA;AAEA,gBAAM,IAAI,UAAU;AAAA;AAIxB,UAAI,WAAU,SAAS,OAAO,UAAU;AACtC,eAAO;AAAA;AAMT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,YAAI,OAAO;AACX,YAAI,MAAM;AAEV,oBAAY,QAAQ,SAAU,YAAY;AACxC,cAAI,WAAW,WAAW,KAAK;AAC7B,yBAAa,IAAI,WAAW;AAAA;AAE9B,iBAAO,QAAQ;AACf,gBAAM,OAAO;AACb,cAAI,KAAK,WAAW,QAAQ,KAAK,QAAQ,UAAU;AACjD,mBAAO;AAAA,qBACE,KAAK,WAAW,QAAQ,IAAI,QAAQ,UAAU;AACvD,kBAAM;AAAA;AAAA;AAMV,YAAI,KAAK,aAAa,QAAQ,KAAK,aAAa,OAAO;AACrD,iBAAO;AAAA;AAKT,YAAK,EAAC,IAAI,YAAY,IAAI,aAAa,SACnC,MAAM,SAAS,IAAI,SAAS;AAC9B,iBAAO;AAAA,mBACE,IAAI,aAAa,SAAS,KAAK,SAAS,IAAI,SAAS;AAC9D,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,SAAS,SAAS;AACrC,UAAI,SAAS,MAAM,SAAS;AAC5B,aAAQ,UAAU,OAAO,WAAW,SAAU,OAAO,aAAa;AAAA;AAGpE,YAAQ,aAAa;AACrB,wBAAqB,IAAI,IAAI,SAAS;AACpC,WAAK,IAAI,MAAM,IAAI;AACnB,WAAK,IAAI,MAAM,IAAI;AACnB,aAAO,GAAG,WAAW;AAAA;AAGvB,YAAQ,SAAS;AACjB,oBAAiB,SAAS;AACxB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,QAAQ,MAAM,GAAG;AAE7B,UAAI,SAAS,MAAM;AACjB,eAAO;AAAA;AAGT,aAAO,MAAM,MAAM,KACjB,MAAO,OAAM,MAAM,OACnB,MAAO,OAAM,MAAM;AAAA;AAAA;AAAA;;;ACz8CvB;AAAA;AAAA;AAEA,wBAAqB,UAAU;AAC7B,aAAO,OAAO,aAAa;AAAA;AAI7B,QAAI,UAAS,QAAQ,MAAM,KAAK;AAIhC,4BAAyB,KAAK,MAAM,OAAO;AACzC,UAAI,aAAa,CAAC,CAAC,IAAI,SAAS,IAAI,qBAAqB;AACzD,aAAO,eAAe,KAAK,MAAM;AAAA,QAC/B,cAAc;AAAA,QACd;AAAA,QACA,UAAU;AAAA,QACV;AAAA;AAAA;AAKJ,qBAAkB,SAAS;AACzB,UAAI,WAAW,QAAQ,QAAQ;AAC7B,YAAI,CAAC,WAAW,QAAQ;AAAS,kBAAO;AAAA;AACnC,oBAAS,QAAQ;AAAA;AAAA;AAI1B,kBAAe,QAAQ,MAAM,SAAS;AACpC,UAAI,CAAC,UAAU,CAAC,OAAO,OAAO;AAC5B,gBAAO,0BAA0B,OAAO;AACxC;AAAA;AAGF,UAAI,CAAC,SAAS;AACZ,gBAAO;AACP,gBAAQ,IAAI,QAAS;AACrB;AAAA;AAGF,UAAI,CAAC,WAAW,OAAO,UAAU,CAAC,WAAW,UAAU;AACrD,gBAAO;AACP;AAAA;AAGF,UAAI,WAAW,OAAO;AACtB,UAAI,UAAU,QAAQ,UAAU;AAEhC,qBAAe,SAAS,cAAc;AACtC,qBAAe,SAAS,YAAY,WAAY;AAC9C,YAAI,OAAO,UAAU;AAAS,yBAAe,QAAQ,MAAM;AAAA;AAE7D,qBAAe,SAAS,aAAa;AAErC,qBAAe,QAAQ,MAAM;AAC7B,aAAO;AAAA;AAGT,sBAAmB,SAAS,OAAO,SAAS;AAC1C,UAAI,CAAC,SAAS;AACZ,gBAAO;AACP,gBAAQ,IAAI,QAAS;AACrB;AAAA,iBACS,CAAC,MAAM,QAAQ,UAAU;AAClC,kBAAU,CAAC;AAAA;AAGb,UAAI,CAAE,UAAS,MAAM,QAAQ,SAAS;AACpC,gBAAO;AACP;AAAA;AAGF,cAAQ,QAAQ,SAAU,QAAQ;AAChC,cAAM,QAAQ,SAAU,MAAM;AAC5B,eAAK,QAAQ,MAAM;AAAA;AAAA;AAAA;AAKzB,oBAAiB,QAAQ,MAAM;AAC7B,UAAI,CAAC,UAAU,CAAC,OAAO,OAAO;AAC5B,gBAAO;AACP,gBAAQ,IAAI,QAAS;AACrB;AAAA;AAGF,UAAI,CAAC,OAAO,MAAM,UAAU;AAC1B,gBAAO,qCAAqC,OAAO;AAAA,aAC9C;AACL,eAAO,OAAO,MAAM;AAAA;AAAA;AAIxB,wBAAqB,SAAS,OAAO;AACnC,UAAI,CAAC,SAAS;AACZ,gBAAO;AACP,gBAAQ,IAAI,QAAS;AACrB;AAAA,iBACS,CAAC,MAAM,QAAQ,UAAU;AAClC,kBAAU,CAAC;AAAA;AAGb,UAAI,CAAE,UAAS,MAAM,QAAQ,SAAS;AACpC,gBAAO;AACP;AAAA;AAGF,cAAQ,QAAQ,SAAU,QAAQ;AAChC,cAAM,QAAQ,SAAU,MAAM;AAC5B,iBAAO,QAAQ;AAAA;AAAA;AAAA;AAKrB,YAAQ,OAAO;AACf,YAAQ,WAAW;AACnB,YAAQ,SAAS;AACjB,YAAQ,aAAa;AAErB,YAAO,UAAU;AAAA;AAAA;;;ACxHjB;AAAA;AAAA;AAEA,QAAI,UAAU;AACd,QAAI,OAAU,QAAQ;AACtB,QAAI,SAAU,QAAQ;AAItB,QAAI,SAAS;AAIb,4BAAwB,KAAK,MAAM,OAAO;AACxC,UAAI,aAAa,CAAC,CAAC,IAAI,SAAS,IAAI,qBAAqB;AACzD,aAAO,eAAe,KAAK,MAAM;AAAA,QAC/B,cAAc;AAAA,QACd;AAAA,QACA,UAAU;AAAA,QACV;AAAA;AAAA;AAIJ,sBAAkB,MAAM,WAAW;AACjC,UAAI,IAAI,UAAU;AAClB,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,YAAI,WAAW,UAAU;AAEzB,YAAI,SAAS,KAAK;AAClB,YAAI,OAAO,WAAW,YAAY;AAChC,iBAAO;AAAA,mBAEA,MAAM,QAAQ,SAAS;AAC9B,cAAI,SAAS,OAAO;AACpB,mBAAS,IAAI,GAAG,IAAI,QAAQ;AAAK,mBAAO,GAAG;AAAA;AAAA;AAAA;AAKjD,wBAAoB,MAAM,OAAO;AAC/B,UAAI;AACJ,kBAAY,KAAK,WAAW,KAAK,QAAQ;AACzC,UAAI,CAAC,MAAM,QAAQ,YAAY;AAC7B,YAAI,WAAW;AACb,sBAAY,CAAC;AAAA,eAEV;AACH,sBAAY;AAAA;AAAA;AAIhB,aAAO;AAAA;AAGT,6BAAyB,MAAM,OAAO,QAAQ;AAC5C,UAAI,QAAQ,WAAW,MAAM;AAC7B,UAAI,cAAc,MAAM,OAAO,SAAS,IAAI;AAAE,eAAO,OAAO,QAAQ,QAAQ;AAAA;AAC5E,UAAI,YAAY,SAAS;AAAG,iBAAS,MAAM;AAAA;AAG7C,mBAAe,WAAW,OAAO;AAC/B,UAAI,CAAC;AAAW;AAEhB,UAAI,UAAU;AACd,UAAI,OAAO,cAAc,YAAY;AACnC,kBAAU,MAAM;AAAA,iBAET,MAAM,QAAQ,YAAY;AACjC,kBAAU;AACV,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,kBAAQ,KAAK,MAAM,UAAU;AAAA;AAAA;AAGjC,aAAO;AAAA;AAGT,YAAO,UAAU,qBAAqB,SAAS,eAAe,QAAQ;AACpE,UAAI,CAAC,WAAW,CAAC,QAAQ,MAAM,CAAC,QAAQ,eACpC,CAAC,QAAQ,kBAAkB,CAAC,QAAQ,MAAM;AAC5C,cAAM,IAAI,MAAM;AAAA;AAGlB,UAAI,CAAC;AAAe,cAAM,IAAI,MAAM;AACpC,UAAI,CAAC;AAAQ,cAAM,IAAI,MAAM;AAK7B,sBAAgB,IAAI;AAClB,eAAO,eAAe,OAAO,UAAU;AACrC,cAAI,WAAW,WAAW,MAAM,OAAO;AAEvC,cAAI;AACF,gBAAI,WAAW,GAAG,KAAK,MAAM,OAAO;AACpC,4BAAgB,MAAM,OAAO;AAC7B,mBAAO;AAAA,oBAET;AAEE,gBAAI,CAAC,KAAK,GAAG;AAAW,mBAAK,MAAM,MAAM;AACzC,gBAAI,CAAC,KAAK,YAAY;AAAW,mBAAK,MAAM,eAAe;AAAA;AAAA;AAAA;AAKjE,wBAAkB,MAAM;AACtB,eAAO,iBAAiB,OAAO;AAC7B,cAAI,CAAC,KAAK,WAAW,CAAC,KAAK,QAAQ;AAAQ,mBAAO,KAAK,MAAM,MAAM;AAEnE,cAAI,YAAY,KAAK,QAAQ;AAK7B,2BAAiB,gBAAgB;AAC/B,mBAAO,mBAAmB;AACxB,mBAAK,QAAQ,SAAS;AACtB,kBAAI;AACF,uBAAO,eAAe,MAAM,MAAM;AAAA,wBAEpC;AACE,4BAAY,KAAK,QAAQ;AACzB,qBAAK,QAAQ,SAAS,MAAM,WAAW;AAAA;AAAA;AAAA;AAI7C,eAAK,MAAM,kBAAkB;AAE7B,cAAI;AAKF,iBAAK,QAAQ,SAAS,MAAM,WAAW;AACvC,mBAAO,KAAK,MAAM,MAAM;AAAA,oBAE1B;AAIE,mBAAO,MAAM;AACb,iBAAK,QAAQ,SAAS;AAAA;AAAA;AAAA;AAM5B,UAAI,CAAC,QAAQ,SAAS;AACpB,uBAAe,SAAS,QAAQ;AAAA,iBAEzB,OAAO,QAAQ,YAAY,YAAY;AAC9C,uBAAe,SAAS,QAAQ,CAAC,QAAQ,SAAS;AAAA,iBAE3C,MAAM,QAAQ,QAAQ,UAAU;AACvC,gBAAQ,QAAQ,KAAK;AAAA;AAIvB,UAAI,CAAC,QAAQ,WAAW;AACtB,aAAK,SAAS,eAAe;AAC7B,aAAK,SAAS,MAAe;AAC7B,aAAK,SAAS,QAAe;AAE7B,uBAAe,SAAS,YAAY,WAAY;AAC9C,iBAAO,SAAS;AAChB,iBAAO,SAAS;AAChB,iBAAO,SAAS;AAChB,iBAAO,QAAQ;AACf,iBAAO,QAAQ;AAAA;AAEjB,uBAAe,SAAS,aAAa;AAAA;AAAA;AAAA;AAAA;;;ACzKzC;AAAA;AACA;AAEA,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,QAAM,cAAc;AACpB,QAAM,cAAc,QAAQ;AAE5B,QAAM,kBAAkB;AACxB,QAAM,eAAe;AAErB,QAAM,mBAAmB,QAAQ,IAAI;AAErC,QAAI,aAAa;AAEjB,YAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MACP;AAAA;AAGF,uBAAmB,MAAM;AACvB,WAAK,OAAO;AAEZ,WAAK,SAAS;AACd,WAAK,OAAO;AACZ,WAAK,KAAK;AACV,WAAK,YAAY,oBAAI;AACrB,WAAK,UAAU;AAAA;AAGjB,cAAU,UAAU,MAAM,aAAa,KAAK,OAAO;AACjD,UAAI,CAAC,KAAK,QAAQ;AAChB,cAAM,IAAI,MAAM;AAAA;AAGlB,WAAK,OAAO,OAAO;AAEnB,UAAI,kBAAkB;AACpB,cAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,eAAO,YAAY,qBAAqB,MAAM,MAAM,QAAQ,YAAY,KAAK,OAAO,iBAAiB,aAAa,aAAa,KAAK,QAAQ,KAAK,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO;AAAA;AAG7L,aAAO;AAAA;AAGT,cAAU,UAAU,MAAM,aAAa,KAAK;AAC1C,UAAI,CAAC,KAAK,QAAQ;AAChB,YAAI,kBAAkB;AACpB,gBAAM,sBAAsB,YAAY;AACxC,gBAAM,YAAY,YAAY;AAC9B,gBAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AAEzD,iBAAO,GAAG,+CAA+C,KAAK,SAAS,4BAA4B,kCAAkC,iCAAiC,iBAAiB,KAAK,KAAK;AAAA;AAEnM,eAAO;AAAA;AAET,UAAI,kBAAkB;AACpB,cAAM,sBAAsB,YAAY;AACxC,cAAM,YAAY,YAAY;AAC9B,cAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,eAAO,YAAY,yBAAyB,MAAM,MAAM,KAAK,OAAO,OAAO,OAAO,KAAK,OAAO,kBAAkB,aAAa,aAAa,KAAK,QAAQ,KAAK,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO;AACtM,eAAO,GAAG,kCAAkC,KAAK,SAAS,OAAO,KAAK,OAAO,mBAAmB,kCAAkC,iCAAiC,iBAAiB,KAAK,KAAK,iBAAiB,KAAK,QAAQ,KAAK;AAAA;AAEnO,aAAO,KAAK,OAAO;AAAA;AAGrB,cAAU,UAAU,gBAAgB,yBAAyB;AAE3D,UAAI,UAAU,OAAO,OAAO,KAAK,SAAS,KAAK,SAAS,OAAO;AAC/D,cAAQ,WAAW,KAAK;AACxB,cAAQ,KAAK;AAEb,UAAI,kBAAkB;AACpB,cAAM,sBAAsB,YAAY;AACxC,cAAM,YAAY,YAAY;AAC9B,cAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,eAAO,GAAG,sCAAsC,KAAK,oBAAoB,kCAAkC,iCAAiC,iBAAiB,KAAK,KAAK,kBAAkB,KAAK,QAAQ,SAAS,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO;AAAA;AAGnP,aAAO;AAAA;AAGT,cAAU,UAAU,MAAM,aAAa,IAAI;AACzC,UAAI,UAAU,KAAK;AACnB,WAAK,MAAM;AAEX,UAAI;AACF,YAAI,kBAAkB;AACpB,gBAAM,YAAY,YAAY;AAC9B,gBAAM,sBAAsB,YAAY;AACxC,gBAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,iBAAO,GAAG,gCAAgC,KAAK,oBAAoB,wBAAwB,iCAAiC,2BAA2B,KAAK,KAAK,kBAAkB,KAAK,QAAQ;AAAA;AAElM,WAAG;AACH,eAAO;AAAA,eACA,WAAP;AACA,YAAI,WAAW;AACb,oBAAU,gBAAgB;AAAA;AAE5B,cAAM;AAAA,gBACN;AACA,YAAI,kBAAkB;AACpB,gBAAM,YAAY,YAAY;AAC9B,gBAAM,sBAAsB,YAAY;AACxC,gBAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,iBAAO,GAAG,8BAA8B,KAAK,oBAAoB,wBAAwB,iCAAiC,2BAA2B,KAAK,KAAK,UAAU,KAAK,QAAQ;AAAA;AAExL,aAAK,KAAK;AAAA;AAAA;AAId,cAAU,UAAU,eAAe,sBAAsB,IAAI;AAC3D,UAAI;AACJ,WAAK,IAAI,SAAU,SAAS;AAC1B,gBAAQ,GAAG;AAAA;AAEb,aAAO;AAAA;AAQT,cAAU,UAAU,aAAa,oBAAoB,IAAI;AACvD,UAAI,UAAU,KAAK;AACnB,WAAK,MAAM;AAEX,UAAI,UAAU,GAAG;AACjB,UAAI,CAAC,WAAW,CAAC,QAAQ,QAAQ,CAAC,QAAQ,OAAO;AAC/C,cAAM,IAAI,MAAM;AAAA;AAGlB,UAAI,kBAAkB;AACpB,eAAO,iCAAiC,KAAK,OAAO,kBAAkB,aAAa,UAAU,KAAK,KAAK,SAAS,MAAM,KAAK,QAAQ;AAAA;AAGrI,aAAO,QACJ,KAAK,YAAU;AACd,YAAI,kBAAkB;AACpB,iBAAO,qCAAqC,KAAK,OAAO,kBAAkB,aAAa,UAAU,KAAK,KAAK,SAAS,MAAM,KAAK,QAAQ;AAAA;AAEzI,aAAK,KAAK;AACV,eAAO;AAAA,SAER,MAAM,SAAO;AACZ,YAAI,gBAAgB;AACpB,YAAI,kBAAkB;AACpB,iBAAO,sCAAsC,KAAK,OAAO,kBAAkB,aAAa,UAAU,KAAK,KAAK,SAAS,MAAM,KAAK,QAAQ;AAAA;AAE1I,aAAK,KAAK;AACV,cAAM;AAAA;AAAA;AAIZ,cAAU,UAAU,OAAO,qBAAqB,IAAI,SAAS;AAC3D,UAAI,CAAC,SAAS;AACZ,YAAI,CAAC,KAAK,QAAQ;AAChB,oBAAU,KAAK;AAAA,eACV;AACL,oBAAU,KAAK;AAAA;AAAA;AAInB,UAAI,OAAO;AACX,aAAO,mBAAmB;AACxB,aAAK,MAAM;AACX,YAAI;AACF,iBAAO,GAAG,MAAM,MAAM;AAAA,iBACf,WAAP;AACA,cAAI,WAAW;AACb,sBAAU,gBAAgB;AAAA;AAE5B,gBAAM;AAAA,kBACN;AACA,eAAK,KAAK;AAAA;AAAA;AAAA;AAKhB,cAAU,UAAU,QAAQ,eAAe,SAAS;AAClD,aAAO,GAAG,SAAS;AACnB,UAAI,kBAAkB;AACpB,cAAM,sBAAsB,YAAY;AACxC,cAAM,YAAY,YAAY;AAC9B,cAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,eAAO,GAAG,4BAA4B,KAAK,oBAAoB,wBAAwB,iCAAiC,2BAA2B,KAAK,KAAK,UAAU,KAAK,QAAQ;AAAA;AAGtL,WAAK,KAAK,KAAK,KAAK;AACpB,WAAK,SAAS;AAAA;AAGhB,cAAU,UAAU,OAAO,cAAc,SAAS;AAChD,aAAO,GAAG,SAAS;AACnB,UAAI,kBAAkB;AACpB,cAAM,sBAAsB,YAAY;AACxC,cAAM,YAAY,YAAY;AAC9B,cAAM,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,IAAI,KAAK;AACzD,eAAO,GAAG,2BAA2B,KAAK,oBAAoB,wBAAwB,iCAAiC,2BAA2B,KAAK,KAAK,UAAU,KAAK,QAAQ;AAAA;AAIrL,UAAI,KAAK,WAAW,SAAS;AAC3B,eAAO,GAAG,KAAK,KAAK,QAAQ;AAC5B,aAAK,SAAS,KAAK,KAAK;AACxB;AAAA;AAIF,UAAI,QAAQ,KAAK,KAAK,YAAY;AAElC,UAAI,QAAQ,GAAG;AACb,YAAI,kBAAkB;AACpB,iBAAO,2DAA2D,KAAK,QAAQ;AAAA;AAEjF,eAAO,GAAG,SAAS,GAAG,kDAAmD,KAAK,QAAQ,QAAQ,OAAO,KAAK,QAAQ;AAAA,aAC7G;AACL,eAAO,GAAG,OAAO;AACjB,aAAK,KAAK,OAAO,OAAO;AAAA;AAAA;AAI5B,cAAU,UAAU,cAAc,qBAAqB,SAAS;AAC9D,aAAO,GAAG,QAAQ,MAAM,QAAQ,eAAe,QAAQ,MAAM;AAE7D,UAAI,YAAY;AAChB,UAAI,aAAa,aAAa,KAAK;AAGnC,sBAAgB,UAAU;AACxB,YAAI,CAAC,UAAU;AACb;AAAA;AAEF,YAAI,CAAC,SAAS,kBAAkB;AAC9B,mBAAS,mBAAmB,OAAO,OAAO;AAAA;AAG5C,iBAAS,iBAAiB,cAAc;AAAA,UACtC;AAAA,UACA,SAAS,UAAU;AAAA;AAAA;AAKvB,oBAAc,WAAW;AACvB,YAAI,CAAE,cAAa,UAAU,mBAAmB;AAC9C,iBAAO;AAAA;AAGT,YAAI,UAAU;AACd,YAAI,oBAAoB,UAAU;AAClC,eAAO,KAAK,mBAAmB,QAAQ,SAAU,MAAM;AACrD,cAAI,QAAQ,kBAAkB;AAC9B,oBAAU,MAAM,UAAU,KAAK,SAAS,MAAM;AAAA;AAEhD,eAAO;AAAA;AAGT,kBAAY,SAAS,QAAQ;AAAA;AAS/B,cAAU,UAAU,gBAAgB,uBAAuB,WAAW;AACpE,aAAO,UAAU;AAAA;AAGnB,0BAAsB,MAAM;AAC1B,aAAO,QAAQ,WAAW;AAAA;AAG5B,6BAAyB,MAAM;AAC7B,aAAO,GAAG,MAAM;AAEhB,UAAI,kBAAkB;AACpB,eAAO,0BAA0B;AAAA;AAEnC,UAAI,YAAY,IAAI,UAAU;AAC9B,gBAAU,KAAK;AAEf,YAAM,OAAO,YAAY,WAAW;AAAA,QAClC,KAAK,SAAS,MAAM,WAAW,UAAU;AACvC,uBAAa,YAAY;AAwBzB,cAAG,UAAU,QAAQ;AACnB,sBAAU,UAAU,IAAI,SAAS,UAAU;AAE3C,gBAAI,kBAAkB;AACpB,oBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,qBAAO,GAAG,kBAAkB,UAAU,iBAAiB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,oBAAmB;AAAA;AAAA,qBAExM,eAAe,GAAE;AAGxB,kBAAM,aAAY,YAAY;AAC9B,kBAAM,mBAAmB,UAAU,UAAU,IAAI;AACjD,gBAAI,kBAAkB;AACpB,wBAAU,UAAU,IAAI,SAAS;AACjC,kBAAI,kBAAkB;AACpB,sBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,uBAAO,GAAG,+CAA+C,UAAU,iBAAiB,sBAAsB,wBAAwB,qBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAE,YAAY,MAAM,OAAO,GAAG,QAAQ,oBAAoB;AAAA;AAAA,uBAExO,kBAAkB;AAC3B,oBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,qBAAO,GAAG,kCAAkC,UAAU,iBAAiB,sBAAsB,wBAAwB,qBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAE,YAAY,MAAM,OAAO,GAAG,QAAQ,oBAAoB;AAAA;AAAA;AAKtO,cAAG,oBAAoB,SAAS,WAAU;AACxC,mBAAO,KAAK,QAAQ,UAAU,EAAC,YAAY;AAC3C,kBAAM,WAAW,SAAS;AAC1B,kBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,mBAAO,GAAG,mCAAmC,UAAU,kBAAkB,oBAAoB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,oBAAmB;AAAA;AAAA;AAAA,QAIvP,OAAO,SAAS;AACd,uBAAa,YAAY;AACzB,cAAI;AAcJ,oBAAU,UAAU,UAAU,IAAI,YAAY,UAAU,UAAU,IAAI;AAEtE,cAAI,SAAS;AACX,gBAAI,kBAAkB;AACpB,oBAAM,YAAY,YAAY;AAC9B,oBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,qBAAO,GAAG,oBAAoB,iBAAiB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,mBAAkB,KAAK,QAAQ;AACjN,wBAAU,WAAW;AAAA;AAGvB,sBAAU,MAAM;AAAA,qBAEP,kBAAkB;AAC3B,kBAAM,YAAY,YAAY;AAC9B,kBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,mBAAO,GAAG,oCAAoC,iBAAiB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,+BAA8B,KAAK,QAAQ,UAAU,WAAW,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO;AACpS,sBAAU,WAAW;AAAA;AAAA;AAAA,QAGzB,MAAM,SAAS;AACb,uBAAa,YAAY;AACzB,cAAI;AAYJ,oBAAU,UAAU,UAAU,IAAI,YAAY,UAAU,UAAU,IAAI;AAEtE,cAAI,SAAS;AACX,gBAAI,kBAAkB;AACpB,oBAAM,YAAY,YAAY;AAC9B,wBAAU,WAAW;AACrB,oBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,qBAAO,GAAG,mBAAmB,iBAAiB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,mBAAkB,KAAK,QAAQ;AAAA;AAGlN,sBAAU,KAAK;AAAA,qBAEN,kBAAkB;AAC3B,kBAAM,YAAY,YAAY;AAC9B,sBAAU,WAAW;AACrB,kBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,mBAAO,GAAG,mCAAmC,iBAAiB,sBAAsB,wBAAwB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,mBAAkB,KAAK,QAAQ;AAAA;AAAA;AAAA,QAGpO,QAAQ,SAAS;AACf,uBAAa,YAAY;AACzB,cAAI,kBAAkB;AACpB,kBAAM,YAAY,YAAY;AAC9B,kBAAM,YAAY,IAAI,OAAO,UAAU,UAAU,IAAI,IAAI,UAAU;AACnE,mBAAO,GAAG,qBAAqB,oBAAoB,sBAAsB,qBAAqB,oBAAoB,KAAK,QAAQ,UAAU,QAAQ,EAAC,YAAW,MAAM,OAAM,GAAG,QAAO,mBAAkB,KAAK,QAAQ,UAAU,UAAU,IAAI;AAAA;AAG5O,oBAAU,UAAU,OAAO;AAAA;AAAA;AAI/B,WAAK;AAEL,cAAQ,WAAW,QAAQ;AAC3B,aAAO;AAAA;AAGT,8BAA0B,MAAM;AAC9B,UAAI,YAAY,aAAa;AAE7B,aAAO,GAAG,WAAW,0CAA2C,OAAO;AACvE,aAAO,GAAG,UAAU,IAAI,kDAAmD,KAAK,QAAQ;AAExF,cAAQ,WAAW,QAAQ;AAAA;AAG7B,sBAAiB;AAEf,UAAI,QAAQ,YAAY;AACtB,eAAO,KAAK,QAAQ,YAAY,QAAQ,SAAU,MAAM;AACtD,2BAAiB;AAAA;AAAA;AAGrB,cAAQ,aAAa,OAAO,OAAO;AAAA;AAGrC,YAAQ,aAAa;AAGrB,uBAAmB,MAAM;AACvB,UAAI,kBAAkB;AAEpB,gBAAQ,UAAU,GAAG,KAAK,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;;;AC1cxC;AAAA;AAAA;AAEA,4BAAwB;AAAA;AAExB,YAAO,UAAU,iBAAiB;AAChC,YAAM,SAAQ,KAAK;AACnB,YAAM,SAAQ,KAAK;AAEnB,YAAM,cAAc,QAAQ;AAC5B,cAAQ,WAAW,WAAY;AAC7B,YAAI,CAAC,OAAM;AAAS,iBAAO,YAAY,MAAM,SAAS;AAEtD,cAAM,OAAO,IAAI,MAAM,UAAU;AACjC,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,eAAK,KAAK,UAAU;AAAA;AAEtB,cAAM,WAAW,KAAK;AAEtB,YAAI,OAAO,aAAa,YAAY;AAClC,gBAAM,IAAI,UAAU;AAAA;AAGtB,cAAM,SAAS,IAAI;AACnB,cAAM,MAAM,EAAE,OAAM;AAGpB,eAAM,KAAK,KAAK,QAAQ,KAAK,GAAG,MAAM;AAGtC,aAAK,KAAK,WAAY;AAEpB,iBAAM,IAAI,KAAK,QAAQ;AAEvB,cAAI,WAAW;AACf,cAAI;AACF,qBAAS,MAAM,MAAM;AACrB,uBAAW;AAAA,oBACX;AAIA,gBAAG,YAAY,QAAQ,cAAc,uBAAuB,GAAG;AAC7D,sBAAQ,KAAK,qBAAqB,WAAY;AAC5C,uBAAM,KAAK,KAAK,QAAQ,KAAK;AAC7B,uBAAM,QAAQ,KAAK,MAAM;AAAA;AAAA;AAAA;AAM/B,iBAAM,KAAK,KAAK,QAAQ,KAAK;AAC7B,iBAAM,QAAQ,KAAK,MAAM;AAAA;AAG3B,eAAO,YAAY,MAAM,SAAS;AAAA;AAAA;AAAA;AAAA;;;ACtDtC;AAAA;AAAA;AAEA,2BAAuB;AAAA;AAEvB,YAAO,UAAU,wBAAwB;AACvC,YAAM,SAAQ,KAAK;AACnB,YAAM,SAAQ,KAAK;AAEnB,YAAM,WAAU,OAAO;AAMvB,YAAM,UAAU,SAAQ,UAAU;AAClC,eAAQ,UAAU,OAAO;AAEzB,kCAA4B,IAAI,QAAQ,KAAK,eAAe;AAC1D,YAAI,AAAe,OAAO,OAAtB,YAA0B;AAC5B,iBAAO,gBACH,+BAA+B,OAC/B,8BAA8B;AAAA;AAGpC,eAAO,0BAA0B;AAC/B,iBAAM,IAAI,KAAK,QAAQ;AACvB,cAAI;AACF,mBAAO,GAAG,MAAM,MAAM;AAAA,oBACtB;AACA,mBAAM,KAAK,KAAK,QAAQ,KAAK;AAC7B,mBAAM,QAAQ,KAAK,MAAM;AAAA;AAAA;AAAA;AAK/B,8CAAwC,KAAK;AAC3C,eAAO,oCAAoC,KAAK;AAC9C,iBAAM,QAAQ,KAAK,MAAM;AACzB,iBAAO;AAAA;AAAA;AAIX,6CAAuC,KAAK;AAC1C,eAAO,kCAAkC,KAAK;AAC5C,iBAAM,QAAQ,KAAK,MAAM;AACzB,gBAAM;AAAA;AAAA;AAIV,2BAAqB,aAAa,YAAY;AAC5C,YAAI,CAAC,OAAM;AAAS,iBAAO,QAAQ,KAAK,MAAM,aAAa;AAE3D,cAAM,SAAS,IAAI;AACnB,cAAM,MAAM,EAAE,OAAM;AAEpB,eAAM,KAAK,KAAK,QAAQ,KAAK,GAAG,MAAM;AAEtC,eAAO,QAAQ,KACb,MACA,mBAAmB,aAAa,QAAQ,KAAK,OAC7C,mBAAmB,YAAY,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;;;AC5DlD;AAAA;AAAA;AAEA,QAAM,SAAS,QAAQ;AAEvB,2BAAuB;AAAA;AACvB,4BAAwB;AAAA;AACxB,6BAAyB;AAAA;AAEzB,QAAM,aAAa,oBAAI;AACvB,QAAM,cAAc,oBAAI;AACxB,QAAM,eAAe,oBAAI;AAEzB,QAAI,iBAAiB;AACrB,QAAI,oBAAoB;AAExB,YAAO,UAAU,iBAAiB;AAChC,iBAAW,KAAK,QAAQ,KAAK,QAAQ,cAAc,gBAAgB,aAAa,YAAY;AAC5F,iBAAW,KAAK,QAAQ,KAAK,QAAQ,eAAe,iBAAiB,cAAc,aAAa;AAChG,iBAAW,KAAK,QAAQ,KAAK,QAAQ,gBAAgB,kBAAkB,eAAe,cAAc;AAEpG,aAAO,aAAa,OAAO;AAC3B,aAAO,cAAc,OAAO;AAC5B,aAAO,eAAe,OAAO;AAE7B,aAAO,eAAe,OAAO;AAC7B,aAAO,gBAAgB,OAAO;AAC9B,aAAO,iBAAiB,OAAO;AAAA;AAGjC,wBAAoB,QAAO,QAAO,OAAO,SAAS,QAAQ,UAAU,YAAY;AAC9E,YAAM,WAAW,OAAO;AACxB,YAAM,aAAa,OAAO;AAG1B,aAAO,SAAS,WAAY;AAC1B,YAAI,CAAC,OAAM;AAAS,iBAAO,SAAS,MAAM,QAAQ;AAElD,cAAM,OAAO,IAAI,MAAM,UAAU;AACjC,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,eAAK,KAAK,UAAU;AAAA;AAEtB,cAAM,WAAW,KAAK;AAEtB,YAAI,OAAO,aAAa,YAAY;AAClC,gBAAM,IAAI,UAAU;AAAA;AAGtB,cAAM,SAAS,IAAI;AACnB,cAAM,MAAM,EAAE,OAAM;AACpB,YAAI,UAAU;AAGd,eAAM,KAAK,KAAK,QAAQ,KAAK,GAAG,MAAM;AAGtC,aAAK,KAAK,WAAY;AAEpB,2BAAiB;AACjB,iBAAM,IAAI,KAAK,QAAQ;AAEvB,cAAI,WAAW;AACf,cAAI;AACF,qBAAS,MAAM,MAAM;AACrB,uBAAW;AAAA,oBACX;AAIA,gBAAI,YAAY,QAAQ,cAAc,uBAAuB,GAAG;AAC9D,sBAAQ,KAAK,qBAAqB,WAAY;AAE5C,uBAAM,KAAK,KAAK,QAAQ,KAAK;AAE7B,yBAAS,OAAO;AAChB,uBAAM,QAAQ,KAAK,MAAM;AAAA;AAAA;AAAA;AAM/B,iBAAM,KAAK,KAAK,QAAQ,KAAK;AAC7B,2BAAiB;AAGjB,cAAI,cAAc,mBAAmB;AACnC,gCAAoB;AACpB,qBAAS,OAAO;AAChB,mBAAM,QAAQ,KAAK,MAAM;AAAA;AAAA;AAI7B,kBAAU,SAAS,MAAM,QAAQ;AAGjC,iBAAS,IAAI,SAAS;AAEtB,eAAO;AAAA;AAIT,aAAO,WAAW,SAAU,SAAS;AAGnC,YAAI,mBAAmB,WAAW,YAAY,MAAM;AAClD,8BAAoB;AAAA,mBAIb,SAAS,IAAI,UAAU;AAC9B,gBAAM,MAAM,SAAS,IAAI;AACzB,mBAAS,OAAO;AAChB,iBAAM,QAAQ,KAAK,MAAM;AAAA;AAG3B,mBAAW,MAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClH7B;AAAA;AAAA;AAEA,QAAM,YAAY,QAAQ,QAAQ;AAClC,QAAM,YAAY,UAAU,UAAU;AAEtC,QAAM,SAAS;AAAA,MACb,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,UAAU;AAAA;AAGZ,QAAM,aAAa,oBAAI;AAEvB,qBAAiB;AACf,WAAK,UAAU;AACf,WAAK,UAAU;AAAA;AAGjB,qBAAiB;AACf,YAAM,UAAU,KAAK,UAAU;AAC/B,YAAM,SAAS,KAAK,SAAS;AAC7B,YAAM,UAAU,KAAK,UAAU;AAC/B,YAAM,aAAa,KAAK,aAAa;AAErC,WAAK,OAAO,SAAU,KAAK,UAAU,WAAW,cAAc;AAE5D,YAAI,aAAa,WAAW;AAC1B,qBAAW,IAAI;AACf;AAAA;AAIF,mBAAW,QAAQ,SAAS;AAC1B,eAAK,KAAK,MAAM,UAAU,WAAW;AAAA;AAAA;AAIzC,WAAK,MAAM,SAAU,KAAK;AACxB,YAAI,WAAW,IAAI;AAAM;AAGzB,mBAAW,QAAQ,QAAQ;AACzB,eAAK,KAAK;AAAA;AAAA;AAId,WAAK,OAAO,SAAU,KAAK,UAAU;AACnC,YAAI,WAAW,IAAI;AAAM;AAGzB,mBAAW,QAAQ,SAAS;AAC1B,eAAK,KAAK,MAAM;AAAA;AAAA;AAIpB,WAAK,UAAU,SAAU,KAAK;AAE5B,YAAI,WAAW,IAAI,MAAM;AACvB,qBAAW,OAAO;AAClB;AAAA;AAIF,mBAAW,QAAQ,YAAY;AAC7B,eAAK;AAAA;AAAA;AAAA;AAKX,UAAM,UAAU,MAAM,SAAU,QAAO;AACrC,UAAI,OAAM;AAAM,aAAK,QAAQ,KAAK,OAAM;AACxC,UAAI,OAAM;AAAK,aAAK,OAAO,KAAK,OAAM;AACtC,UAAI,OAAM;AAAM,aAAK,QAAQ,KAAK,OAAM;AACxC,UAAI,OAAM;AAAS,aAAK,WAAW,KAAK,OAAM;AAAA;AAGhD,2BAAuB,OAAO,MAAM;AAClC,YAAM,QAAQ,MAAM,QAAQ;AAC5B,UAAI,UAAU;AAAI;AAClB,YAAM,OAAO,OAAO;AAAA;AAGtB,UAAM,UAAU,SAAS,SAAU,QAAO;AACxC,UAAI,OAAM;AAAM,sBAAc,KAAK,SAAS,OAAM;AAClD,UAAI,OAAM;AAAK,sBAAc,KAAK,QAAQ,OAAM;AAChD,UAAI,OAAM;AAAM,sBAAc,KAAK,SAAS,OAAM;AAClD,UAAI,OAAM;AAAS,sBAAc,KAAK,YAAY,OAAM;AAAA;AAG1D,yBAAqB;AACnB,WAAK,SAAS,IAAI;AAClB,WAAK,SAAS,IAAI;AAGlB,WAAK,UAAU,mBAA0B;AAGzC,WAAK,YAAY,UAAU;AAG3B,iBAAW,OAAO,OAAO,KAAK,SAAS;AACrC,eAAO,KAAK,KAAK;AAAA;AAInB,UAAI,QAAQ,IAAI,eAAe,4BAA4B;AACzD,gBAAQ,KAAK;AAAA;AAEf,gBAAU,WAAW;AAAA,QACnB,MAAM,KAAK,OAAO;AAAA,QAClB,KAAK,KAAK,OAAO;AAAA,QACjB,MAAM,KAAK,OAAO;AAAA,QAClB,SAAS,KAAK,OAAO;AAAA;AAAA;AAGzB,YAAO,UAAU;AAEjB,cAAU,UAAU,WAAW,SAAU,QAAO;AAC9C,WAAK,OAAO,IAAI;AAAA;AAGlB,cAAU,UAAU,cAAc,SAAU,QAAO;AACjD,WAAK,OAAO,OAAO;AAAA;AAGrB,cAAU,UAAU,SAAS,WAAY;AACvC,WAAK,OAAO,UAAU;AACtB,gBAAU;AAAA;AAGZ,cAAU,UAAU,UAAU,WAAY;AACxC,WAAK,OAAO,UAAU;AACtB,gBAAU;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpIZ;AAAA;AA2BA,+BAA2B,OAAO;AAChC,UAAI;AACF,eAAO,MAAM,UAAU,SAAS,KAAK;AAAA,eAC9B,GAAP;AACA,YAAI;AACF,iBAAO,aAAa,IAAI;AAAA,iBACjB,IAAP;AACA,iBAAO;AAAA;AAAA;AAAA;AAKb,YAAO,UAAU,0BAA0B,OAAO,QAAQ;AACxD,UAAI,QAAQ;AACZ,YAAM,KAAK,kBAAkB;AAC7B,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,YAAI,QAAQ,OAAO;AACnB,YAAI;AACJ,YAAI;AACF,iBAAO,MAAM;AAAA,iBACN,GAAP;AACA,cAAI;AACF,mBAAO,aAAa,IAAI;AAAA,mBACjB,IAAP;AAEA,mBAAO;AAAA;AAAA;AAGX,cAAM,KAAK,YAAY;AAAA;AAEzB,aAAO,MAAM,KAAK;AAAA;AAAA;AAAA;;;ACzDpB;AAAA;AAEA,QAAI,kBAAkB;AAGtB,0BAAsB;AACpB,WAAK,SAAS,IAAI;AAClB,WAAK,SAAS,IAAI;AAClB,WAAK,SAAS,IAAI;AAClB,WAAK,UAAU,mBAA0B;AAAA;AAI3C,QAAI,wBAAwB;AAC5B,eAAW,UAAU,WAAW,0BAA0B,SAAS;AACjE,UAAI,CAAC;AAAS,kBAAU;AAGxB,8BAAwB;AACxB,UAAI,MAAM;AACV,YAAM,kBAAkB,KAAK;AAC7B,UAAI,YAAY,IAAI;AACpB,8BAAwB;AAGxB,kBAAY,UAAU,MAAM,QAAQ,SAAS;AAG7C,UAAI,QAAQ;AAAQ,oBAAY,KAAK,OAAO,QAAQ,KAAK;AACzD,UAAI,QAAQ;AAAQ,oBAAY,KAAK,OAAO,QAAQ,KAAK;AAGzD,aAAO;AAAA;AAGT,QAAI,QAAQ,IAAI;AAEhB,6BAAyB;AACvB,WAAK,aAAa;AAAA;AAGpB,kBAAc,UAAU,UAAU,SAAU,OAAO,QAAQ;AACzD,eAAS,IAAI,GAAG,IAAI,KAAK,WAAW,QAAQ,IAAI,GAAG,KAAK;AACtD,iBAAS,KAAK,WAAW,GAAG,OAAO;AAAA;AAGrC,aAAO;AAAA;AAGT,kBAAc,UAAU,SAAS,SAAU,UAAU;AACnD,WAAK,WAAW,KAAK;AAAA;AAGvB,kBAAc,UAAU,WAAW,SAAU,UAAU;AACrD,UAAI,QAAQ,KAAK,WAAW,QAAQ;AAEpC,UAAI,UAAU;AAAI,eAAO;AAEzB,WAAK,WAAW,OAAO,OAAO;AAC9B,aAAO;AAAA;AAGT,6BAAyB;AACvB,WAAK,YAAY;AACjB,WAAK,YAAY;AAAA;AAGnB,kBAAc,UAAU,UAAU,SAAU,UAAU;AACpD,UAAI,UAAU;AACZ,aAAK,YAAY;AAAA,aACZ;AACL,aAAK;AAAA;AAAA;AAIT,kBAAc,UAAU,UAAW,WAAY;AAC7C,WAAK,YAAY;AACjB,WAAK,YAAY;AAAA;AAGnB,kBAAc,UAAU,UAAU,WAAY;AAC5C,WAAK,YAAY,KAAK;AAAA;AAGxB,kBAAc,UAAU,YAAY,WAAY;AAC9C,UAAI,KAAK,cAAc,iBAAiB;AACtC,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,QAAQ,KAAK;AAAA;AAGpB,WAAK,YAAY;AAAA;AAWnB,QAAI,MAAM,mBAAmB;AACzB,YAAM,OAAO,QAAQ,MAAM;AAAA;AAG/B,QAAI,wBAAwB;AAC5B,+BAA2B,OAAO,gBAAgB;AAChD,UAAI;AAAuB,eAAO;AAClC,UAAI;AAAuB,eAAO,gBAAgB,OAAO;AAGzD,UAAI,SAAS,eAAe;AAG5B,eAAS,MAAM,OAAO,QAAQ,OAAO;AAGrC,eAAS,MAAM,OAAO,QAAQ,OAAO;AAGrC,eAAS,OAAO,MAAM,GAAG,MAAM;AAM/B,UAAI,OAAO,aAAa,UACnB,OAAO,yBAAyB,OAAO,gBAAgB,QAAY;AACtE,cAAM,WAAW;AAAA,UACf,UAAU;AAAA,UACV,SAAS;AAAA;AAAA;AAKb,8BAAwB;AACxB,UAAI,SAAS,MAAM,OAAO,UAAU,OAAO;AAC3C,8BAAwB;AAExB,aAAO;AAAA;AAIT,WAAO,eAAe,OAAO,qBAAqB;AAAA,MAChD,OAAO,WAAY;AACjB,eAAO;AAAA;AAAA,MAGT,OAAO,SAAU,UAAU;AAOzB,YAAI,aAAa,mBAAmB;AAClC,gBAAM,OAAO;AAAA,eAMV;AACH,gBAAM,OAAO;AACb,gBAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;AAQ3B,8BAA0B;AAExB,WAAK;AAGL,aAAO,KAAK;AAAA;AAGd,WAAO,eAAe,MAAM,WAAW,YAAY;AAAA,MACjD,OAAO;AAAA,MAEP,OAAO,SAAU,QAAQ;AAGvB,eAAO,eAAe,MAAM,YAAY;AAAA,UACpC,OAAO;AAAA,UACP,UAAU;AAAA,UACV,cAAc;AAAA;AAAA;AAAA,MAIpB,cAAc;AAAA;AAGhB,YAAO,UAAU;AAAA;AAAA;;;ACrMjB;AAAA;AAEA,QAAI,OAAO,aAAa;AAEtB,UAAI,OAAO,YAAY,YAAY,mBAA0B,SAAS;AACpE,gBAAO,UAAU,OAAO;AAAA,aAGrB;AACH,cAAM,IAAI,MAAM;AAAA;AAAA,WAIf;AACH,cAAO,UAAU,OAAO,cAAc;AAAA;AAAA;AAAA;;;ACdxC;AAAA;AAAA;AAEA,QAAM,YAAY;AAIlB,QAAI,OAAO,YAAY;AAErB,UAAI,OAAO,WAAW,YAAY,mBAA0B,SAAS;AACnE,gBAAO,UAAU,OAAO;AAAA,aAGrB;AACH,cAAM,IAAI,MAAM;AAAA;AAAA,WAEb;AACL,YAAM,aAAa;AAInB,iBAAW,OAAO,OAAO,SAAU,OAAO,QAAQ;AAChD,eAAO,OAAO,OAAO,SAAU,UAAU;AACvC,gBAAM,WAAW,SAAS;AAG1B,iBAAO,CAAE,aAAY,SAAS,MAAM,GAAG,UAAU,YAAY;AAAA;AAAA;AAIjE,cAAO,UAAU,OAAO,aAAa,IAAI;AAAA;AAAA;AAAA;;;AC7B3C;AAAA;AAAA;AAEA,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,QAAM,cAAc;AACpB,QAAM,YAAY;AAElB,QAAM,kBAAkB;AACxB,QAAM,eAAe;AAIrB,QAAM,oBAAoB;AAC1B,aAAS,OAAO,UAAU,WAAW;AACnC,wBAAkB,UAAU,UAAU,QAAQ;AAAA;AAGhD,QAAM,mBAAmB,QAAQ,IAAI;AAErC,QAAI,aAAa;AAEjB,YAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MAEP;AAAA;AAGF,uBAAmB,MAAM;AACvB,WAAK,OAAO;AAEZ,WAAK,SAAS;AACd,WAAK,OAAO;AACZ,WAAK,KAAK;AACV,WAAK,YAAY,oBAAI;AAAA;AAGvB,cAAU,UAAU,MAAM,aAAa,KAAK,OAAO;AACjD,UAAI,CAAC,KAAK,QAAQ;AAChB,cAAM,IAAI,MAAM;AAAA;AAGlB,UAAI,kBAAkB;AACpB,eAAO,qBAAqB,MAAM,MAAM,QAAQ,YAAY,KAAK,OAAO,UAAU,aAAa,aAC7F,KAAK,QAAQ,KAAK,QAAQ;AAAA;AAE9B,WAAK,OAAO,OAAO;AACnB,aAAO;AAAA;AAGT,cAAU,UAAU,MAAM,aAAa,KAAK;AAC1C,UAAI,CAAC,KAAK,QAAQ;AAChB,YAAI,kBAAkB;AACpB,iBAAO,qBAAqB,MAAM,gBAAqB,KAAK,OAAO,UAAU,aAAa,aACxF,KAAK,QAAQ,KAAK,QAAQ;AAAA;AAE9B,eAAO;AAAA;AAET,UAAI,kBAAkB;AACpB,eAAO,qBAAqB,MAAM,MAAM,KAAK,OAAO,OAAO,MAAM,KAAK,OAAO,UAAU,aAAa,aAClG,KAAK,QAAQ,KAAK,QAAQ;AAAA;AAE9B,aAAO,KAAK,OAAO;AAAA;AAGrB,cAAU,UAAU,gBAAgB,yBAAyB;AAC3D,UAAI,kBAAkB;AACpB,eAAO,0BAA0B,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,cAC/F,KAAK,QAAQ,KAAK,QAAQ,MAAM,GAAG;AAAA;AAGvC,UAAI,UAAU,OAAO,OAAO,KAAK,SAAS,KAAK,SAAS,OAAO;AAC/D,cAAQ,WAAW,KAAK;AACxB,cAAQ,KAAK;AAEb,UAAI,kBAAkB;AACpB,eAAO,yBAAyB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,eAC9F,KAAK,QAAQ,SAAS,MAAM,GAAG;AAAA;AAGnC,aAAO;AAAA;AAGT,cAAU,UAAU,MAAM,aAAa,IAAI;AACzC,UAAI,UAAU,KAAK;AACnB,WAAK,MAAM;AACX,UAAI;AACF,YAAI,kBAAkB;AACpB,iBAAO,kBAAkB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,MACvF,KAAK,QAAQ;AAAA;AAEjB,WAAG;AACH,eAAO;AAAA,eAEF,WAAP;AACE,YAAI,WAAW;AACb,oBAAU,gBAAgB;AAAA;AAE5B,cAAM;AAAA,gBAER;AACE,YAAI,kBAAkB;AACpB,iBAAO,iBAAiB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,MACtF,KAAK,QAAQ;AAAA;AAEjB,aAAK,KAAK;AAAA;AAAA;AAId,cAAU,UAAU,eAAe,sBAAsB,IAAI;AAC3D,UAAI;AACJ,WAAK,IAAI,SAAU,SAAS;AAC1B,gBAAQ,GAAG;AAAA;AAEb,aAAO;AAAA;AAQT,cAAU,UAAU,aAAa,oBAAoB,IAAI;AACvD,UAAI,UAAU,KAAK;AACnB,WAAK,MAAM;AAEX,UAAI,UAAU,GAAG;AACjB,UAAI,CAAC,WAAW,CAAC,QAAQ,QAAQ,CAAC,QAAQ,OAAO;AAC/C,cAAM,IAAI,MAAM;AAAA;AAGlB,UAAI,kBAAkB;AACpB,eAAO,yBAAyB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,MAC9F,KAAK,QAAQ;AAAA;AAGjB,aAAO,QACJ,KAAK,YAAU;AACd,YAAI,kBAAkB;AACpB,iBAAO,wBAAwB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,MAC7F,KAAK,QAAQ;AAAA;AAEjB,aAAK,KAAK;AACV,eAAO;AAAA,SAER,MAAM,SAAO;AACZ,YAAI,gBAAgB;AACpB,YAAI,kBAAkB;AACpB,iBAAO,wBAAwB,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,MAC7F,KAAK,QAAQ;AAAA;AAEjB,aAAK,KAAK;AACV,cAAM;AAAA;AAAA;AAIZ,cAAU,UAAU,OAAO,qBAAqB,IAAI,SAAS;AAC3D,UAAI,CAAC,SAAS;AACZ,YAAI,CAAC,KAAK,QAAQ;AAChB,oBAAU,KAAK;AAAA,eAEZ;AACH,oBAAU,KAAK;AAAA;AAAA;AAInB,UAAI,OAAO;AACX,aAAO,mBAAmB;AACxB,aAAK,MAAM;AACX,YAAI;AACF,iBAAO,GAAG,MAAM,MAAM;AAAA,iBAEjB,WAAP;AACE,cAAI,WAAW;AACb,sBAAU,gBAAgB;AAAA;AAE5B,gBAAM;AAAA,kBAER;AACE,eAAK,KAAK;AAAA;AAAA;AAAA;AAKhB,cAAU,UAAU,QAAQ,eAAe,SAAS;AAClD,aAAO,GAAG,SAAS;AACnB,UAAI,kBAAkB;AACpB,eAAO,aAAa,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,eAClF,KAAK,QAAQ;AAAA;AAGjB,WAAK,KAAK,KAAK,KAAK;AACpB,WAAK,SAAS;AAAA;AAGhB,cAAU,UAAU,OAAO,cAAc,SAAS;AAChD,aAAO,GAAG,SAAS;AACnB,UAAI,kBAAkB;AACpB,eAAO,YAAY,KAAK,OAAO,UAAU,aAAa,UAAU,KAAK,KAAK,SAAS,eACjF,KAAK,QAAQ;AAAA;AAIjB,UAAI,KAAK,WAAW,SAAS;AAC3B,eAAO,GAAG,KAAK,KAAK,QAAQ;AAC5B,aAAK,SAAS,KAAK,KAAK;AACxB;AAAA;AAIF,UAAI,QAAQ,KAAK,KAAK,YAAY;AAElC,UAAI,QAAQ,GAAG;AACb,YAAI,kBAAkB;AACpB,iBAAO,2DAA2D,KAAK,QAAQ;AAAA;AAEjF,eAAO,GAAG,SAAS,GAAG,kDAAmD,KAAK,QAAQ,QAAQ,OAC5F,KAAK,QAAQ;AAAA,aACV;AACL,eAAO,GAAG,OAAO;AACjB,aAAK,KAAK,OAAO,OAAO;AAAA;AAAA;AAI5B,cAAU,UAAU,cAAc,qBAAqB,SAAS;AAC9D,aAAO,GAAG,QAAQ,MAAM,QAAQ,eAAe,QAAQ,MAAM;AAE7D,UAAI,YAAY;AAChB,UAAI,aAAa,aAAa,KAAK;AAGnC,sBAAgB,UAAU;AACxB,YAAI,CAAC,UAAU;AACb;AAAA;AAEF,YAAI,CAAC,SAAS,kBAAkB;AAC9B,mBAAS,mBAAmB,OAAO,OAAO;AAAA;AAG5C,iBAAS,iBAAiB,cAAc;AAAA,UACtC;AAAA,UACA,SAAS,UAAU;AAAA;AAAA;AAKvB,oBAAc,WAAW;AACvB,YAAI,CAAE,cAAa,UAAU,mBAAmB;AAC9C,iBAAO;AAAA;AAGT,YAAI,UAAU;AACd,YAAI,oBAAoB,UAAU;AAClC,eAAO,KAAK,mBAAmB,QAAQ,SAAU,MAAM;AACrD,cAAI,QAAQ,kBAAkB;AAC9B,oBAAU,MAAM,UAAU,KAAK,SAAS,MAAM;AAAA;AAEhD,eAAO;AAAA;AAGT,kBAAY,SAAS,QAAQ;AAAA;AAS/B,cAAU,UAAU,gBAAgB,uBAAuB,WAAW;AACpE,aAAO,UAAU;AAAA;AAGnB,0BAAsB,MAAM;AAC1B,aAAO,QAAQ,WAAW;AAAA;AAG5B,6BAAyB,MAAM;AAC7B,aAAO,GAAG,MAAM;AAEhB,UAAI,kBAAkB;AACpB,eAAO,wBAAwB;AAAA;AAEjC,UAAI,YAAY,IAAI,UAAU;AAC9B,gBAAU,KAAK;AAEf,gBAAU,SAAS;AAAA,QACjB,KAAK,KAAK,QAAQ,UAAU,WAAW,cAAc;AAEnD,uBAAa;AAGb,cAAI,WAAW;AACb,sBAAU,UAAU,IAAI,KAAK,UAAU,UAAU,IAAI;AACrD,gBAAI,kBAAkB;AACpB,qBAAO,eAAe,OAAO,UAAU,MAAM,aAAa,YAAY,eAAe;AAAA;AAAA,iBAElF;AACL,sBAAU,UAAU,IAAI,YAAY,UAAU;AAAA;AAGhD,cAAI,kBAAkB;AACpB,mBAAO,UAAU,OAAO,UAAU,MAAM,aAAa,YAAY,eAAe,kBAAkB,YAC9F,aAAa,KAAK,QAAQ,UAAU,QAAQ;AAAA;AAAA;AAAA,QAIpD,IAAI,KAAK,QAAQ;AACf,uBAAa;AACb,cAAI,UAAU,UAAU,UAAU,IAAI;AACtC,cAAI,SAAS;AACX,gBAAI,kBAAkB;AACpB,qBAAO,UAAU,OAAO,UAAU,MAAM,aAAa,gBAAgB,UAAU,cAC7E,KAAK,QAAQ;AAAA;AAGjB,sBAAU,MAAM;AAAA,iBACX;AACL,gBAAI,kBAAkB;AACpB,qBAAO,0BAA0B,OAAO,UAAU,MAAM,aAAa,gBAAgB;AAAA;AAAA;AAAA;AAAA,QAI3F,KAAK,KAAK,QAAQ;AAChB,uBAAa;AACb,cAAI,UAAU,UAAU,UAAU,IAAI;AACtC,cAAI,SAAS;AACX,gBAAI,kBAAkB;AACpB,qBAAO,WAAW,OAAO,UAAU,MAAM,aAAa,gBAAgB,UAAU,cAC9E,KAAK,QAAQ;AAAA;AAGjB,sBAAU,KAAK;AAAA,iBACV;AACL,gBAAI,kBAAkB;AACpB,qBAAO,2BAA2B,OAAO,UAAU,MAAM,aAAa,gBAAgB;AAAA;AAAA;AAAA;AAAA,QAI5F,QAAQ,KAAK;AACX,uBAAa;AAEb,cAAI,kBAAkB;AACpB,mBAAO,aAAa,OAAO,UAAU,MAAM,cAAc,KAAK,QAAQ,UAAU,UAAU,IAAI,eAC1F,aAAa,KAAK,QAAQ,UAAU,QAAQ;AAAA;AAGlD,oBAAU,UAAU,OAAO;AAAA;AAAA;AAI/B,cAAQ,WAAW,QAAQ;AAC3B,aAAO;AAAA;AAGT,8BAA0B,MAAM;AAC9B,UAAI,YAAY,aAAa;AAE7B,aAAO,GAAG,WAAW,0CAA2C,OAAO;AACvE,aAAO,GAAG,UAAU,IAAI,kDAAmD,KAAK,QAAQ;AAExF,cAAQ,WAAW,QAAQ;AAAA;AAG7B,sBAAiB;AAEf,UAAI,QAAQ,YAAY;AACtB,eAAO,KAAK,QAAQ,YAAY,QAAQ,SAAU,MAAM;AACtD,2BAAiB;AAAA;AAAA;AAGrB,cAAQ,aAAa,OAAO,OAAO;AAAA;AAGrC,YAAQ,aAAa;AAErB,QAAI,UAAU,UAAU,CAAC,UAAU,OAAO,SAAS;AACjD,gBAAU;AAAA;AAGZ,oBAAgB,KAAK;AACnB,UAAI,QAAQ,IAAI,OAAO;AACrB,gBAAQ,UAAU;AAAA;AAAA;AActB,6BAAyB,IAAI;AAC3B,UAAI,CAAC,IAAI;AACP,eAAO;AAAA;AAET,UAAI,OAAO,OAAO,YAAY;AAC5B,YAAI,GAAG,MAAM;AACX,iBAAO,GAAG;AAAA;AAEZ,eAAQ,IAAG,WAAW,OAAO,MAAM,4BAA4B,IAAI;AAAA,iBAC1D,GAAG,eAAe,GAAG,YAAY,MAAM;AAChD,eAAO,GAAG,YAAY;AAAA;AAAA;AAM1B,QAAI,kBAAkB;AAChB,mBAAa;AACjB,WAAS,YAAY,WAAW,OAAO,YAAY;AACjD,mBAAW,OAAO,SAAS;AAAA;AAAA;AAFzB;AACK;AAAA;AAAA;;;AChaX;AAAA;AAAA;AAEA,QAAM,SAAS;AAQf,QAAG,WAAW,OAAO,IAAI,QAAQ,SAAS,MAAM,UAAS;AACvD,cAAO,UAAU;AAAA,WACd;AACH,cAAO,UAAU;AAAA;AAAA;AAAA;;;ACbnB;AAAA;AAAA,cAAU,QAAO,UAAU;AAE3B,QAAI;AAEJ,QAAI,OAAO,YAAY,YACnB,QAAQ,OACR,QAAQ,IAAI,cACZ,cAAc,KAAK,QAAQ,IAAI,aAAa;AAC9C,cAAQ,WAAY;AAClB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW;AACjD,aAAK,QAAQ;AACb,gBAAQ,IAAI,MAAM,SAAS;AAAA;AAAA,WAExB;AACL,cAAQ,WAAY;AAAA;AAAA;AAKtB,YAAQ,sBAAsB;AAE9B,QAAI,aAAa;AACjB,QAAI,mBAAmB,OAAO,oBACD;AAG7B,QAAI,4BAA4B;AAGhC,QAAI,KAAK,QAAQ,KAAK;AACtB,QAAI,MAAM,QAAQ,MAAM;AACxB,QAAI,IAAI;AAQR,QAAI,oBAAoB;AACxB,QAAI,qBAAqB;AACzB,QAAI,yBAAyB;AAC7B,QAAI,0BAA0B;AAM9B,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB;AAK5B,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,qBAAqB,UACzB,IAAI,qBAAqB,UACzB,IAAI,qBAAqB;AAElD,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,MAAM,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B,UAC9B,IAAI,0BAA0B;AAK5D,QAAI,uBAAuB;AAC3B,QAAI,wBAAwB,QAAQ,IAAI,qBACZ,MAAM,IAAI,wBAAwB;AAE9D,QAAI,4BAA4B;AAChC,QAAI,6BAA6B,QAAQ,IAAI,0BACZ,MAAM,IAAI,wBAAwB;AAMnE,QAAI,aAAa;AACjB,QAAI,cAAc,UAAU,IAAI,wBACd,WAAW,IAAI,wBAAwB;AAEzD,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,WAAW,IAAI,6BACf,WAAW,IAAI,6BAA6B;AAKnE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB;AAMvB,QAAI,QAAQ;AACZ,QAAI,SAAS,YAAY,IAAI,mBAChB,WAAW,IAAI,mBAAmB;AAW/C,QAAI,OAAO;AACX,QAAI,YAAY,OAAO,IAAI,eACX,IAAI,cAAc,MAClB,IAAI,SAAS;AAE7B,QAAI,QAAQ,MAAM,YAAY;AAK9B,QAAI,aAAa,aAAa,IAAI,oBACjB,IAAI,mBAAmB,MACvB,IAAI,SAAS;AAE9B,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,aAAa;AAEhC,QAAI,OAAO;AACX,QAAI,QAAQ;AAKZ,QAAI,wBAAwB;AAC5B,QAAI,yBAAyB,IAAI,0BAA0B;AAC3D,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,IAAI,qBAAqB;AAEjD,QAAI,cAAc;AAClB,QAAI,eAAe,cAAc,IAAI,oBAAoB,aAC1B,IAAI,oBAAoB,aACxB,IAAI,oBAAoB,SAC5B,IAAI,cAAc,OAC1B,IAAI,SAAS;AAGhC,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,cAAc,IAAI,yBAAyB,aAC/B,IAAI,yBAAyB,aAC7B,IAAI,yBAAyB,SACjC,IAAI,mBAAmB,OAC/B,IAAI,SAAS;AAGrC,QAAI,SAAS;AACb,QAAI,UAAU,MAAM,IAAI,QAAQ,SAAS,IAAI,eAAe;AAC5D,QAAI,cAAc;AAClB,QAAI,eAAe,MAAM,IAAI,QAAQ,SAAS,IAAI,oBAAoB;AAItE,QAAI,SAAS;AACb,QAAI,UAAU,wBACY,4BAA4B,oBACtB,4BAA4B,sBAC5B,4BAA4B;AAK5D,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAIjE,QAAI,YAAY;AAChB,QAAI,aAAa;AAEjB,QAAI,YAAY;AAChB,QAAI,aAAa,WAAW,IAAI,aAAa;AAC7C,OAAG,aAAa,IAAI,OAAO,IAAI,YAAY;AAC3C,QAAI,mBAAmB;AAEvB,QAAI,QAAQ;AACZ,QAAI,SAAS,MAAM,IAAI,aAAa,IAAI,eAAe;AACvD,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,aAAa,IAAI,oBAAoB;AAGjE,QAAI,kBAAkB;AACtB,QAAI,mBAAmB,MAAM,IAAI,QAAQ,UAAU,aAAa;AAChE,QAAI,aAAa;AACjB,QAAI,cAAc,MAAM,IAAI,QAAQ,UAAU,YAAY;AAI1D,QAAI,iBAAiB;AACrB,QAAI,kBAAkB,WAAW,IAAI,QACf,UAAU,aAAa,MAAM,IAAI,eAAe;AAGtE,OAAG,kBAAkB,IAAI,OAAO,IAAI,iBAAiB;AACrD,QAAI,wBAAwB;AAM5B,QAAI,cAAc;AAClB,QAAI,eAAe,WAAW,IAAI,eAAe,gBAExB,IAAI,eAAe;AAG5C,QAAI,mBAAmB;AACvB,QAAI,oBAAoB,WAAW,IAAI,oBAAoB,gBAE7B,IAAI,oBAAoB;AAItD,QAAI,OAAO;AACX,QAAI,QAAQ;AAIZ,SAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,YAAM,GAAG,IAAI;AACb,UAAI,CAAC,GAAG,IAAI;AACV,WAAG,KAAK,IAAI,OAAO,IAAI;AAAA;AAAA;AAHlB;AAOT,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,SAAS,YAAY;AAC/B,eAAO;AAAA;AAGT,UAAI,KAAI,QAAQ,QAAQ,GAAG,SAAS,GAAG;AACvC,UAAI,CAAC,GAAE,KAAK,UAAU;AACpB,eAAO;AAAA;AAGT,UAAI;AACF,eAAO,IAAI,OAAO,SAAS;AAAA,eACpB,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,SAAS;AACvB,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,QAAQ;AAChB,mBAAgB,SAAS,SAAS;AAChC,UAAI,IAAI,MAAM,QAAQ,OAAO,QAAQ,UAAU,KAAK;AACpD,aAAO,IAAI,EAAE,UAAU;AAAA;AAGzB,YAAQ,SAAS;AAEjB,oBAAiB,SAAS,SAAS;AACjC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAGvB,UAAI,mBAAmB,QAAQ;AAC7B,YAAI,QAAQ,UAAU,QAAQ,OAAO;AACnC,iBAAO;AAAA,eACF;AACL,oBAAU,QAAQ;AAAA;AAAA,iBAEX,OAAO,YAAY,UAAU;AACtC,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,UAAI,QAAQ,SAAS,YAAY;AAC/B,cAAM,IAAI,UAAU,4BAA4B,aAAa;AAAA;AAG/D,UAAI,CAAE,iBAAgB,SAAS;AAC7B,eAAO,IAAI,OAAO,SAAS;AAAA;AAG7B,YAAM,UAAU,SAAS;AACzB,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AAEvB,UAAI,IAAI,QAAQ,OAAO,MAAM,QAAQ,QAAQ,GAAG,SAAS,GAAG;AAE5D,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,sBAAsB;AAAA;AAG5C,WAAK,MAAM;AAGX,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAChB,WAAK,QAAQ,CAAC,EAAE;AAEhB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,cAAM,IAAI,UAAU;AAAA;AAItB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,aAAa;AAAA,aACb;AACL,aAAK,aAAa,EAAE,GAAG,MAAM,KAAK,IAAI,SAAU,IAAI;AAClD,cAAI,WAAW,KAAK,KAAK;AACvB,gBAAI,MAAM,CAAC;AACX,gBAAI,OAAO,KAAK,MAAM,kBAAkB;AACtC,qBAAO;AAAA;AAAA;AAGX,iBAAO;AAAA;AAAA;AAIX,WAAK,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO;AACtC,WAAK;AAAA;AAGP,WAAO,UAAU,SAAS,WAAY;AACpC,WAAK,UAAU,KAAK,QAAQ,MAAM,KAAK,QAAQ,MAAM,KAAK;AAC1D,UAAI,KAAK,WAAW,QAAQ;AAC1B,aAAK,WAAW,MAAM,KAAK,WAAW,KAAK;AAAA;AAE7C,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,WAAW,WAAY;AACtC,aAAO,KAAK;AAAA;AAGd,WAAO,UAAU,UAAU,SAAU,OAAO;AAC1C,YAAM,kBAAkB,KAAK,SAAS,KAAK,SAAS;AACpD,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,KAAK,YAAY,UAAU,KAAK,WAAW;AAAA;AAGpD,WAAO,UAAU,cAAc,SAAU,OAAO;AAC9C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,aAAO,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM;AAAA;AAG9C,WAAO,UAAU,aAAa,SAAU,OAAO;AAC7C,UAAI,CAAE,kBAAiB,SAAS;AAC9B,gBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAIjC,UAAI,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AACtD,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,MAAM,WAAW,QAAQ;AAC7D,eAAO;AAAA,iBACE,CAAC,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AAC9D,eAAO;AAAA;AAGT,UAAI,KAAI;AACR,SAAG;AACD,YAAI,IAAI,KAAK,WAAW;AACxB,YAAI,IAAI,MAAM,WAAW;AACzB,cAAM,sBAAsB,IAAG,GAAG;AAClC,YAAI,MAAM,UAAa,MAAM,QAAW;AACtC,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,QAAW;AAC1B,iBAAO;AAAA,mBACE,MAAM,GAAG;AAClB;AAAA,eACK;AACL,iBAAO,mBAAmB,GAAG;AAAA;AAAA,eAExB,EAAE;AAAA;AAKb,WAAO,UAAU,MAAM,SAAU,SAAS,YAAY;AACpD,cAAQ;AAAA,aACD;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AACH,eAAK,WAAW,SAAS;AACzB,eAAK,QAAQ;AACb,eAAK;AACL,eAAK,IAAI,OAAO;AAChB;AAAA,aACG;AAIH,eAAK,WAAW,SAAS;AACzB,eAAK,IAAI,SAAS;AAClB,eAAK,IAAI,OAAO;AAChB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,IAAI,SAAS;AAAA;AAEpB,eAAK,IAAI,OAAO;AAChB;AAAA,aAEG;AAKH,cAAI,KAAK,UAAU,KACf,KAAK,UAAU,KACf,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,UAAU,KAAK,KAAK,WAAW,WAAW,GAAG;AACpD,iBAAK;AAAA;AAEP,eAAK,QAAQ;AACb,eAAK,aAAa;AAClB;AAAA,aACG;AAKH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK;AAAA;AAEP,eAAK,aAAa;AAClB;AAAA,aAGG;AACH,cAAI,KAAK,WAAW,WAAW,GAAG;AAChC,iBAAK,aAAa,CAAC;AAAA,iBACd;AACL,gBAAI,KAAI,KAAK,WAAW;AACxB,mBAAO,EAAE,MAAK,GAAG;AACf,kBAAI,OAAO,KAAK,WAAW,QAAO,UAAU;AAC1C,qBAAK,WAAW;AAChB,qBAAI;AAAA;AAAA;AAGR,gBAAI,OAAM,IAAI;AAEZ,mBAAK,WAAW,KAAK;AAAA;AAAA;AAGzB,cAAI,YAAY;AAGd,gBAAI,KAAK,WAAW,OAAO,YAAY;AACrC,kBAAI,MAAM,KAAK,WAAW,KAAK;AAC7B,qBAAK,aAAa,CAAC,YAAY;AAAA;AAAA,mBAE5B;AACL,mBAAK,aAAa,CAAC,YAAY;AAAA;AAAA;AAGnC;AAAA;AAGA,gBAAM,IAAI,MAAM,iCAAiC;AAAA;AAErD,WAAK;AACL,WAAK,MAAM,KAAK;AAChB,aAAO;AAAA;AAGT,YAAQ,MAAM;AACd,iBAAc,SAAS,SAAS,OAAO,YAAY;AACjD,UAAI,OAAQ,UAAW,UAAU;AAC/B,qBAAa;AACb,gBAAQ;AAAA;AAGV,UAAI;AACF,eAAO,IAAI,OAAO,SAAS,OAAO,IAAI,SAAS,YAAY;AAAA,eACpD,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAQ,OAAO;AACf,kBAAe,UAAU,UAAU;AACjC,UAAI,GAAG,UAAU,WAAW;AAC1B,eAAO;AAAA,aACF;AACL,YAAI,KAAK,MAAM;AACf,YAAI,KAAK,MAAM;AACf,YAAI,SAAS;AACb,YAAI,GAAG,WAAW,UAAU,GAAG,WAAW,QAAQ;AAChD,mBAAS;AACT,cAAI,gBAAgB;AAAA;AAEtB,iBAAS,OAAO,IAAI;AAClB,cAAI,QAAQ,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACzD,gBAAI,GAAG,SAAS,GAAG,MAAM;AACvB,qBAAO,SAAS;AAAA;AAAA;AAAA;AAItB,eAAO;AAAA;AAAA;AAIX,YAAQ,qBAAqB;AAE7B,QAAI,UAAU;AACd,gCAA6B,GAAG,GAAG;AACjC,UAAI,OAAO,QAAQ,KAAK;AACxB,UAAI,OAAO,QAAQ,KAAK;AAExB,UAAI,QAAQ,MAAM;AAChB,YAAI,CAAC;AACL,YAAI,CAAC;AAAA;AAGP,aAAO,MAAM,IAAI,IACZ,QAAQ,CAAC,OAAQ,KACjB,QAAQ,CAAC,OAAQ,IAClB,IAAI,IAAI,KACR;AAAA;AAGN,YAAQ,sBAAsB;AAC9B,iCAA8B,GAAG,GAAG;AAClC,aAAO,mBAAmB,GAAG;AAAA;AAG/B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,QAAQ;AAChB,mBAAgB,GAAG,OAAO;AACxB,aAAO,IAAI,OAAO,GAAG,OAAO;AAAA;AAG9B,YAAQ,UAAU;AAClB,qBAAkB,GAAG,GAAG,OAAO;AAC7B,aAAO,IAAI,OAAO,GAAG,OAAO,QAAQ,IAAI,OAAO,GAAG;AAAA;AAGpD,YAAQ,eAAe;AACvB,0BAAuB,GAAG,GAAG;AAC3B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,WAAW;AACnB,sBAAmB,GAAG,GAAG,OAAO;AAC9B,aAAO,QAAQ,GAAG,GAAG;AAAA;AAGvB,YAAQ,OAAO;AACf,kBAAe,MAAM,OAAO;AAC1B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,QAAQ,GAAG,GAAG;AAAA;AAAA;AAIjC,YAAQ,QAAQ;AAChB,mBAAgB,MAAM,OAAO;AAC3B,aAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,eAAO,QAAQ,SAAS,GAAG,GAAG;AAAA;AAAA;AAIlC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,SAAS;AAAA;AAGhC,YAAQ,KAAK;AACb,gBAAa,GAAG,GAAG,OAAO;AACxB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,WAAW;AAAA;AAGlC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,GAAG,OAAO;AACzB,aAAO,QAAQ,GAAG,GAAG,UAAU;AAAA;AAGjC,YAAQ,MAAM;AACd,iBAAc,GAAG,IAAI,GAAG,OAAO;AAC7B,cAAQ;AAAA,aACD;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AAAA,aACA;AAAA,aACA;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA;AAGjB,gBAAM,IAAI,UAAU,uBAAuB;AAAA;AAAA;AAIjD,YAAQ,aAAa;AACrB,wBAAqB,MAAM,SAAS;AAClC,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,gBAAgB,YAAY;AAC9B,YAAI,KAAK,UAAU,CAAC,CAAC,QAAQ,OAAO;AAClC,iBAAO;AAAA,eACF;AACL,iBAAO,KAAK;AAAA;AAAA;AAIhB,UAAI,CAAE,iBAAgB,aAAa;AACjC,eAAO,IAAI,WAAW,MAAM;AAAA;AAG9B,YAAM,cAAc,MAAM;AAC1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,MAAM;AAEX,UAAI,KAAK,WAAW,KAAK;AACvB,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,QAAQ,KAAK,WAAW,KAAK,OAAO;AAAA;AAG3C,YAAM,QAAQ;AAAA;AAGhB,QAAI,MAAM;AACV,eAAW,UAAU,QAAQ,SAAU,MAAM;AAC3C,UAAI,KAAI,KAAK,QAAQ,QAAQ,GAAG,mBAAmB,GAAG;AACtD,UAAI,IAAI,KAAK,MAAM;AAEnB,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,UAAU,yBAAyB;AAAA;AAG/C,WAAK,WAAW,EAAE;AAClB,UAAI,KAAK,aAAa,KAAK;AACzB,aAAK,WAAW;AAAA;AAIlB,UAAI,CAAC,EAAE,IAAI;AACT,aAAK,SAAS;AAAA,aACT;AACL,aAAK,SAAS,IAAI,OAAO,EAAE,IAAI,KAAK,QAAQ;AAAA;AAAA;AAIhD,eAAW,UAAU,WAAW,WAAY;AAC1C,aAAO,KAAK;AAAA;AAGd,eAAW,UAAU,OAAO,SAAU,SAAS;AAC7C,YAAM,mBAAmB,SAAS,KAAK,QAAQ;AAE/C,UAAI,KAAK,WAAW,KAAK;AACvB,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,aAAO,IAAI,SAAS,KAAK,UAAU,KAAK,QAAQ,KAAK;AAAA;AAGvD,eAAW,UAAU,aAAa,SAAU,MAAM,SAAS;AACzD,UAAI,CAAE,iBAAgB,aAAa;AACjC,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI;AAEJ,UAAI,KAAK,aAAa,IAAI;AACxB,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,OAAO,UAAU;AAAA,iBAC9B,KAAK,aAAa,IAAI;AAC/B,mBAAW,IAAI,MAAM,KAAK,OAAO;AACjC,eAAO,WAAU,KAAK,QAAQ,UAAU;AAAA;AAG1C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,0BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,aAAa,KAAK,OAAO,YAAY,KAAK,OAAO;AACrD,UAAI,+BACD,MAAK,aAAa,QAAQ,KAAK,aAAa,SAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,6BACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,UAAI,gCACF,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YACjC,OAAK,aAAa,QAAQ,KAAK,aAAa,QAC7C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAE/C,aAAO,2BAA2B,2BAC/B,cAAc,gCACf,8BAA8B;AAAA;AAGlC,YAAQ,QAAQ;AAChB,mBAAgB,OAAO,SAAS;AAC9B,UAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,kBAAU;AAAA,UACR,OAAO,CAAC,CAAC;AAAA,UACT,mBAAmB;AAAA;AAAA;AAIvB,UAAI,iBAAiB,OAAO;AAC1B,YAAI,MAAM,UAAU,CAAC,CAAC,QAAQ,SAC1B,MAAM,sBAAsB,CAAC,CAAC,QAAQ,mBAAmB;AAC3D,iBAAO;AAAA,eACF;AACL,iBAAO,IAAI,MAAM,MAAM,KAAK;AAAA;AAAA;AAIhC,UAAI,iBAAiB,YAAY;AAC/B,eAAO,IAAI,MAAM,MAAM,OAAO;AAAA;AAGhC,UAAI,CAAE,iBAAgB,QAAQ;AAC5B,eAAO,IAAI,MAAM,OAAO;AAAA;AAG1B,WAAK,UAAU;AACf,WAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,WAAK,oBAAoB,CAAC,CAAC,QAAQ;AAGnC,WAAK,MAAM;AACX,WAAK,MAAM,MAAM,MAAM,cAAc,IAAI,SAAU,QAAO;AACxD,eAAO,KAAK,WAAW,OAAM;AAAA,SAC5B,MAAM,OAAO,SAAU,GAAG;AAE3B,eAAO,EAAE;AAAA;AAGX,UAAI,CAAC,KAAK,IAAI,QAAQ;AACpB,cAAM,IAAI,UAAU,2BAA2B;AAAA;AAGjD,WAAK;AAAA;AAGP,UAAM,UAAU,SAAS,WAAY;AACnC,WAAK,QAAQ,KAAK,IAAI,IAAI,SAAU,OAAO;AACzC,eAAO,MAAM,KAAK,KAAK;AAAA,SACtB,KAAK,MAAM;AACd,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,WAAW,WAAY;AACrC,aAAO,KAAK;AAAA;AAGd,UAAM,UAAU,aAAa,SAAU,OAAO;AAC5C,UAAI,QAAQ,KAAK,QAAQ;AACzB,cAAQ,MAAM;AAEd,UAAI,KAAK,QAAQ,GAAG,oBAAoB,GAAG;AAC3C,cAAQ,MAAM,QAAQ,IAAI;AAC1B,YAAM,kBAAkB;AAExB,cAAQ,MAAM,QAAQ,GAAG,iBAAiB;AAC1C,YAAM,mBAAmB,OAAO,GAAG;AAGnC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,QAAQ,GAAG,YAAY;AAGrC,cAAQ,MAAM,MAAM,OAAO,KAAK;AAKhC,UAAI,SAAS,QAAQ,GAAG,mBAAmB,GAAG;AAC9C,UAAI,MAAM,MAAM,MAAM,KAAK,IAAI,SAAU,MAAM;AAC7C,eAAO,gBAAgB,MAAM,KAAK;AAAA,SACjC,MAAM,KAAK,KAAK,MAAM;AACzB,UAAI,KAAK,QAAQ,OAAO;AAEtB,cAAM,IAAI,OAAO,SAAU,MAAM;AAC/B,iBAAO,CAAC,CAAC,KAAK,MAAM;AAAA;AAAA;AAGxB,YAAM,IAAI,IAAI,SAAU,MAAM;AAC5B,eAAO,IAAI,WAAW,MAAM,KAAK;AAAA,SAChC;AAEH,aAAO;AAAA;AAGT,UAAM,UAAU,aAAa,SAAU,OAAO,SAAS;AACrD,UAAI,CAAE,kBAAiB,QAAQ;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,aAAO,KAAK,IAAI,KAAK,SAAU,iBAAiB;AAC9C,eAAO,gBAAgB,MAAM,SAAU,gBAAgB;AACrD,iBAAO,MAAM,IAAI,KAAK,SAAU,kBAAkB;AAChD,mBAAO,iBAAiB,MAAM,SAAU,iBAAiB;AACvD,qBAAO,eAAe,WAAW,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ5D,YAAQ,gBAAgB;AACxB,2BAAwB,OAAO,SAAS;AACtC,aAAO,IAAI,MAAM,OAAO,SAAS,IAAI,IAAI,SAAU,MAAM;AACvD,eAAO,KAAK,IAAI,SAAU,GAAG;AAC3B,iBAAO,EAAE;AAAA,WACR,KAAK,KAAK,OAAO,MAAM;AAAA;AAAA;AAO9B,6BAA0B,MAAM,SAAS;AACvC,YAAM,QAAQ,MAAM;AACpB,aAAO,cAAc,MAAM;AAC3B,YAAM,SAAS;AACf,aAAO,cAAc,MAAM;AAC3B,YAAM,UAAU;AAChB,aAAO,eAAe,MAAM;AAC5B,YAAM,UAAU;AAChB,aAAO,aAAa,MAAM;AAC1B,YAAM,SAAS;AACf,aAAO;AAAA;AAGT,iBAAc,IAAI;AAChB,aAAO,CAAC,MAAM,GAAG,kBAAkB,OAAO,OAAO;AAAA;AASnD,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AAEjB,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,mBAChD,IAAI;AACb,gBAAM,mBAAmB;AACzB,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,eAC7B;AAEL,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAGpC,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAUX,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK,OAAO,MAAM,OAAO,IAAI,SAAU,OAAM;AAClD,eAAO,aAAa,OAAM;AAAA,SACzB,KAAK;AAAA;AAGV,0BAAuB,MAAM,SAAS;AACpC,YAAM,SAAS,MAAM;AACrB,UAAI,KAAI,QAAQ,QAAQ,GAAG,cAAc,GAAG;AAC5C,aAAO,KAAK,QAAQ,IAAG,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/C,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI,IAAI;AACjB,cAAI,MAAM,KAAK;AACb,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA,iBACpD;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,SAAU,EAAC,IAAI,KAAK;AAAA;AAAA,mBAExC,IAAI;AACb,gBAAM,mBAAmB;AACzB,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,KACrC,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA,eAErB;AACL,gBAAM;AACN,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAM,IAAI,MAAO,EAAC,IAAI;AAAA,mBAClC;AACL,oBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAO,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAAA,iBAE/B;AACL,kBAAM,OAAO,IAAI,MAAM,IAAI,MAAM,IAC3B,OAAQ,EAAC,IAAI,KAAK;AAAA;AAAA;AAI5B,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAIX,4BAAyB,MAAM,SAAS;AACtC,YAAM,kBAAkB,MAAM;AAC9B,aAAO,KAAK,MAAM,OAAO,IAAI,SAAU,OAAM;AAC3C,eAAO,cAAc,OAAM;AAAA,SAC1B,KAAK;AAAA;AAGV,2BAAwB,MAAM,SAAS;AACrC,aAAO,KAAK;AACZ,UAAI,KAAI,QAAQ,QAAQ,GAAG,eAAe,GAAG;AAC7C,aAAO,KAAK,QAAQ,IAAG,SAAU,KAAK,MAAM,GAAG,GAAG,GAAG,IAAI;AACvD,cAAM,UAAU,MAAM,KAAK,MAAM,GAAG,GAAG,GAAG;AAC1C,YAAI,KAAK,IAAI;AACb,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,KAAK,MAAM,IAAI;AACnB,YAAI,OAAO;AAEX,YAAI,SAAS,OAAO,MAAM;AACxB,iBAAO;AAAA;AAGT,YAAI,IAAI;AACN,cAAI,SAAS,OAAO,SAAS,KAAK;AAEhC,kBAAM;AAAA,iBACD;AAEL,kBAAM;AAAA;AAAA,mBAEC,QAAQ,MAAM;AAGvB,cAAI,IAAI;AACN,gBAAI;AAAA;AAEN,cAAI;AAEJ,cAAI,SAAS,KAAK;AAIhB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AACT,kBAAI;AACJ,kBAAI;AAAA,mBACC;AACL,kBAAI,CAAC,IAAI;AACT,kBAAI;AAAA;AAAA,qBAEG,SAAS,MAAM;AAGxB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AAAA,mBACJ;AACL,kBAAI,CAAC,IAAI;AAAA;AAAA;AAIb,gBAAM,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,mBACxB,IAAI;AACb,gBAAM,OAAO,IAAI,WAAY,EAAC,IAAI,KAAK;AAAA,mBAC9B,IAAI;AACb,gBAAM,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,MAAO,EAAC,IAAI,KAAK;AAAA;AAG3D,cAAM,iBAAiB;AAEvB,eAAO;AAAA;AAAA;AAMX,0BAAuB,MAAM,SAAS;AACpC,YAAM,gBAAgB,MAAM;AAE5B,aAAO,KAAK,OAAO,QAAQ,GAAG,OAAO;AAAA;AAQvC,2BAAwB,IACtB,MAAM,IAAI,IAAI,IAAI,KAAK,IACvB,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI;AACzB,UAAI,IAAI,KAAK;AACX,eAAO;AAAA,iBACE,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK;AAAA,iBACV,IAAI,KAAK;AAClB,eAAO,OAAO,KAAK,MAAM,KAAK;AAAA,aACzB;AACL,eAAO,OAAO;AAAA;AAGhB,UAAI,IAAI,KAAK;AACX,aAAK;AAAA,iBACI,IAAI,KAAK;AAClB,aAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACd,IAAI,KAAK;AAClB,aAAK,MAAM,KAAK,MAAO,EAAC,KAAK,KAAK;AAAA,iBACzB,KAAK;AACd,aAAK,OAAO,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,aACxC;AACL,aAAK,OAAO;AAAA;AAGd,aAAQ,QAAO,MAAM,IAAI;AAAA;AAI3B,UAAM,UAAU,OAAO,SAAU,SAAS;AACxC,UAAI,CAAC,SAAS;AACZ,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,IAAI,OAAO,SAAS,KAAK;AAAA;AAGrC,eAAS,KAAI,GAAG,KAAI,KAAK,IAAI,QAAQ,MAAK;AACxC,YAAI,QAAQ,KAAK,IAAI,KAAI,SAAS,KAAK,UAAU;AAC/C,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,qBAAkB,KAAK,SAAS,SAAS;AACvC,eAAS,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AACnC,YAAI,CAAC,IAAI,IAAG,KAAK,UAAU;AACzB,iBAAO;AAAA;AAAA;AAIX,UAAI,QAAQ,WAAW,UAAU,CAAC,QAAQ,mBAAmB;AAM3D,aAAK,KAAI,GAAG,KAAI,IAAI,QAAQ,MAAK;AAC/B,gBAAM,IAAI,IAAG;AACb,cAAI,IAAI,IAAG,WAAW,KAAK;AACzB;AAAA;AAGF,cAAI,IAAI,IAAG,OAAO,WAAW,SAAS,GAAG;AACvC,gBAAI,UAAU,IAAI,IAAG;AACrB,gBAAI,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,OAAO;AACnC,qBAAO;AAAA;AAAA;AAAA;AAMb,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,YAAY;AACpB,wBAAoB,SAAS,OAAO,SAAS;AAC3C,UAAI;AACF,gBAAQ,IAAI,MAAM,OAAO;AAAA,eAClB,IAAP;AACA,eAAO;AAAA;AAET,aAAO,MAAM,KAAK;AAAA;AAGpB,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,IAAI;AAEnC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,gBAAgB;AACxB,2BAAwB,UAAU,OAAO,SAAS;AAChD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI;AACF,YAAI,WAAW,IAAI,MAAM,OAAO;AAAA,eACzB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,SAAU,GAAG;AAC5B,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,GAAG;AAElC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,OAAO;AACjC,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS,IAAI,OAAO;AACpB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS;AACT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,oBAAY,QAAQ,SAAU,YAAY;AAExC,cAAI,UAAU,IAAI,OAAO,WAAW,OAAO;AAC3C,kBAAQ,WAAW;AAAA,iBACZ;AACH,kBAAI,QAAQ,WAAW,WAAW,GAAG;AACnC,wBAAQ;AAAA,qBACH;AACL,wBAAQ,WAAW,KAAK;AAAA;AAE1B,sBAAQ,MAAM,QAAQ;AAAA,iBAEnB;AAAA,iBACA;AACH,kBAAI,CAAC,UAAU,GAAG,QAAQ,UAAU;AAClC,yBAAS;AAAA;AAEX;AAAA,iBACG;AAAA,iBACA;AAEH;AAAA;AAGA,oBAAM,IAAI,MAAM,2BAA2B,WAAW;AAAA;AAAA;AAAA;AAK9D,UAAI,UAAU,MAAM,KAAK,SAAS;AAChC,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,OAAO,SAAS;AACnC,UAAI;AAGF,eAAO,IAAI,MAAM,OAAO,SAAS,SAAS;AAAA,eACnC,IAAP;AACA,eAAO;AAAA;AAAA;AAKX,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAItC,YAAQ,MAAM;AACd,iBAAc,SAAS,OAAO,SAAS;AACrC,aAAO,QAAQ,SAAS,OAAO,KAAK;AAAA;AAGtC,YAAQ,UAAU;AAClB,qBAAkB,SAAS,OAAO,MAAM,SAAS;AAC/C,gBAAU,IAAI,OAAO,SAAS;AAC9B,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,MAAM,OAAO,MAAM,MAAM;AAC7B,cAAQ;AAAA,aACD;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA,aACG;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA;AAEA,gBAAM,IAAI,UAAU;AAAA;AAIxB,UAAI,WAAU,SAAS,OAAO,UAAU;AACtC,eAAO;AAAA;AAMT,eAAS,KAAI,GAAG,KAAI,MAAM,IAAI,QAAQ,EAAE,IAAG;AACzC,YAAI,cAAc,MAAM,IAAI;AAE5B,YAAI,OAAO;AACX,YAAI,MAAM;AAEV,oBAAY,QAAQ,SAAU,YAAY;AACxC,cAAI,WAAW,WAAW,KAAK;AAC7B,yBAAa,IAAI,WAAW;AAAA;AAE9B,iBAAO,QAAQ;AACf,gBAAM,OAAO;AACb,cAAI,KAAK,WAAW,QAAQ,KAAK,QAAQ,UAAU;AACjD,mBAAO;AAAA,qBACE,KAAK,WAAW,QAAQ,IAAI,QAAQ,UAAU;AACvD,kBAAM;AAAA;AAAA;AAMV,YAAI,KAAK,aAAa,QAAQ,KAAK,aAAa,OAAO;AACrD,iBAAO;AAAA;AAKT,YAAK,EAAC,IAAI,YAAY,IAAI,aAAa,SACnC,MAAM,SAAS,IAAI,SAAS;AAC9B,iBAAO;AAAA,mBACE,IAAI,aAAa,SAAS,KAAK,SAAS,IAAI,SAAS;AAC9D,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,YAAQ,aAAa;AACrB,wBAAqB,SAAS,SAAS;AACrC,UAAI,SAAS,MAAM,SAAS;AAC5B,aAAQ,UAAU,OAAO,WAAW,SAAU,OAAO,aAAa;AAAA;AAGpE,YAAQ,aAAa;AACrB,wBAAqB,IAAI,IAAI,SAAS;AACpC,WAAK,IAAI,MAAM,IAAI;AACnB,WAAK,IAAI,MAAM,IAAI;AACnB,aAAO,GAAG,WAAW;AAAA;AAGvB,YAAQ,SAAS;AACjB,oBAAiB,SAAS;AACxB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,QAAQ,MAAM,GAAG;AAE7B,UAAI,SAAS,MAAM;AACjB,eAAO;AAAA;AAGT,aAAO,MAAM,MAAM,KACjB,MAAO,OAAM,MAAM,OACnB,MAAO,OAAM,MAAM;AAAA;AAAA;AAAA;;;ACz8CvB;AAAA;AAAA,QAAI,OAAO,kBAAmB;AAO9B,QAAI,gBAAgB,KAAK;AACzB,QAAI,gBAAgB,KAAK;AACzB,QAAI,eAAe,KAAK;AACxB,QAAI,eAAe,KAAK;AAOxB,QAAI,YAAY;AAMhB,QAAI,MAAM;AAOV,QAAI,cAAc;AAOlB,QAAI,gBAAgB;AAUpB,QAAI;AAMJ,QAAI;AAMJ,mBAAe,MAAM,OAAO;AAC1B,UAAI,aAAa,KAAK;AACtB,UAAI,cAAc,MAAM;AACxB,UAAI,WAAW;AAEf,UAAI,eAAe,KAAK,gBAAgB;AAAG,eAAO;AAElD,eAAS,IAAK,GAAG,IAAI,YAAY;AAAK,iBAAS,KAAK,KAAK;AAEzD,UAAI,gBAAgB;AAAG,eAAO;AAE9B,eAAS,IAAI,GAAG,IAAI,aAAa,KAAK;AACpC,YAAI,UAAU;AACd,aAAK,IAAI,GAAG,IAAI,YAAY,KAAK;AAC/B,cAAI,KAAK,GAAG,QAAQ,MAAM,GAAG,KAAK;AAChC,sBAAU;AACV;AAAA;AAAA;AAGJ,YAAI;AAAS,mBAAS,KAAK,MAAM;AAAA;AAGnC,aAAO;AAAA;AAST,QAAI,QAAQ,iBAAiB;AAOvB,oBAAc;AAUlB,qBAAe,uBAAsB,IAAI;AACvC,YAAI,SAAS,UAAU;AACvB,YAAI,eAAe,WAAW;AAAG,iBAAO;AAExC,YAAI,UAAU;AAKd,sBAAc;AACd,iBAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,cAAI,WAAW,UAAU;AACzB,cAAK,UAAS,QAAQ,kBAAkB;AAAG;AAE3C,cAAI,QAAQ,eAAe,YAAY,SAAS;AAChD,oBAAU,SAAS,MAAM,OAAO,OAAO;AAAA;AAEzC,sBAAc;AAMd,YAAI,cAAc,SAAS;AAAG,sBAAY,cAAc;AACxD,sBAAc;AAEd,eAAO,WAAW,CAAC;AAAA;AAGrB,kBAAY,oBAAmB,UAAU,MAAM,QAAQ;AACrD,YAAI,SAAS;AAKb,sBAAc;AACd,iBAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,cAAI,WAAW,KAAK;AACpB,iBAAO,SAAS,OAAO,SAAS;AAEhC,cAAK,UAAS,QAAQ,mBAAmB;AAAG;AAE5C,cAAI,QAAQ,SAAS,OAAO,SAAS;AACrC,cAAI,UAAU;AAAW,mBAAO,SAAS,OAAO;AAAA;AAElD,sBAAc;AASd,eAAO,WAAY;AAEjB,wBAAc;AAKd,wBAAc,KAAK;AAKnB,sBAAY,MAAM,MAAM;AAKxB,wBAAc;AACd,mBAAS,KAAI,GAAG,KAAI,QAAQ,EAAE,IAAG;AAC/B,gBAAK,MAAK,IAAG,QAAQ,iBAAiB,GAAG;AACvC,mBAAK,IAAG,OAAO,MAAM,OAAO,KAAK,IAAG;AAAA;AAAA;AAGxC,wBAAc;AAGd,cAAI,WAAW,SAAS,MAAM,MAAM;AAKpC,wBAAc;AACd,eAAK,KAAI,GAAG,KAAI,QAAQ,EAAE,IAAG;AAC3B,gBAAK,MAAK,IAAG,QAAQ,gBAAgB,GAAG;AACtC,mBAAK,IAAG,MAAM,MAAM,OAAO,KAAK,IAAG;AAAA;AAAA;AAGvC,wBAAc;AAGd,sBAAY,cAAc;AAC1B,wBAAc;AAEd,iBAAO;AAAA;AAAA;AAIX,WAAK,SAAS,mBAAmB,SAAU,iBAAiB;AAC1D,eAAO,8BAA8B,IAAI;AACvC,iBAAO,aAAa,OAAO,gBAAgB;AAAA;AAAA;AAAA,WAK5C;AAOC,mBAAa;AAOjB,qBAAe,yBAAyB,IAAI;AAE1C,YAAI;AAAY,gBAAM;AAEtB,YAAI,UAAU;AAKd,YAAI,SAAS,UAAU;AACvB,iBAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,cAAI,WAAW,UAAU;AACzB,cAAK,UAAS,QAAQ,kBAAkB;AAAG;AAC3C,oBAAU,SAAS,MAAM,MAAM,OAAO;AAAA;AAMxC,YAAI,CAAC,WAAW;AAAa,gBAAM;AAAA;AAGrC,kBAAY,oBAAmB,UAAU,MAAM,QAAQ;AACrD,YAAI,SAAS;AAKb,sBAAc;AACd,iBAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,cAAI,WAAW,KAAK;AACpB,iBAAO,SAAS,OAAO,SAAS;AAEhC,cAAK,UAAS,QAAQ,mBAAmB;AAAG;AAE5C,cAAI,QAAQ,SAAS,OAAO,SAAS;AACrC,cAAI,UAAU;AAAW,mBAAO,SAAS,OAAO;AAAA;AAElD,sBAAc;AASd,eAAO,WAAY;AAIjB,cAAI,QAAQ;AAGZ,cAAI,UAAU;AAKd,wBAAc,KAAK;AAKnB,sBAAY,MAAM,MAAM;AAKxB,wBAAc;AACd,mBAAS,KAAI,GAAG,KAAI,QAAQ,EAAE,IAAG;AAC/B,gBAAK,MAAK,IAAG,QAAQ,iBAAiB,GAAG;AACvC,mBAAK,IAAG,OAAO,MAAM,OAAO,KAAK,IAAG;AAAA;AAAA;AAGxC,wBAAc;AAGd,cAAI;AACJ,cAAI;AACF,uBAAW,SAAS,MAAM,MAAM;AAAA,mBAE3B,IAAP;AACE,oBAAQ;AACR,qBAAS,KAAI,GAAG,KAAI,QAAQ,EAAE,IAAG;AAC/B,kBAAK,WAAU,IAAG,QAAQ,iBAAiB;AAAG;AAC9C,kBAAI;AACF,0BAAU,UAAU,IAAG,MAAM,OAAO,KAAK,IAAG,MAAM,OAAO;AAAA,uBAEpD,GAAP;AACE,6BAAa;AACb,sBAAM;AAAA;AAAA;AAIV,gBAAI,CAAC,SAAS;AAEZ,sBAAQ,eAAe,qBAAqB;AAC5C,sBAAQ,kBAAkB,WAAY;AACpC,wBAAQ,YAAY,qBAAqB;AAAA;AAG3C,oBAAM;AAAA;AAAA,oBAGV;AAIE,gBAAI,CAAC,SAAS,SAAS;AACrB,4BAAc;AACd,mBAAK,KAAI,GAAG,KAAI,QAAQ,EAAE,IAAG;AAC3B,oBAAK,MAAK,IAAG,QAAQ,gBAAgB,GAAG;AACtC,uBAAK,IAAG,MAAM,MAAM,OAAO,KAAK,IAAG;AAAA;AAAA;AAGvC,4BAAc;AAAA;AAIhB,wBAAY,cAAc;AAAA;AAI5B,iBAAO;AAAA;AAAA;AAKX,cAAQ,YAAY,qBAAqB;AAAA;AArQrC;AAQA;AAqHA;AA4IN,wBAAoB,UAAU,MAAM,QAAQ;AAC1C,oBAAc;AACd,eAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,YAAI,WAAW,KAAK;AACpB,YAAI,SAAS;AAAQ,mBAAS,OAAO,SAAS;AAAA;AAEhD,oBAAc;AAId,aAAO,WAAY;AACjB,sBAAc,KAAK;AACnB,oBAAY,MAAM,MAAM;AAExB,YAAI,WAAW,SAAS,MAAM,MAAM;AAEpC,oBAAY,cAAc;AAE1B,eAAO;AAAA;AAAA;AAUX,0BAAsB,UAAU;AAC9B,UAAI,SAAS,UAAU;AAGvB,UAAI,WAAW;AAAG,eAAO;AAGzB,UAAI,OAAO,UAAU;AAErB,eAAS,IAAI,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC/B,YAAI,KAAK,GAAG,QAAQ;AAAG,iBAAO,UAAU,UAAU,MAAM;AAAA;AAG1D,aAAO,WAAW,UAAU,MAAM;AAAA;AAGpC,2BAAuB,WAAW,MAAM;AACtC,UAAI,OAAO,UAAU,WAAW,YAAY;AAC1C,aAAK,SAAS,UAAU;AACxB,aAAK,SAAS;AAAA;AAGhB,UAAI,OAAO,UAAU,WAAW,YAAY;AAC1C,aAAK,SAAS,UAAU;AACxB,aAAK,SAAS;AAAA;AAGhB,UAAI,OAAO,UAAU,UAAU,YAAY;AACzC,aAAK,QAAQ,UAAU;AACvB,aAAK,SAAS;AAAA;AAGhB,UAAI,OAAO,UAAU,UAAU,YAAY;AACzC,aAAK,QAAQ,UAAU;AACvB,aAAK,SAAS;AAAA;AAGhB,WAAK,MAAM,EAAE;AACb,WAAK,OAAO,SAAS,SAAY,OAAO;AAAA;AAE1C,kBAAc,UAAU,SAAS;AACjC,kBAAc,UAAU,SAAS;AACjC,kBAAc,UAAU,QAAS;AACjC,kBAAc,UAAU,QAAS;AACjC,kBAAc,UAAU,OAAS;AACjC,kBAAc,UAAU,MAAS;AACjC,kBAAc,UAAU,QAAS;AAEjC,iCAA6B,WAAW,MAAM;AAC5C,UAAI,OAAO,cAAc,YAAY,CAAC,WAAW;AAC/C,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,qBAAqB,eAAe;AACtC,eAAO;AAAA,aAEJ;AACH,eAAO,IAAI,cAAc,WAAW;AAAA;AAAA;AAIxC,8BAA0B,WAAW,MAAM;AACzC,UAAI;AACJ,UAAI,CAAE,sBAAqB,gBAAgB;AACzC,mBAAW,oBAAoB,WAAW;AAAA,aAEvC;AACH,mBAAW;AAAA;AAIb,UAAI,aAAa;AACjB,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,YAAI,aAAa,UAAU,IAAI;AAC7B,uBAAa;AACb;AAAA;AAAA;AAIJ,UAAI,CAAC;AAAY,kBAAU,KAAK;AAEhC,aAAO;AAAA;AAGT,iCAA6B,UAAU;AACrC,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,YAAI,aAAa,UAAU,IAAI;AAC7B,oBAAU,OAAO,GAAG;AACpB;AAAA;AAAA;AAAA;AAKN,YAAQ,sBAAsB;AAC9B,YAAQ,mBAAsB;AAC9B,YAAQ,sBAAsB;AAE9B,YAAO,UAAU;AAAA;AAAA;;;ACvejB;AAAA;AAAA;AAEA,YAAO,UAAU,CAAC,UAAS,qBAAqB;AAG9C,aAAO,6BAA6B,SAAQ;AAAA,QAC1C,YAAY,UAAU;AACpB,cAAI,SAAS;AACb,gBAAM;AACN,cAAI,UAAU;AAEd,cAAI;AACF,qBAAS,MAAM,SAAS;AAAA,mBACjB,KAAP;AACA,iBAAK,GAAG;AAAA;AAGV,iBAAO;AACP,mCAAyB,SAAS,QAAQ;AACxC,sBAAU;AACV,mBAAO,CAAC,gBAAgB;AAIxB,oCAAwB,KAAK;AAC3B,+BAAiB,SAAS;AAC1B,qBAAO,QAAQ;AAAA;AAGjB,mCAAuB,KAAK;AAC1B,+BAAiB,SAAS;AAC1B,qBAAO,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC/BxB;AAAA;AAAA;AAEA,QAAI,QAAQ;AAAkB,YAAM,IAAI,MAAM;AAE9C,QAAI,UAAe;AAAnB,QACI,SAAe;AADnB,QAEI,OAAe,QAAQ;AAF3B,QAGI,WAAe,QAAQ;AAH3B,QAII,eAAe;AAJnB,QAKI,OAAe,QAAQ;AAG3B,QAAI,SAAS,OAAO,IAAI,QAAQ,SAAS;AACzC,QAAI,SAAS,OAAO,IAAI,QAAQ,SAAS;AACzC,QAAI,SAAS,OAAO,IAAI,QAAQ,SAAS;AACzC,QAAI,UAAU,OAAO,IAAI,QAAQ,SAAS;AAE1C,QAAI,MAAM,QAAQ;AAGlB,QAAI,UAAU,CAAC,IAAI,gBAAgB;AAEjC,UAAI,iBAAiB,SAAU,MAAM;AACnC,YAAI,KAAK,WAAW,GAAG;AACrB,iBAAO,CAAC,IAAI;AAAA;AAGd,YAAI,OAAO,KAAK;AAChB,YAAI,UAAU;AACd,YAAI,OAAO,SAAS,YAAY,SAAS,MAAM;AAE7C,oBAAU;AAAA,mBACD,WAAW,OAAO;AAE3B,kBAAQ,OAAO;AAAA,eACV;AAEL,kBAAQ,OAAO;AACf,cAAI,KAAK,SAAS,KAAK,OAAO,KAAK,OAAO,UAAU;AAClD,oBAAQ,OAAO,KAAK;AAAA;AAAA;AAIxB,YAAI,KAAK,KAAK,KAAK,SAAS;AAC5B,YAAI,OAAO,OAAO;AAChB,iBAAO,CAAC,SAAS;AAAA;AAEjB,iBAAO,CAAC,SAAS;AAAA;AAAA,eAEZ,CAAC,UAAU,CAAC,IAAI,uBAAuB;AAEhD,UAAI,wBAAwB,SAAU,MAAM;AAC1C,YAAI,UAAU;AAEd,2BAAkB,GAAG;AAAE,iBAAQ,KAAI,OAAO,OAAO,IAAI,IAAI;AAAA;AAEzD,YAAI,OAAO,KAAK,OAAO,YAAY,KAAK,OAAO,MAAM;AAEnD,oBAAU,KAAK;AAAA,mBAER,OAAO,KAAK,OAAO,YAAY,UAAS,KAAK,QAAQ,OAAO;AAEnE,kBAAQ,OAAO,KAAK;AAAA,eAEjB;AAEH,kBAAQ,OAAO,KAAK;AACpB,cAAI,OAAO,KAAK,OAAO,UAAU;AAC/B,oBAAQ,OAAO,KAAK;AAAA;AAAA;AAIxB,YAAI,KAAK,KAAK,KAAK,SAAS;AAC5B,eAAO,OAAO,OAAO,aAAa,CAAC,SAAS,MAAM,CAAC;AAAA;AAAA;AAQvD,QAAI,wBAAwB,IAAI,OAAO,WAAW;AAChD,WAAK,IAAI,OAAO,WAAW,sBAAsB;AAAA,WAC5C;AACL,WAAK,IAAI,OAAO,WAAW,YAAY;AAAA;AAGzC,mCAA+B,UAAU;AACvC,aAAO,WAAY;AACjB,aAAK,GAAG,cAAc,SAAU,QAAQ;AACtC,cAAI,OAAO,SAAS;AAClB,mBAAO,QAAQ,SAAS,aAAa,OAAO,QAAQ;AAAA;AAAA;AAIxD,YAAI;AACF,iBAAO,SAAS,MAAM,MAAM;AAAA,kBAE9B;AAEE,cAAI,KAAK,WAAW,KAAK,QAAQ,cAAc;AAC7C,iBAAK,QAAQ,eAAe,aAAa,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAM9D,yBAAqB,KAAK;AACxB,UAAI,OAAO,IAAI,SAAS;AACtB,YAAI,SAAS,IAAI;AACjB,YAAI,CAAC,OAAO,iBAAiB;AAC3B,iBAAO,kBAAkB,OAAO;AAAA;AAElC,eAAO,SAAS,aAAa,OAAO;AAAA;AAAA;AAIxC,SAAK,IAAI,OAAO,WAAW,WAAW,SAAU,UAAU;AACxD,aAAO,WAAY;AACjB,YAAI;AAMJ,YAAI,UACA,MAAM,QAAQ,UAAU,OACxB,OAAO,sBAAsB,UAAU,IAAI,SAAS,GAAG;AAEzD,iBAAO,UAAU;AAAA,eACZ;AAEL,iBAAO,SACH,IAAI,eAAe,aACnB,IAAI,sBAAsB;AAAA;AAEhC,YAAI,KAAK;AAAI,eAAK,KAAK,aAAa,KAAK;AACzC,YAAI,SAAS,SAAS,MAAM,MAAM;AAClC,oBAAY;AACZ,eAAO;AAAA;AAAA;AAIX,QAAI,OAAO,QAAQ;AAMnB,SAAK,KAAK,MAAM,WAAW,cAAc,SAAU,UAAU;AAC3D,aAAO,SAAU,KAAK;AACpB,YAAI,WAAW,IAAI;AACnB,YAAI,WAAW,aAAa,SAAU,QAAQ;AAC5C,sBAAY;AACZ,iBAAO,SAAS,MAAM,MAAM;AAAA;AAE9B,eAAO,SAAS,MAAM,MAAM;AAAA;AAAA;AAIhC,QAAI,eAAe,QAAQ;AAE3B,8BAA0B,OAAO;AAC/B,UAAI,MAAM,QAAQ,MAAM,QAAQ;AAC9B,cAAM,MAAM,QAAQ,SAAU,QAAQ;AACpC,cAAI,UAAU,OAAO,SAAS;AAC5B,mBAAO,QAAQ,SAAS,aAAa,OAAO,QAAQ;AACpD,iBAAK,OAAO,SAAS,SAAS;AAAA;AAAA;AAAA;AAKpC,UAAI,MAAM,SAAS;AACjB,cAAM,QAAQ,SAAS,aAAa,MAAM,QAAQ;AAAA;AAAA;AAKtD,QAAI,aAAa,cAAc;AAC7B,WAAK,aAAa,aAAa,WAAW,SAAS,SAAU,UAAU;AACrE,eAAO,WAAY;AACjB,cAAI,SAAS,SAAS,MAAM,MAAM;AAClC,2BAAiB;AACjB,iBAAO;AAAA;AAAA;AAAA,WAGN;AACL,eAAS,cAAc;AAAA,QACrB;AAAA,QACA;AAAA,QACA;AAAA,SACC,SAAU,UAAU;AACrB,eAAO,WAAY;AACjB,cAAI,SAAS,SAAS,MAAM,MAAM;AAClC,2BAAiB;AACjB,iBAAO;AAAA;AAAA;AAAA;AAMb,QAAI,CAAC,QAAQ,iBAAiB;AAC5B,cAAQ,oBAAoB,QAAQ;AAAA;AAGtC,QAAI,aAAa;AACjB,QAAI,QAAQ;AAAiB,iBAAW,KAAK;AAC7C,QAAI,QAAQ;AAAqB,iBAAW,KAAK;AAEjD,aACE,SACA,YACA;AAEF,SAAK,SAAS,YAAY;AAE1B,QAAI,iBAAiB;AAAA,MACnB;AAAA,MACA;AAAA;AAEF,QAAI,OAAO;AAAc,qBAAe,KAAK;AAE7C,QAAI,SAAS,QAAQ;AACrB,QAAI,oBAAoB,OAAO,eAAe,OAAO;AAErD,aACE,QACA,gBACA;AAGF,QAAI,mBAAmB;AACrB,eACE,QACA,gBACA;AAAA;AAIJ,QAAI,MAAM,QAAQ;AAClB,aACE,KACA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,OAEF;AAGF,QAAI,IAAI;AAAc,WAAK,KAAK,gBAAgB;AAEhD,QAAI,MAAK,QAAQ;AACjB,aACE,KACA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,OAEF;AAIF,QAAI,IAAG;AAAQ,WAAK,KAAI,UAAU;AAClC,QAAI,IAAG;AAAQ,WAAK,KAAI,UAAU;AAGlC,QAAI,IAAG;AAAW,WAAK,KAAI,aAAa;AAGxC,QAAI;AACJ,QAAI;AAAE,aAAO,QAAQ;AAAA,aAAkB,KAAP;AAAA;AAChC,QAAI,QAAQ,KAAK,WAAW,KAAK,QAAQ,WAAW;AAC9C,cAAQ,OAAO,eAAe,KAAK,QAAQ;AAC/C,UAAI,MAAM,YAAY;AAEpB,aAAK,OAAO,cAAc;AAAA,iBAEnB,MAAM,SAAS,MAAM,SAAS,MAAM,KAAK;AAEhD,iBACE,OACA;AAAA,UACE;AAAA,UACA;AAAA,UACA;AAAA,WAEF;AAAA;AAAA;AAdA;AAoBN,QAAI;AACJ,QAAI;AAAE,eAAS,QAAQ;AAAA,aAAoB,KAAP;AAAA;AACpC,QAAI,QAAQ;AAEN,eAAS;AAAA,QACT;AAAA,QACA;AAAA;AAEJ,UAAI,CAAC,SAAS;AACZ,eAAO,KAAK;AAAA;AAGd,eAAS,QAAQ,QAAQ;AAAA;AARrB;AAaN,QAAI,oBAAoB,CAAC,CAAC,OAAO,WAC7B,QAAQ,eAAe,0CACvB,QAAQ,SAAS,eAAe;AAGpC,QAAI,mBAAmB;AAEjB,wBAAkB,QAAQ,iBAAiB;AAAA,QAC7C,QAAQ,kBAAkB;AACxB,8BAAoB;AAAA;AAAA;AAKxB,aAAO,QAAQ,QAAQ,MAAM,KAAK,mBAAmB;AACnD,4BAAoB;AAAA;AAGtB,cAAQ,oBAAoB;AAAA;AAXxB;AAgEN,QAAI,mBAAmB;AACrB;AAAA;AAGF,2BAAuB;AACrB,UAAI,WAAU,OAAO;AAIrB,8BAAwB,UAAU;AAChC,YAAI,CAAE,iBAAgB,iBAAiB;AACrC,iBAAO,SAAQ;AAAA;AAGjB,YAAI,OAAO,aAAa,YAAY;AAClC,iBAAO,IAAI,SAAQ;AAAA;AAGrB,YAAI,SAAS;AACb,YAAI,UAAU,IAAI,SAAQ;AAC1B,gBAAQ,YAAY,eAAe;AAEnC,YAAI;AACF,mBAAS,MAAM,SAAS;AAAA,iBACjB,KAAP;AACA,eAAK,GAAG;AAAA;AAGV,eAAO;AAEP,iCAAyB,SAAS,QAAQ;AACxC,oBAAU;AACV,iBAAO,CAAC,gBAAgB;AAIxB,kCAAwB,KAAK;AAC3B,6BAAiB,SAAS;AAC1B,mBAAO,QAAQ;AAAA;AAGjB,iCAAuB,KAAK;AAC1B,6BAAiB,SAAS;AAC1B,mBAAO,OAAO;AAAA;AAAA;AAAA;AAKpB,WAAK,SAAS,gBAAgB;AAE9B,WAAK,SAAQ,WAAW,QAAQ;AAEhC,UAAI,SAAQ,UAAU,OAAO;AAC3B,aAAK,SAAQ,WAAW,SAAS;AAAA;AAGnC,UAAI,QAAQ;AACV,eAAO,UAAU,8BAAoC,UAAS;AAAA,aACzD;AACL,YAAI,mBAAmB;AAAA,UACrB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAGF,yBAAiB,QAAQ,SAAS,KAAK;AAErC,cAAI,OAAO,SAAQ,SAAS,YAAY;AACtC,2BAAe,OAAO,SAAQ;AAAA;AAAA;AAGlC,eAAO,UAAU;AAAA;AAGnB,gCAA0B,SAAS,WAAW;AAC5C,YAAI,CAAC,QAAQ,iBAAiB,WAAW;AACvC,kBAAQ,gBAAgB,aAAa;AAAA;AAAA;AAIzC,mCAA6B,KAAK,IAAI,QAAQ,MAAM;AAClD,YAAI;AACJ,YAAI;AACF,uBAAa,GAAG,KAAK,KAAK;AAC1B,iBAAO,EAAC,WAAW,YAAY,OAAO;AAAA,iBAC/B,KAAP;AACA,iBAAO,EAAC,UAAU,KAAK,OAAO;AAAA,kBAC9B;AAEA,cAAI,sBAAsB,UAAS;AACjC,iBAAK,gBAAgB,wBAAwB;AAC3C,kBAAI,aAAa,WAAW,iBAAiB;AAC7C,qBAAO,WAAW,MAAM,MAAM;AAAA;AAAA,iBAE3B;AACL,6BAAiB,MAAM;AAAA;AAAA;AAAA;AAK7B,wBAAkB,UAAU;AAC1B,eAAO,uBAAuB;AAC5B,cAAI,UAAU;AACd,cAAI,OAAO,SAAS,MAAM,SAAS,MAAM,UAAU,IAAI,KAAK,WAAW;AAEvE,eAAK,gBAAgB,sBAAsB,KAAK,IAAI,KAAK,MAAM;AAC7D,gBAAI,QAAQ,eAAe;AACzB,sBAAQ,cAAc,KAAK,WAAY;AAAA,iBAAI,MAAM;AACjD,qBAAO,KAAK,cAAc,KAAK,IAAI,KAAK;AAAA;AAE1C,mBAAO,oBAAoB,KAAK,IAAI,KAAK;AAAA;AAG3C,iBAAO;AAIP,wBAAc,IAAI;AAChB,gBAAI,OAAO,OAAO;AAAY,qBAAO;AACrC,mBAAO,aAAa,SAAU,KAAK;AACjC,kBAAI,SAAU,SAAQ,iBAAiB,qBAAqB,MAAM,IAAI,KAAK;AAC3E,kBAAI,OAAO,OAAO;AAChB,sBAAM,OAAO;AAAA,qBACR;AACL,uBAAO,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS1B,uBAAmB,IAAI;AACrB,UAAI,WAAW,WAAY;AACzB,YAAI;AACJ,YAAI,QAAQ,UAAU,SAAS;AAC/B,YAAI,OAAO,UAAU,WAAW,YAAY;AAC1C,iBAAO,MAAM,UAAU;AACvB,mBAAS,IAAI,GAAG,IAAI,UAAU,SAAS,GAAG,KAAK;AAC7C,iBAAK,KAAK,UAAU;AAAA;AAEtB,eAAK,SAAS,aAAa,UAAU;AAAA;AAEvC,eAAO,GAAG,MAAM,MAAM,QAAQ;AAAA;AAGhC,cAAQ,GAAG;AAAA,aACJ;AACH,iBAAO,SAAU,IAAI;AACnB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM;AAAA;AAAA,aAEpB;AACH,iBAAO,SAAU,GAAG,IAAI;AACtB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,GAAG;AAAA;AAAA,aAEvB;AACH,iBAAO,SAAU,GAAG,GAAG,IAAI;AACzB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,GAAG,GAAG;AAAA;AAAA,aAE1B;AACH,iBAAO,SAAU,GAAG,GAAG,GAAG,IAAI;AAC5B,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,GAAG,GAAG,GAAG;AAAA;AAAA,aAE7B;AACH,iBAAO,SAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAC/B,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG;AAAA;AAAA,aAEhC;AACH,iBAAO,SAAU,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI;AAClC,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG;AAAA;AAAA;AAGtC,iBAAO;AAAA;AAAA;AAKb,4BAAwB,IAAI;AAC1B,UAAI,WAAW,WAAY;AACzB,YAAI;AACJ,YAAI,OAAO,UAAU,OAAO,YAAY;AACtC,iBAAO,MAAM,UAAU;AACvB,eAAK,KAAK,aAAa,UAAU;AACjC,mBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,iBAAK,KAAK,UAAU;AAAA;AAAA;AAGxB,eAAO,GAAG,MAAM,MAAM,QAAQ;AAAA;AAGhC,cAAQ,GAAG;AAAA,aACJ;AACH,iBAAO,SAAU,IAAI;AACnB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM;AAAA;AAAA,aAEpB;AACH,iBAAO,SAAU,IAAI,GAAG;AACtB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,IAAI;AAAA;AAAA,aAExB;AACH,iBAAO,SAAU,IAAI,GAAG,GAAG;AACzB,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,IAAI,GAAG;AAAA;AAAA,aAE3B;AACH,iBAAO,SAAU,IAAI,GAAG,GAAG,GAAG;AAC5B,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,IAAI,GAAG,GAAG;AAAA;AAAA,aAE9B;AACH,iBAAO,SAAU,IAAI,GAAG,GAAG,GAAG,GAAG;AAC/B,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,IAAI,GAAG,GAAG,GAAG;AAAA;AAAA,aAEjC;AACH,iBAAO,SAAU,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG;AAClC,gBAAI,UAAU,WAAW;AAAG,qBAAO,SAAS,MAAM,MAAM;AACxD,gBAAI,OAAO,OAAO;AAAY,mBAAK,aAAa;AAChD,mBAAO,GAAG,KAAK,MAAM,IAAI,GAAG,GAAG,GAAG,GAAG;AAAA;AAAA;AAGvC,iBAAO;AAAA;AAAA;AAKb,sBAAkB,GAAG;AACnB,aAAQ,KAAI,OAAO,OAAO,IAAI,IAAI;AAAA;AAIpC,wBAAoB,GAAG;AACrB,aAAO,OAAO,MAAM,YAAY,SAAS,OAAO;AAAA;AAAA;AAAA;;;AChqBlD;AAAA;AAAA;AAEA,QAAI,SAAc,QAAQ;AAC1B,QAAI,cAAc;AAOlB,QAAI,kBAAkB;AACtB,QAAI,eAAe;AAGnB,QAAI,CAAC,QAAQ;AAAkB;AAE/B,uBAAmB,MAAM;AACvB,WAAK,OAAS;AAEd,WAAK,SAAS;AACd,WAAK,OAAS;AACd,WAAK,KAAS;AAAA;AAGhB,cAAU,UAAU,MAAM,SAAU,KAAK,OAAO;AAC9C,UAAI,CAAC,KAAK,QAAQ;AAChB,cAAM,IAAI,MAAM;AAAA;AAGlB,WAAK,OAAO,OAAO;AACnB,aAAO;AAAA;AAGT,cAAU,UAAU,MAAM,SAAU,KAAK;AACvC,UAAI,CAAC,KAAK;AAAQ,eAAO;AAEzB,aAAO,KAAK,OAAO;AAAA;AAGrB,cAAU,UAAU,gBAAgB,WAAY;AAC9C,aAAO,OAAO,OAAO,KAAK;AAAA;AAG5B,cAAU,UAAU,MAAM,SAAU,IAAI;AACtC,UAAI,UAAU,KAAK;AACnB,WAAK,MAAM;AACX,UAAI;AACF,WAAG;AACH,eAAO;AAAA,eAEF,WAAP;AACE,YAAI,WAAW;AACb,oBAAU,gBAAgB;AAAA;AAE5B,cAAM;AAAA,gBAER;AACE,aAAK,KAAK;AAAA;AAAA;AAId,cAAU,UAAU,eAAe,SAAU,IAAI;AAC/C,UAAI;AACJ,WAAK,IAAI,SAAU,SAAS;AAC1B,gBAAQ,GAAG;AAAA;AAEb,aAAO;AAAA;AAGT,cAAU,UAAU,OAAO,SAAU,IAAI,SAAS;AAChD,UAAI,CAAC,SAAS;AACZ,YAAI,CAAC,KAAK,QAAQ;AAChB,oBAAU,KAAK;AAAA,eAEZ;AACH,oBAAU,KAAK;AAAA;AAAA;AAInB,UAAI,OAAO;AACX,aAAO,WAAY;AACjB,aAAK,MAAM;AACX,YAAI;AACF,iBAAO,GAAG,MAAM,MAAM;AAAA,iBAEjB,WAAP;AACE,cAAI,WAAW;AACb,sBAAU,gBAAgB;AAAA;AAE5B,gBAAM;AAAA,kBAER;AACE,eAAK,KAAK;AAAA;AAAA;AAAA;AAKhB,cAAU,UAAU,QAAQ,SAAU,SAAS;AAC7C,aAAO,GAAG,SAAS;AAEnB,WAAK,KAAK,KAAK,KAAK;AACpB,WAAK,SAAS;AAAA;AAGhB,cAAU,UAAU,OAAO,SAAU,SAAS;AAC5C,aAAO,GAAG,SAAS;AAGnB,UAAI,KAAK,WAAW,SAAS;AAC3B,eAAO,GAAG,KAAK,KAAK,QAAQ;AAC5B,aAAK,SAAS,KAAK,KAAK;AACxB;AAAA;AAIF,UAAI,QAAQ,KAAK,KAAK,YAAY;AAElC,aAAO,GAAG,SAAS,GAAG;AACtB,aAAO,GAAG,OAAY;AAEtB,WAAK,KAAK,OAAO,OAAO;AAAA;AAG1B,cAAU,UAAU,cAAc,SAAU,SAAS;AACnD,aAAO,GAAG,QAAQ,MAAM,QAAQ,eAAe,QAAQ,MAAM;AAE7D,UAAI,YAAa;AACjB,UAAI,aAAa,aAAa,KAAK;AAGnC,sBAAgB,UAAU;AACxB,YAAI,CAAC;AAAU;AACf,YAAI,CAAC,SAAS;AAAkB,mBAAS,mBAAmB,OAAO,OAAO;AAE1E,iBAAS,iBAAiB,cAAc;AAAA,UACtC;AAAA,UACA,SAAY,UAAU;AAAA;AAAA;AAK1B,oBAAc,WAAW;AACvB,YAAI,CAAE,cAAa,UAAU;AAAmB,iBAAO;AAEvD,YAAI,UAAW;AACf,YAAI,WAAW,UAAU;AACzB,eAAO,KAAK,UAAU,QAAQ,SAAU,MAAM;AAC5C,cAAI,QAAQ,SAAS;AACrB,oBAAU,MAAM,UAAU,KAAK,SAAS,MAAM;AAAA;AAEhD,eAAO;AAAA;AAGT,kBAAY,SAAS,QAAQ;AAAA;AAS/B,cAAU,UAAU,gBAAgB,SAAU,WAAW;AACvD,aAAO,UAAU;AAAA;AAGnB,iBAAa,MAAM;AACjB,aAAO,QAAQ,WAAW;AAAA;AAG5B,oBAAgB,MAAM;AACpB,aAAO,GAAG,MAAM;AAEhB,UAAI,YAAY,IAAI,UAAU;AAC9B,gBAAU,KAAK,QAAQ,iBAAiB;AAAA,QACtC,QAAS,WAAY;AAAE,iBAAO,UAAU;AAAA;AAAA,QACxC,QAAS,SAAU,SAAS,SAAS;AAAE,cAAI;AAAS,sBAAU,MAAM;AAAA;AAAA,QACpE,OAAS,SAAU,SAAS,SAAS;AAAE,cAAI;AAAS,sBAAU,KAAK;AAAA;AAAA,QACnE,OAAS,SAAU,SAAS;AAAE,cAAI;AAAS,sBAAU,KAAK;AAAA;AAAA;AAG5D,cAAQ,WAAW,QAAQ;AAC3B,aAAO;AAAA;AAGT,qBAAiB,MAAM;AACrB,UAAI,YAAY,IAAI;AAEpB,aAAO,GAAG,WAAc;AACxB,aAAO,GAAG,UAAU,IAAI;AAExB,cAAQ,oBAAoB,UAAU;AACtC,cAAQ,WAAW,QAAQ;AAAA;AAG7B,sBAAiB;AAEf,UAAI,QAAQ,YAAY;AACtB,eAAO,KAAK,QAAQ,YAAY,QAAQ,SAAU,MAAM;AACtD,kBAAQ;AAAA;AAAA;AAGZ,cAAQ,aAAa,OAAO,OAAO;AAAA;AAErC,QAAI,CAAC,QAAQ;AAAY;AAEzB,YAAO,UAAU;AAAA,MACf,cAAmB;AAAA,MACnB,iBAAmB;AAAA,MACnB,kBAAmB;AAAA,MACnB,OAAmB;AAAA;AAAA;AAAA;;;;;;;AC/MrB,QAAA,UAAA;AAEA,QAAA,cAAA;AAyCA,QAAA,4BAAA,WAAA;AAAA,4CAAA;;AAakB,iCAAA,oBAAd,WAAA;AACI,YAAI,CAAC,2BAA0B,SAAS;AACpC,iBAAO;;AAEX,YAAM,UAAU,2BAA0B,QAAQ,IAAI,2BAA0B;AAEhF,YAAI,YAAY,QAAW;AACvB,iBAAO;;AAEX,eAAO;;AAMG,iCAAA,wBAAd,SAAoC,aAAqB,UAAmB,eAAwB,0BAAmC,aAA2B,YAAuB;AACrL,mBAAW,YAAY;AAEvB,YAAI,KAAK,SAAS;AACd,iBAAO;YACH,WAAW;cACP,MAAM;cACN,IAAI;cACJ;cACA;cACA;;YAEJ,kBAAkB,IAAI,qBAAqB;;;AAInD,eAAO;;AAQG,iCAAA,iBAAd,SAA6B,SAA6B,IAAW;AACjE,YAAI,2BAA0B,SAAS;AACnC,iBAAO,2BAA0B,QAAQ,KAAK,IAAE,MAAA,IAAG,GAAC,2BAA0B,gBAAe,SAAO;eACjG;AACH,iBAAO;;;;AAOD,iCAAA,cAAd,SAA0B,SAA4B;AAClD,YAAI,2BAA0B,SAAS;AACnC,qCAA0B,QAAQ,YAAY;;;AAWxC,iCAAA,eAAd,SAA+C,IAAK;AAChD,YAAI,2BAA0B,SAAS;AACnC,iBAAO,2BAA0B,QAAQ,KAAK;;AAElD,eAAO;;AAMG,iCAAA,SAAd,SAAqB,gBAAwB;AACzC,YAAI,KAAK,SAAS;AACd;;AAGJ,YAAI,CAAC,KAAK,2BAA2B;AACjC,eAAK,UAAU;AACf;;AAEJ,YAAI,CAAC,2BAA0B,gBAAgB;AAC3C,eAAK,iBAAiB;AACtB,eAAK,iBAAiB;AAEtB,cAAI,OAAO,KAAK,QAAQ,aAAa;AACjC,gBAAK,2BAA0B,mBAAmB,QAAU,2BAA0B,mBAAmB,UAAa,2BAA0B,sBAAuB;AACnK,mBAAK,MAAM;mBACR;AACH,mBAAK,MAAM;;;AAInB,qCAA0B,UAAU,KAAK,IAAI,gBAAgB;AAE7D,sBAAY,4BAA4B,SAAC,IAAE;AACvC,mBAAO,2BAA0B,QAAQ,KAAK;;;AAItD,aAAK,UAAU;;AAML,iCAAA,UAAd,WAAA;AACI,aAAK,UAAU;;AAML,iCAAA,QAAd,WAAA;AACI,YAAI,2BAA0B,gBAAgB;AAC1C,qCAA0B,UAAU;AACpC,qCAA0B,UAAU,KAAK,IAAI,gBAAgB;;;AAOvD,iCAAA,0BAAd,WAAA;AACI,YAAI,UAAU,QAAQ,SAAS,KAAK,MAAM;AAC1C,eAAO,SAAS,QAAQ,MAAM,KAAM,SAAS,QAAQ,MAAM,KAAK,SAAS,QAAQ,MAAM;;AAQ7E,iCAAA,qBAAd,WAAA;AACI,YAAI,UAAU,QAAQ,SAAS,KAAK,MAAM;AAC1C,eAAQ,SAAS,QAAQ,MAAM,KAAO,SAAS,QAAQ,OAAO,KAAK,SAAS,QAAQ,OAAO;;AAOjF,iCAAA,kBAAd,WAAA;AACI,YAAI,UAAU,QAAQ,SAAS,KAAK,MAAM;AAC1C,YAAI,aAAc,SAAS,QAAQ,MAAM,KAAO,SAAS,QAAQ,OAAO,KAAK,SAAS,QAAQ,OAAO;AACrG,YAAI,UAAW,SAAS,QAAQ,MAAM,KAAO,SAAS,QAAQ,OAAO,KAAK,SAAS,QAAQ,MAAM;AACjG,YAAI,aAAa,SAAS,QAAQ,MAAM,KAAM,SAAS,QAAQ,OAAO,KAAK,SAAS,QAAQ,OAAO;AACnG,eAAO,CAAE,eAAc,YAAY;;AAhKxB,iCAAA,UAAmB;AACnB,iCAAA,iBAA0B;AAC1B,iCAAA,iBAA0B;AAG1B,iCAAA,eAAe;AA6JlC,aAAA;;AAnKa,YAAA,4BAAA;AAqKb,QAAA,uBAAA,WAAA;AAII,qCAAmB,QAAc;AAFzB,aAAA,QAAuC;AAG3C,aAAK,cAAc;;AAGhB,4BAAA,UAAA,gBAAP,SAAqB,QAAe;AAChC,YAAM,UAAU,SAAS,OAAO,MAAM,QAAQ;AAC9C,aAAK,QAAQ,QAAQ,IAAI,SAAC,QAAM;AAC5B,cAAM,QAAQ,OAAO,MAAM;AAC3B,iBAAO,EAAC,KAAK,MAAM,IAAI,OAAO,MAAM;WACrC,OAAO,KAAK;;AAGZ,4BAAA,UAAA,oBAAP,WAAA;AACI,eAAO,KAAK,MAAM,IAAI,SAAC,QAAM;AACzB,iBAAU,OAAO,MAAG,MAAI,OAAO;WAChC,KAAK;;AAGL,4BAAA,UAAA,cAAP,SAAmB,MAAY;AAC3B,iBAAQ,IAAI,GAAG,IAAI,KAAK,MAAM,QAAQ,EAAE,GAAG;AACvC,cAAM,SAAS,KAAK,MAAM;AAC1B,cAAI,OAAO,QAAQ,MAAM;AACrB,mBAAO,OAAO;;;AAGtB;;AAMG,4BAAA,UAAA,cAAP,SAAmB,MAAc,KAAW;AACxC,YAAI,sBAAqB,iBAAiB,KAAK,SAAS,sBAAqB,iBAAiB,KAAK,MAAM;AACrG,kBAAQ,KAAK,gHAAgH,OAAO,iBAAgB;AACpJ;;AAEJ,iBAAS,IAAI,GAAG,IAAI,KAAK,MAAM,QAAQ,EAAE,GAAG;AACxC,cAAM,SAAS,KAAK,MAAM;AAC1B,cAAI,OAAO,QAAQ,MAAM;AACrB,mBAAO,QAAQ;AACf;;;AAGR,aAAK,MAAM,KAAK,EAAC,KAAK,MAAM,OAAO;;AA9CxB,4BAAA,mBAAmB;AAgDtC,aAAA;;;;;;ACpQA;;AACA;AAKI,QAAA,SAAA,WAAA;AAGI,yBAAA;;AAGJ,aAAA;;AACJ,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACZT,QAAA,SAAA;AAMI,QAAA,mBAAA,SAAA,QAAA;AAA+B,gBAAA,mBAAA;AAgD3B,mCAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MAxD+B;AAyDnC,YAAA,UAAS;;;;;AChET;;AACA;AAKI,QAAA,OAAA,WAAA;AAQI,uBAAA;;AAGJ,aAAA;;AACJ,YAAA,UAAS;;;;;AClBT;;AACA;AACA,QAAA,iBAAA,WAAA;AA8HI,iCAAA;AACI,aAAK,qBAAqB;AAC1B,aAAK,WAAW;AAChB,aAAK,eAAe;AACpB,aAAK,cAAc;AACnB,aAAK,gBAAgB;AACrB,aAAK,kBAAkB;AACvB,aAAK,aAAa;AAClB,aAAK,aAAa;AAClB,aAAK,cAAc;AACnB,aAAK,gBAAgB;AACrB,aAAK,oBAAoB;AACzB,aAAK,2BAA2B;AAChC,aAAK,6BAA6B;AAClC,aAAK,YAAY;AACjB,aAAK,iBAAiB;AACtB,aAAK,gBAAgB;AACrB,aAAK,SAAS;AACd,aAAK,iBAAiB;AACtB,aAAK,YAAY;AACjB,aAAK,oBAAoB;AACzB,aAAK,qBAAqB;AAC1B,aAAK,uBAAuB;AAC5B,aAAK,mBAAmB;;AAEhC,aAAA;;AACA,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACzJT,QAAA,OAAA;AAMI,QAAA,OAAA,SAAA,QAAA;AAA4B,gBAAA,OAAA;AAaxB,uBAAA;eAEI,OAAA,KAAA,SAAO;;AAGf,aAAA;MAlB4B;AAmBhC,YAAA,UAAS;;;;;AC1BT;;AACA;AAKI,QAAK;AAAL,IAAA,UAAK,gBAAa;AAEd,qBAAA,eAAA,iBAAA,KAAA;AACA,qBAAA,eAAA,iBAAA,KAAA;OAHC,iBAAA,iBAAa;AAKtB,YAAA,UAAS;;;;;;;;ACVT,QAAA,gBAAA;AAMI,QAAA,YAAA,WAAA;AAsCI,4BAAA;AAEI,aAAK,OAAO,cAAc;;AAElC,aAAA;;AACJ,YAAA,UAAS;;;;;AChDT;;;AAKI,QAAA,WAAA,WAAA;AA2CI,2BAAA;AAEI,aAAK,MAAM;AACX,aAAK,aAAa;AAClB,aAAK,OAAO;;AAEpB,aAAA;;AACJ,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACxDT,QAAA,SAAA;AAMI,QAAA,YAAA,SAAA,QAAA;AAAwB,gBAAA,YAAA;AAuBpB,4BAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MA/BwB;AAgC5B,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACtCT,QAAA,SAAA;AAQI,QAAA,gBAAA,SAAA,QAAA;AAA4B,gBAAA,gBAAA;AAiCxB,gCAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;AAClB,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MA1C4B;AA2ChC,YAAA,UAAS;;;;;AClDT;;;AAKI,QAAA,mBAAA,WAAA;AAsCI,mCAAA;AAEI,aAAK,eAAe;AACpB,aAAK,cAAc;;AAE3B,aAAA;;AACJ,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;AClDT,QAAA,SAAA;AAOI,QAAA,cAAA,SAAA,QAAA;AAA0B,gBAAA,cAAA;AAuBtB,8BAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;;;AAE1B,aAAA;MA9B0B;AA+B9B,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACtCT,QAAA,SAAA;AAOI,QAAA,aAAA,SAAA,QAAA;AAAyB,gBAAA,aAAA;AAkBrB,6BAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,UAAU;AACf,cAAK,aAAa;;;AAE1B,aAAA;MA1ByB;AA2B7B,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;AClCT,QAAA,YAAA;AAMI,QAAA,eAAA,SAAA,QAAA;AAA2B,gBAAA,eAAA;AAiCvB,+BAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MAzC2B;AA0C/B,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;AChDT,QAAA,SAAA;AAMI,QAAA,uBAAA,SAAA,QAAA;AAAmC,gBAAA,uBAAA;AA0D/B,uCAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,UAAU;AACf,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MAnEmC;AAoEvC,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;AC1ET,QAAA,SAAA;AAMI,QAAA,cAAA,SAAA,QAAA;AAA0B,gBAAA,cAAA;AAqDtB,8BAAA;AAAA,YAAA,QAEI,OAAA,KAAA,SAAO;AAEP,cAAK,MAAM;AACX,cAAK,aAAa;AAClB,cAAK,eAAe;;;AAE5B,aAAA;MA7D0B;AA8D9B,YAAA,UAAS;;;;;ACrET;;AACA;AAKI,QAAK;AAAL,IAAA,UAAK,gBAAa;AAEd,qBAAA,eAAA,aAAA,KAAA;AACA,qBAAA,eAAA,iBAAA,KAAA;AACA,qBAAA,eAAA,aAAA,KAAA;AACA,qBAAA,eAAA,WAAA,KAAA;AACA,qBAAA,eAAA,cAAA,KAAA;OANC,iBAAA,iBAAa;AAQtB,YAAA,UAAS;;;;;ACdT;;AACA;AAKI,QAAA,aAAA,WAAA;AA4BI,6BAAA;;AAGJ,aAAA;;AACJ,YAAA,UAAS;;;;;ACtCT;;AACA;;AACA,YAAA,mBAAA;AACA,YAAA,OAAA;AACA,YAAA,iBAAA;AACA,YAAA,OAAA;AACA,YAAA,YAAA;AACA,YAAA,gBAAA;AACA,YAAA,SAAA;AACA,YAAA,WAAA;AACA,YAAA,YAAA;AACA,YAAA,gBAAA;AACA,YAAA,mBAAA;AACA,YAAA,cAAA;AACA,YAAA,aAAA;AACA,YAAA,eAAA;AACA,YAAA,uBAAA;AACA,YAAA,cAAA;AACA,YAAA,gBAAA;AACA,YAAA,aAAA;;;;;;;;;ACnBA,QAAA,cAAA;AAEA,QAAA,gCAAA,WAAA;AAAA,gDAAA;;AACkB,qCAAA,YAAmB;AACnB,qCAAA,UAAiB;AACnC,aAAA;;AAHa,YAAA,gCAAA;AASb,sCAAyC,QAAc;AACnD,aAAO,gBAAgB,UACnB,kBAAkB,YAAA,aAClB,kBAAkB,YAAA,iBAClB,kBAAkB,YAAA,eAClB,kBAAkB,YAAA,cAClB,kBAAkB,YAAA,gBAClB,kBAAkB,YAAA,wBAClB,kBAAkB,YAAA;;AAR1B,YAAA,2BAAA;;;;;;;;;ACGA,qCAAwC,MAAmB;AACvD,cAAO;aACE,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;aACN,cAAc;AACf,iBAAO;;AAEf,aAAO;;AAjBX,YAAA,0BAAA;AAwBA,qCAAwC,UAA6B;AACjE,cAAO;aACE;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;aACpB;AACD,iBAAO,cAAc;;AAE7B,aAAO;;AAjBX,YAAA,0BAAA;AAoBa,YAAA,sBAA4D;MACrE,OAAO;MACP,WAAW;MACX,OAAO;MACP,QAAQ;MACR,SAAS;MACT,YAAY;MACZ,cAAc;;AAMlB,QAAY;AAAZ,IAAA,UAAY,gBAAa;AACrB,qBAAA,eAAA,WAAA,KAAA;AACA,qBAAA,eAAA,eAAA,KAAA;AACA,qBAAA,eAAA,WAAA,KAAA;AACA,qBAAA,eAAA,YAAA,KAAA;AACA,qBAAA,eAAA,aAAA,KAAA;AACA,qBAAA,eAAA,gBAAA,KAAA;AACA,qBAAA,eAAA,kBAAA,KAAA;OAPQ,gBAAA,QAAA,iBAAA,SAAA,gBAAa;;;;;;;;;;;;;;AC3DzB,cAAA;;;;;;;;;;;;;;ACZA,cAAA;AACA,cAAA;AACA,cAAA;;;;;;;;;ACCA,QAAA,cAAA;AAEA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEjC,QAAM,aAAa,SAAC,OAA8C;AAC9D,UAAI,UAAU,MAAM,KAAK;AACzB,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAI,mBAAmB,OAAO;AAC1B,iBAAO,eAAe,EAAE,WAAW;eAChC;AAEH,cAAI,QAAQ,YAAY,SAAS,QAAQ,SAAS,GAAG;AACjD,sBAAU,QAAQ,UAAU,GAAG,QAAQ,SAAS;;AAEpD,iBAAO,WAAW,EAAC,SAAkB,UAAW,MAAM,KAAK,SAAS,YAAA,cAAc,UAAU,YAAA,cAAc;;;;AAKtH,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAAmC,WAAW;;AACzD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,WAAW;;;;AAT3C,YAAA,SAAA;AAcA,uBAAA;AACI,2BAAA,QAAQ,YAAY,WAAW;AAC/B,gBAAU;;AAFd,YAAA,UAAA;;;;;;;;;ACrCA,QAAA,cAAA;AAEA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAGjC,QAAM,qBAA+C;MACjD,IAAI,YAAA,cAAc;MAClB,IAAI,YAAA,cAAc;MAClB,IAAI,YAAA,cAAc;MAClB,IAAI,YAAA,cAAc;MAClB,IAAI,YAAA,cAAc;MAClB,IAAI,YAAA,cAAc;;AAGtB,QAAM,aAAa,SAAC,OAAyC;AACzD,UAAM,UAAU,MAAM,KAAK;AAC3B,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAM,UAAU,mBAAmB,MAAM,KAAK;AAC9C,YAAI,mBAAmB,OAAO;AAC1B,iBAAO,eAAe,EAAE,WAAY;eACjC;AACH,iBAAO,WAAW,EAAC,SAAkB,UAAU;;;;AAK3D,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAA8B,UAAU;;AACnD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,UAAU;;;;AAT1C,YAAA,SAAA;AAcA,uBAAA;AACI,2BAAA,QAAQ,YAAY,UAAU;AAC9B,gBAAU;;AAFd,YAAA,UAAA;;;;;;;;;AC5CA,QAAA,cAAA;AAEA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEjC,QAAM,sBAAiE;MACnE,QAAM,SAAC,IAAU;AACb,YAAM,MAAkC;UACpC,OAAO,YAAA,cAAc;UACrB,OAAO,YAAA,cAAc;UACrB,MAAM,YAAA,cAAc;UACpB,OAAO,YAAA,cAAc;UACrB,SAAS,YAAA,cAAc;UACvB,QAAQ,YAAA,cAAc;UACtB,MAAM,YAAA,cAAc;UACpB,OAAO,YAAA,cAAc;;AAGzB,eAAO,IAAI,QAAQ,SAAY,YAAA,cAAc,cAAc,IAAI;;MAEnE,KAAG,SAAC,IAAU;AACV,YAAM,MAAkC;UACpC,OAAO,YAAA,cAAc;UACrB,MAAM,YAAA,cAAc;UACpB,MAAM,YAAA,cAAc;UACpB,SAAS,YAAA,cAAc;UACvB,OAAO,YAAA,cAAc;UACrB,OAAO,YAAA,cAAc;;AAGzB,eAAO,IAAI,QAAQ,SAAY,YAAA,cAAc,cAAc,IAAI;;MAEnE,SAAO,SAAC,IAAU;AACd,eAAO,YAAA,cAAc;;;AAI7B,QAAM,aAAa,SAAC,OAA2C;AAC3D,UAAM,UAAU,MAAM,KAAK;AAC3B,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAI,mBAAmB,OAAO;AAC1B,iBAAO,eAAe;YAClB,WAAW;YACX,YAAY,MAAM,KAAK;;eAExB;AACH,cAAM,UAAU,oBAAoB,MAAM,KAAK,WAAW,MAAM,KAAK;AACrE,iBAAO,WAAW;YACd;YACA,UAAU;YACV,YAAY,MAAM,KAAK;;;;;AAMvC,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAAgC,WAAW;;AACtD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,WAAW;;;;AAT3C,YAAA,SAAA;AAcA,uBAAA;AACI,2BAAA,QAAQ,YAAY,WAAW;AAC/B,gBAAU;;AAFd,YAAA,UAAA;;;;;;;;ACzEA,QAAA,cAAA;AAEA,QAAA,qBAAA,WAAA;AASI,mCAAY,QAAuB;AAC/B,YAAG,CAAC,CAAC,oBAAmB,UAAU;AAC9B,gBAAM,IAAI,MAAM;;AAGpB,aAAK,UAAU;AACf,4BAAmB,WAAW;;AAG3B,0BAAA,UAAA,SAAP,SAAc,WAAoB,mBAA0B;AACxD,YAAI,YAAY,eAAe;AAC3B,gCAA4C,OAAO,aAAa,mBAAmB,KAAK;AACxF,+BAA2C,OAAO,WAAW,KAAK;AAClE,gCAA4C,OAAO,WAAW,KAAK;;;AAIpE,0BAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGT,0BAAA,UAAA,UAAP,WAAA;AACI,4BAAmB,WAAW;AAC9B,aAAK,OAAO,OAAO;;AA5BR,0BAAA,eAAe,CAAC,SAAS,QAAQ,OAAO,QAAQ;AA8BnE,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AChCT,QAAA,wBAAA,WAAA;AAeI,sCAAY,QAAuB;AAC/B,YAAI,CAAC,CAAC,uBAAsB,UAAU;AAClC,gBAAM,IAAI,MAAM;;AAGpB,+BAAsB,WAAW;AACjC,aAAK,UAAU;AAGf,YAAM,UAAU,QAAQ,SAAS,KAAK,MAAM;AAC5C,+BAAsB,kCAAkC,SAAS,QAAQ,MAAM,MAAO,SAAS,QAAQ,QAAQ,MAAM,SAAS,QAAQ,OAAO;;AAG1I,6BAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGT,6BAAA,UAAA,SAAP,SAAc,WAAkB;AAAhC,YAAA,QAAA;AACI,YAAI,WAAW;AACX,eAAK,iBAAiB;AACtB,cAAI,OAAO;AACX,cAAI,CAAC,KAAK,0BAA0B;AAGhC,gBAAI,SAAS,SAAC,SAAkB,MAAe,OAAuE;AAAvE,kBAAA,UAAA,QAAA;AAAA,wBAAA,IAAmB,MAAM,uBAAsB;;AAC1F,oBAAK,QAAQ,eAAe,EAAE,WAAW;AACzC,oBAAK,QAAQ,MAAM,EAAE,eAAe;AAEpC,kBAAI,WAAW,QAAQ,QAAQ,UAAU,MAAM,WAAW,GAAG;AACzD,wBAAQ,MAAM;AACd,wBAAQ,KAAK;;;AAIrB,gBAAI,uBAAsB,iCAAiC;AAEvD,mBAAK,2BAA2B,OAAO,KAAK,MAAM;AAClD,sBAAQ,GAAG,uBAAsB,yCAAyC,KAAK;mBAC5E;AACH,mBAAK,2BAA2B,OAAO,KAAK,MAAM,MAAM,uBAAsB;AAC9E,mBAAK,2BAA2B,OAAO,KAAK,MAAM;AAClD,sBAAQ,GAAG,uBAAsB,iCAAiC,KAAK;AACvE,sBAAQ,GAAG,uBAAsB,kCAAkC,KAAK;;;eAI7E;AACH,cAAI,KAAK,0BAA0B;AAC/B,gBAAI,uBAAsB,iCAAiC;AACvD,sBAAQ,eAAe,uBAAsB,yCAAyC,KAAK;mBACxF;AACH,sBAAQ,eAAe,uBAAsB,iCAAiC,KAAK;AACnF,sBAAQ,eAAe,uBAAsB,kCAAkC,KAAK;;AAExF,iBAAK,2BAA2B;AAChC,iBAAK,2BAA2B;AAChC,mBAAO,KAAK;AACZ,mBAAO,KAAK;;;;AAKjB,6BAAA,UAAA,UAAP,WAAA;AACI,+BAAsB,WAAW;AACjC,aAAK,OAAO;AACZ,aAAK,iBAAiB;;AA9EZ,6BAAA,WAAkC;AAClC,6BAAA,0CAA0C;AAC1C,6BAAA,kCAAkC;AAClC,6BAAA,mCAAmC;AAElC,6BAAA,wBAAwB;AACxB,6BAAA,0BAA0B;AAC1B,6BAAA,kCAAkC;AAyErD,aAAA;;AAIA,YAAA,UAAS;;;;;;;;;AC7FI,YAAA,0BAA0B;AAC1B,YAAA,+BAA+B;AAC/B,YAAA,2BAA2B;AAExC,QAAY;AAAZ,IAAA,UAAY,oBAAiB;AAEzB,yBAAA,qBAAA;AAGA,yBAAA,oBAAA;AAGA,yBAAA,kBAAA;AACA,yBAAA,0BAAA;AACA,yBAAA,sBAAA;AAGA,yBAAA,qBAAA;AACA,yBAAA,6BAAA;AACA,yBAAA,yBAAA;AAGA,yBAAA,oBAAA;OAlBQ,oBAAA,QAAA,qBAAA,SAAA,oBAAiB;AAqB7B,QAAY;AAAZ,IAAA,UAAY,qBAAkB;AAE1B,0BAAA,mBAAA;AACA,0BAAA,qBAAA;AAGA,0BAAA,oBAAA;AACA,0BAAA,kBAAA;AAGA,0BAAA,kBAAA;AACA,0BAAA,sBAAA;OAXQ,qBAAA,QAAA,sBAAA,SAAA,qBAAkB;AAiBjB,YAAA,iCAA8B,MAAA,IACvC,GAAC,mBAAmB,kBAAiB,kBAAkB,gBACvD,GAAC,mBAAmB,gBAAe,kBAAkB,cACrD,GAAC,mBAAmB,oBAAmB,kBAAkB,kBAGzD,GAAC,kBAAkB,mBAAkB,kBAAkB,iBACvD,GAAC,kBAAkB,wBAAuB,kBAAkB,sBAC5D,GAAC,kBAAkB,mBAAkB,kBAAkB,iBACvD,GAAC,kBAAkB,2BAA0B,kBAAkB,yBAC/D,GAAC,kBAAkB,uBAAsB,kBAAkB,qBAC3D,GAAC,kBAAkB,kBAAiB,kBAAkB;AAe7C,YAAA,yBAAyF;MAClG,OAAO;MACP,WAAW;MACX,OAAO;MACP,QAAQ;MACR,SAAS;MACT,YAAY;MACZ,cAAc;;AAGL,YAAA,iBAAyE;MAClF,OAAO;MACP,WAAW;MACX,OAAO;MACP,QAAQ;MACR,SAAS;MACT,YAAY;MACZ,cAAc;;AAGL,YAAA,sCAAgG;MACzG,WAAW,QAAA,eAAe;MAC1B,eAAe,QAAA,eAAe;MAC9B,aAAa,QAAA,eAAe;MAC5B,YAAY,QAAA,eAAe;MAC3B,aAAa,QAAA,eAAe;MAC5B,sBAAsB,QAAA,eAAe;MACrC,kBAAkB,QAAA,eAAe;;AAGxB,YAAA,8CAAgH;MACzH,WAAW,QAAA,uBAAuB;MAClC,eAAe,QAAA,uBAAuB;MACtC,aAAa,QAAA,uBAAuB;MACpC,YAAY,QAAA,uBAAuB;MACnC,aAAa,QAAA,uBAAuB;MACpC,sBAAsB,QAAA,uBAAuB;MAC7C,kBAAkB,QAAA,uBAAuB;;;;;;;;;;AC1G7C,QAAA,MAAA,QAAA;AAIA,QAAA,YAAA;AAEA,QAAA,yBAAA,WAAA;AAgCI,uCAAY,QAAyB,oBAA4B,2BAAiC;AAA7D,YAAA,uBAAA,QAAA;AAAA,+BAAA;;AAA4B,YAAA,8BAAA,QAAA;AAAA,sCAAA;;AAlBzD,aAAA,oCAA4C;AAC5C,aAAA,uCAA+C;AAkBnD,YAAI,CAAC,wBAAuB,UAAU;AAClC,kCAAuB,WAAW;;AAGtC,aAAK,iBAAiB;AACtB,aAAK,UAAU;AACf,aAAK,sBAAsB;AAC3B,aAAK,6BAA6B;;AAG/B,8BAAA,UAAA,SAAP,SAAc,WAAoB,oBAA2B;AAA7D,YAAA,QAAA;AACI,aAAK,aAAa;AAClB,YAAI,KAAK,cAAc,CAAC,KAAK,gBAAgB;AACzC,eAAK,iBAAiB;;AAG1B,YAAI,WAAW;AACX,cAAI,CAAC,KAAK,SAAS;AACf,iBAAK,YAAY,IAAG;AACpB,iBAAK,gBAAgB;cACjB,mBAAmB,wBAAuB;cAC1C,yBAAyB,wBAAuB;cAChD,MAAM,CAAC,IAAI;;AAEf,iBAAK,oBAAoB;cACrB,sBAAsB,wBAAuB;cAC7C,4BAA4B,wBAAuB;cACnD,MAAM,CAAC,IAAI;;AAEf,iBAAK,kBAAkB;cACnB,qBAAqB,wBAAuB;cAC5C,MAAM,CAAC,IAAI;;AAGf,gBAAI,OAAQ,QAAgB,aAAa,YAAW;AAChD,mBAAK,mBAAoB,QAAgB;;AAE7C,iBAAK,cAAc,QAAQ;AAC3B,iBAAK,sBAAsB,sBAAsB,KAAK;AACtD,iBAAK,UAAU,YAAY,WAAA;AAAM,qBAAA,MAAK;eAAoB,KAAK;AAC/D,iBAAK,QAAQ;;eAEd;AACH,cAAI,KAAK,SAAS;AACd,0BAAc,KAAK;AACnB,iBAAK,UAAU;;;;AAMb,8BAAA,eAAd,SAA2B,UAA2B,SAAgB;AAClE,YAAI;AACJ,YAAI,CAAC,wBAAuB,aAAa;AACrC;;AAGJ,YAAI,OAAO,aAAa,UAAU;AAE9B,uBAAa,CAAC,IAAI,KAAK,gBAAgB,WAAW;mBAC3C,OAAO,aAAa,UAAU;AACrC,uBAAa;eACV;AACH;;AAGJ,gCAAuB,iCAAiC;AACxD,YAAI,YAAY,OAAO;AACnB,kCAAuB;;AAE3B,gCAAuB;;AAGb,8BAAA,iBAAd,WAAA;AACI,gCAAuB;;AAGb,8BAAA,kBAAd,SAA8B,UAA2B,SAAgB;AACrE,YAAI;AACJ,YAAI,CAAC,wBAAuB,aAAa;AACrC;;AAGJ,YAAI,OAAO,aAAa,UAAU;AAE9B,uBAAa,CAAC,IAAI,KAAK,gBAAgB,WAAW;mBAC3C,OAAO,aAAa,UAAU;AACrC,uBAAa;eACV;AACH;;AAGJ,gCAAuB,oCAAoC;AAC3D,YAAI,YAAY,OAAO;AACnB,kCAAuB;;AAE3B,gCAAuB;;AAGpB,8BAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGF,8BAAA,YAAd,WAAA;AACI,eAAO,wBAAuB,YAAY,wBAAuB,SAAS;;AAGvE,8BAAA,UAAA,mBAAP,WAAA;AACI,aAAK;AACL,aAAK;AACL,aAAK;AACL,aAAK;AACL,aAAK;;AAGD,8BAAA,UAAA,YAAR,WAAA;AAGI,YAAI,OAAO,IAAG;AACd,YAAI,QAAQ,KAAK,UAAU,KAAK,aAAa,KAAK,WAAW,KAAK,UAAU,QAAQ;AAChF,cAAI,YAAY;AAChB,cAAI,WAAW;AACf,cAAI,YAAY;AAChB,cAAI,YAAY;AAChB,cAAI,WAAW;AACf,mBAAS,IAAI,GAAG,CAAC,CAAC,QAAQ,IAAI,KAAK,QAAQ,KAAK;AAC5C,gBAAI,MAAM,KAAK;AACf,gBAAI,UAAU,KAAK,UAAU;AAE7B,gBAAI,OAAO,WAAW,IAAI;AAC1B,gBAAI,QAAQ,IAAI;AAChB,gBAAI,QAAQ,IAAI;AAChB,gBAAI,QAAQ,IAAI;AAChB,gBAAI,YAAY,QAAQ;AAGxB,gBAAI,OAAQ,MAAM,OAAO,UAAU,QAAS;AAC5C,yBAAa;AAGb,gBAAI,MAAO,MAAM,MAAM,UAAU,OAAQ;AACzC,wBAAY;AAGZ,gBAAI,OAAQ,MAAM,OAAO,UAAU,QAAS;AAC5C,yBAAa;AAGb,gBAAI,OAAQ,MAAM,OAAO,UAAU,QAAS;AAC5C,yBAAa;AAGb,gBAAI,MAAO,MAAM,MAAM,UAAU,OAAQ;AACzC,wBAAY;;AAIhB,cAAI,gBAAwB;AAC5B,cAAI,OAAQ,QAAgB,aAAa,YAAY;AACjD,gBAAM,cAAe,QAAgB;AACrC,gBAAM,SAAS,QAAQ;AAEvB,gBAAM,WAAa,YAAY,OAAO,KAAK,iBAAiB,OAAS,aAAY,SAAS,KAAK,iBAAiB,WAAY;AAE5H,gBAAI,OAAO,KAAK,gBAAgB,eAAe,KAAK,YAAY,WAAW,GAAG;AAC1E,kBAAM,cAAgB,QAAO,KAAK,KAAK,YAAY,MAAI,MAAO,QAAO,KAAK,KAAK,YAAY,MAAI,OAAQ;AAEvG,8BAAgB,MAAM,WAAY,eAAc,KAAK;;AAIzD,iBAAK,mBAAmB;AACxB,iBAAK,cAAc;;AAGvB,cAAI,gBAAiB,YAAY,WAAW,YAAY,YAAY,YAAa;AAEjF,eAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,mBAAmB,gBAAgB,OAAS,iBAAgB,aAAa,gBAAiB;AACpI,eAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,mBAAmB,cAAc,OAAO,iBAAmB,YAAY,gBAAiB;;AAGtI,aAAK,YAAY;;AAGb,8BAAA,UAAA,eAAR,WAAA;AACI,YAAI,UAAU,IAAG;AACjB,YAAI,UAAU,QAAQ,cAAc;AACpC,YAAI,kBAAkB,IAAG,aAAa;AACtC,aAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,mBAAmB,eAAe,OAAO;AACnF,aAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,mBAAmB,iBAAiB,OAAO;AAGrF,YAAI,KAAK,4BAA4B;AACjC,eAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,kBAAkB,iBAAiB,OAAO;;;AAIpF,8BAAA,UAAA,gBAAR,WAAA;AAEI,YAAI,eAAe,KAAK;AACxB,YAAI,WAAW;UACX,mBAAmB,wBAAuB;UAC1C,yBAAyB,wBAAuB;UAChD,MAAM,CAAC,IAAI;;AAGf,YAAI,mBAAoB,SAAS,oBAAoB,aAAa,qBAAsB;AACxF,YAAI,yBAA0B,SAAS,0BAA0B,aAAa,2BAA4B;AAC1G,YAAI,YAAY,SAAS,OAAO,aAAa;AAC7C,YAAI,iBAAiB,YAAY;AACjC,YAAI,8BAAgC,yBAAuB,gCAAgC,KAAK,qCAAqC,oBAAqB;AAC1J,aAAK,oCAAoC,wBAAuB;AAEhE,YAAI,YAAY,GAAG;AACf,cAAI,iBAAiB,mBAAmB;AACxC,cAAI,uBAAuB,yBAAyB;AAEpD,eAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,mBAAmB,cAAc,OAAO;AAGnF,cAAI,CAAC,KAAK,8BAA8B,mBAAmB,GAAG;AAC1D,iBAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,mBAAmB,kBAAkB,OAAO;;AAI3F,cAAI,KAAK,4BAA4B;AACjC,iBAAK,QAAQ,YAAY,EAAC,MAAM,UAAU,kBAAkB,sBAAsB,OAAO;;;AAIjG,aAAK,gBAAgB;;AAKjB,8BAAA,UAAA,uBAAR,WAAA;AACI,YAAI,KAAK,4BAA4B;AACjC,cAAI,mBAAmB,KAAK;AAC5B,cAAI,eAAe;YACf,sBAAsB,wBAAuB;YAC7C,4BAA4B,wBAAuB;YACnD,MAAM,CAAC,IAAI;;AAGf,cAAI,uBAAwB,aAAa,uBAAuB,iBAAiB,wBAAyB;AAC1G,cAAI,6BAA8B,aAAa,6BAA6B,iBAAiB,8BAA+B;AAC5H,cAAI,YAAY,aAAa,OAAO,iBAAiB;AACrD,cAAI,iBAAiB,YAAY;AACjC,cAAI,iCAAmC,yBAAuB,mCAAmC,KAAK,wCAAwC,wBAAyB;AACvK,eAAK,uCAAuC,wBAAuB;AAEnE,cAAI,YAAY,GAAG;AACf,gBAAI,qBAAqB,uBAAuB;AAChD,gBAAI,2BAA2B,6BAA6B;AAE5D,iBAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,kBAAkB,iBAAiB,OAAO;AACrF,iBAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,kBAAkB,yBAAyB,OAAO;AAI7F,gBAAI,CAAC,KAAK,8BAA8B,uBAAuB,GAAG;AAC9D,mBAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,kBAAkB,qBAAqB,OAAO;;;AAGjG,eAAK,oBAAoB;;;AAMzB,8BAAA,UAAA,sBAAR,WAAA;AACI,YAAI,KAAK,4BAA4B;AACjC,cAAI,iBAAiB,KAAK;AAC1B,cAAI,aAAa;YACb,qBAAqB,wBAAuB;YAC5C,MAAM,CAAC,IAAI;;AAGf,cAAI,qBAAsB,WAAW,sBAAsB,eAAe,uBAAwB;AAClG,cAAI,YAAY,WAAW,OAAO,eAAe;AACjD,cAAI,iBAAiB,YAAY;AAEjC,cAAI,YAAY,GAAG;AACf,gBAAI,mBAAmB,qBAAqB;AAC5C,iBAAK,QAAQ,YAAY,EAAE,MAAM,UAAU,kBAAkB,gBAAgB,OAAO;;AAExF,eAAK,kBAAkB;;;AAIxB,8BAAA,UAAA,UAAP,WAAA;AACI,gCAAuB,WAAW;AAClC,aAAK,OAAO;AACZ,aAAK,iBAAiB;;AAlUX,8BAAA,qBAA6B;AAC7B,8BAAA,2BAAmC;AACnC,8BAAA,4BAAoC;AACpC,8BAAA,wBAAgC;AAChC,8BAAA,8BAAsC;AACtC,8BAAA,+BAAuC;AACvC,8BAAA,uBAA+B;AAC/B,8BAAA,mCAA2C;AAC3C,8BAAA,gCAAwC;AA4T3D,aAAA;;AAEA,YAAA,UAAS;;;;;;;;ACjVT,YAAA,UAAS;MAKL,sBAAsB;MAMtB,yBAAyB;MAMzB,yBAAyB;MAKzB,iBAAiB;MAKjB,gBAAgB;MAMhB,cAAc;MAOd,0BAA0B;MAK1B,mBAAmB;MAKnB,kBAAkB;;;;;;;;;;;;;;;;;;AClDtB,QAAA,OAAA,QAAA;AACA,QAAA,QAAA,QAAA;AACA,QAAA,MAAA,QAAA;AACA,QAAA,YAAA,QAAA;AAEA,QAAA,UAAA;AAGA,QAAA,yBAAA;AAGA,QAAA,OAAA,WAAA;AAAA,uBAAA;;AAUkB,YAAA,YAAd,SAAwB,MAAc,QAAc;AAChD,YAAI,QAAQ;AACZ,YAAI,QAAQ,KAAK,UAAU,OAAO,WAAW,UAAU;AACnD,cAAI,aAAa,OAAO;AACxB,cAAI,UAAU,OAAO,MAAM;AAC3B,mBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,gBAAI,SAAS,QAAQ;AACrB,qBAAS,MAAK,KAAK;AACnB,gBAAI,UAAU,OAAO,QAAQ,gBAAgB,GAAG;AAC5C,sBAAQ,OAAO,UAAU,WAAW,QAAQ,QAAQ,GAAG;AACvD;;;;AAKZ,eAAO;;AAMG,YAAA,OAAd,SAAmB,KAAU;AACzB,YAAG,OAAO,QAAQ,UAAU;AACxB,iBAAO,IAAI,QAAQ,cAAc;eAC9B;AACH,iBAAO;;;AAQD,YAAA,qBAAd,SAAiC,OAAe;AAC5C,YAAI,SAAS,SAAC,GAAW,GAAS;AAC9B,iBAAA,OAAO,aAAc,KAAK,IAAK;;AACnC,YAAI,gBAAgB,SAAC,GAAS;AAC1B,iBAAA,OAAO,GAAG,MAAM,OAAO,GAAG,MAAM,OAAO,GAAG,KAAK,OAAO,GAAG;;AAC7D,YAAI,IAAI,MAAM,IAAI,eAAe,KAAK;AACtC,YAAM,IAAI,OAAO,OAAO,OAAO,KAAK,GAAG,YAAY,IAAI,OAAO,GAAG;AACjE,YAAI,IAAI,EAAE,SAAS;AACnB,eAAO,EAAE,OAAO,GAAG,EAAE,QAAQ;;AAMnB,YAAA,WAAd,WAAA;AACI,eAAQ,aAAc,KAAK,WAAY;;AAM7B,YAAA,YAAd,WAAA;AACI,eAAO,MAAK,aAAa;;AAOf,YAAA,aAAd,WAAA;AACI,YAAI,YAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAG5F,YAAI,MAAM,IAAI;AACd,iBAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AACxB,gBAAM,MAAK;AACX,iBACI,UAAU,MAAM,MAChB,UAAU,OAAO,IAAI,MACrB,UAAU,OAAO,IAAI,MACrB,UAAU,OAAO,KAAK,MACtB,UAAU,OAAO,KAAK,MACtB,UAAU,OAAO,KAAK,MACtB,UAAU,OAAO,KAAK,MACtB,UAAU,OAAO,KAAK;;AAI9B,YAAI,kBAAkB,UAAU,IAAK,KAAK,WAAW,IAAK;AAC1D,eAAO,IAAI,OAAO,GAAG,KAAK,IAAI,OAAO,GAAG,KAAK,MAAM,IAAI,OAAO,IAAI,KAAK,kBAAkB,IAAI,OAAO,IAAI,KAAK,IAAI,OAAO,IAAI;;AAGlH,YAAA,eAAd,SAA2B,IAAU;AACjC,eAAO,GAAG,WAAW,MAAM,OAAO;;AAMxB,YAAA,UAAd,SAAsB,KAAO;AACzB,eAAO,OAAO,UAAU,SAAS,KAAK,SAAS;;AAMrC,YAAA,UAAd,SAAsB,KAAO;AACzB,eAAO,eAAe;;AAGZ,YAAA,cAAd,SAA0B,OAAU;AAChC,YAAM,WAAW,OAAO;AACxB,eAAO,aAAa,YAAY,aAAa,YAAY,aAAa;;AAM5D,YAAA,SAAd,SAAqB,KAAO;AACxB,eAAO,OAAO,UAAU,SAAS,KAAK,SAAS;;AAMrC,YAAA,eAAd,SAA2B,SAAc;AACrC,YAAI,MAAM,YAAY,UAAU,GAAG;AAC/B,oBAAU;;AAGd,YAAI,MAAQ,WAAU,MAAQ,IAAI,QAAQ,GAAG,QAAQ,WAAW;AAChE,YAAI,MAAM,KAAK,KAAK,MAAM,UAAW,OAAO,OAAO;AACnD,YAAI,OAAO,KAAK,KAAK,MAAM,UAAW,OAAO,KAAK,OAAO;AACzD,YAAI,OAAO,KAAK,MAAM,UAAW,OAAO,KAAK,KAAK;AAElD,cAAM,IAAI,QAAQ,OAAO,IAAI,MAAM,MAAM;AACzC,cAAM,IAAI,SAAS,IAAI,MAAM,MAAM;AACnC,eAAO,KAAK,SAAS,IAAI,MAAM,OAAO;AACtC,YAAI,WAAW,OAAO,IAAI,OAAO,MAAM;AAEvC,eAAO,WAAW,OAAO,MAAM,MAAM,MAAM;;AAQ9B,YAAA,eAAjB,SAA8B,KAAU;AAGpC,YAAM,aAAa;AACnB,eAAO;UACH,SAAS,IAAI;UACb,MAAM,WAAW,QAAQ,WAAW,MAAM;;;AASjC,YAAA,gBAAjB,SAA+B,cAAiB;AAC5C,YAAI,wBAAwB,OAAO;AAC/B,iBAAO,MAAK,aAAa;;AAE7B,YAAI,OAAO,aAAa,WAAW,YAAY;AAC3C,iBAAO,aAAa;;AAExB,eAAO;;AAMG,YAAA,oBAAd,SAAgC,KAAQ;AACpC,YAAG,OAAO,QAAQ,UAAU;AACxB,kBAAQ,KAAK;AACb;;AAEJ,YAAM,MAAiC;AACvC,iBAAS,SAAS,KAAK;AACnB,cAAI,WAAmB;AACvB,cAAM,eAAoB,IAAI;AAC9B,cAAM,WAAW,OAAO;AAExB,cAAI,MAAK,YAAY,eAAe;AAChC,uBAAW,aAAa;qBACjB,iBAAiB,QAAQ,aAAa,aAAa;AAC1D,uBAAW;qBACJ,aAAa,YAAY;AAChC,oBAAQ,KAAK,UAAU,QAAQ;AAC/B;iBACG;AACH,gBAAM,eAAe,MAAK,QAAQ,gBAAgB,eAAe,MAAK,cAAc;AACpF,gBAAI;AACA,kBAAI,MAAK,YAAY,eAAe;AAChC,2BAAW;qBACR;AACH,2BAAW,KAAK,UAAU;;qBAEzB,GAAP;AACE,yBAAW,aAAa,YAAY,KAAK,aAAa,cAAc,EAAE,UAAU;AAChF,sBAAQ,KAAK,UAAU,QAAQ;;;AAIvC,cAAI,SAAS,SAAS,UAAU,GAAG,MAAK;;AAE5C,eAAO;;AAQG,YAAA,8BAAd,SAA0C,QAAyB,YAAkB;AACjF,YAAI,kBAAkB,UAAU,OAAO,UAAU,OAAO,OAAO;AAC/D,YAAI,CAAC,mBAAmB,gBAAgB,UAAU,KAAK,CAAC,YAAY;AAChE,iBAAO;;AAGX,iBAAS,IAAI,GAAG,IAAI,gBAAgB,QAAQ,KAAK;AAC7C,cAAI,QAAQ,IAAI,OAAO,gBAAgB,GAAG,QAAQ,OAAM,KAAM,QAAQ,OAAM;AAC5E,cAAI,MAAM,KAAK,IAAI,MAAM,YAAY,WAAW;AAC5C,mBAAO;;;AAIf,eAAO;;AAGG,YAAA,8BAAd,SAA0C,UAAoD,KAAW;AACrG,YAAM,iBAAiB,SAAS,WAAW,SAAS,QAAQ,uBAAuB;AACnF,YAAI,gBAAgB;AAChB,cAAM,YAAY,eAAe,MAAM;AACvC,mBAAQ,IAAI,GAAG,IAAI,UAAU,QAAQ,EAAE,GAAG;AACtC,gBAAM,WAAW,UAAU,GAAG,MAAM;AACpC,gBAAI,SAAS,UAAU,KAAK,SAAS,MAAM,KAAK;AAC5C,qBAAO,SAAS;;;;;AAiBlB,YAAA,cAAd,SACI,QACA,YACA,gBACA,iBAAoD;AAEpD,YAAI,cAAc,WAAW,QAAQ,UAAU,GAAG;AAC9C,uBAAa,WAAW;;AAG5B,YAAI,mBAAmB,IAAI,MAAM;AACjC,YAAI,UAAO,SAAA,IAAO,gBAAc,EAC5B,MAAM,iBAAiB,UACvB,MAAM,iBAAiB,MACvB,MAAM,iBAAiB;AAG3B,YAAI,WAAmB;AAEvB,YAAI,iBAAiB,aAAa,UAAU;AACxC,qBAAW,OAAO,iBAAiB;;AAEvC,YAAI,iBAAiB,aAAa,SAAS;AACvC,qBAAW,OAAO,gBAAgB;;AAGtC,YAAI,UAAU;AACV,cAAI,SAAS,QAAQ,UAAU,GAAG;AAC9B,uBAAW,UAAU;;AAEzB,cAAI,iBAAiB,IAAI,MAAM;AAG/B,cAAI,eAAe,aAAa,UAAU;AACtC,oBAAQ,KAAK;AACb,uBAAW;iBACR;AACH,sBAAO,SAAA,IAAO,SAAO,EACjB,MAAM,eAAe,UACrB,MAAM,eAAe,QAAQ,MAC7B,MAAM,YACN,SAAO,SAAA,IAAM,QAAQ,SAAO,EACxB,MAAM,iBAAiB;;;AAMvC,YAAI,UAAU,iBAAiB,aAAa,YAAY,CAAC;AAEzD,YAAI,WAAW,OAAO,eAAe,QAAW;AAC5C,kBAAQ,QAAQ,OAAO;mBAChB,CAAC,WAAW,OAAO,cAAc,QAAW;AACnD,kBAAQ,QAAQ,OAAO;mBAChB,SAAS;AAEhB,kBAAQ,QAAQ,MAAK;;AAGzB,YAAI,SAAS;AACT,iBAAO,MAAM,QAAa,SAAS;eAChC;AACH,iBAAO,KAAK,QAAa,SAAS;;;AAGzC;AAKa,YAAA,+BAAd,SAA2C,QAAyB,SAAmD,mBAAsB;AACzI,YAAI;AACJ,YAAI,OAAO,sBAAsB,UAAU;AACvC,mBAAS;mBACF,6BAA6B,OAAO;AAC3C,mBAAS,kBAAkB,KAAK;mBACzB,qBAAqB,OAAQ,kBAA0B,aAAa,YAAY;AAEvF,cAAI;AACA,qBAAU,kBAA0B;mBAC/B,KAAP;AACE,oBAAQ,KAAK,2FAA2F,KAAK;;;AAIrH,YAAI,QAAQ;AACR,gBAAK,iCAAiC,QAAQ,SAAS;eACpD;AACH,kBAAQ,UACJ,uBAAuB,sBACpB,uBAAuB,0BAAuB,MAAI,OAAO,OAAO;;;AAIhE,YAAA,mCAAf,SAAgD,QAAyB,UAAoD,mBAAyB;AAClJ,YAAM,aAAa,kBAAkB,MAAM;AAC3C,YAAM,MAAS,uBAAuB,0BAAuB;AAC7D,YAAM,QAAQ,WAAW,KAAK,SAAA,OAAK;AAAI,iBAAA,MAAM,UAAU,GAAE,IAAI,YAAY;;AAEzE,YAAI,CAAC,OAAO;AACR,mBAAS,UACL,uBAAuB,sBACpB,oBAAiB,MAAI,uBAAuB,0BAAuB,MAAI,OAAO,OAAO;;;AA1WtF,YAAA,sBAAsB;AACtB,YAAA,qBAAkC,IAAI,MAAM,MAAW;QACjE,eAAe,UAAU,kBAAkB,UAAU,kBACjD,UAAU,kBAAkB,UAAU;;AA0WlD,aAAA;;AACA,YAAA,UAAS;;;;;;;;ACtXT,QAAA,gBAAA,WAAA;AAAA,gCAAA;;AAWW,qBAAA,UAAA,SAAP,WAAA;AACI,eAAO,KAAK;;AAGN,qBAAA,UAAA,gBAAV,WAAA;AACI,aAAK,YAAY,CAAC,IAAI;;AAGhB,qBAAA,UAAA,aAAV,SAAqB,QAAgB,OAAqB;AACtD,YAAI,UAAU,CAAC,IAAI;AACnB,aAAK,WAAW,UAAU,KAAK;AAC/B,aAAK,aAAa;AAElB,YAAI,aAAsC,KAAK,cAAc;AAC7D,YAAI,OAAO;AACP,cAAI,OAAO,UAAU,UAAU;AAC3B,uBAAW,WAAW;qBACf,iBAAiB,OAAO;AAC/B,uBAAW,WAAW,MAAM;qBACrB,OAAO,UAAU,UAAU;AAClC,qBAAS,OAAY,OAAO;AACxB,yBAAW,OAAa,MAAO,QAAc,MAAO,KAAK,YAAkB,MAAO,KAAK;;;;AAKnG,aAAK,aAAa;;AAGZ,qBAAA,UAAA,aAAV,WAAA;AACI,eAAQ,IAAI,KAAK,cAAgB,KAAK,aAAa;;AAE3D,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AC7CT,QAAA,OAAA;AACA,QAAA,UAAA;AAGA,QAAA,uBAAA,WAAA;AAAA,uCAAA;;AAckB,4BAAA,qBAAd,SAAiC,QAAgB,UAAyC;AAItF,YAAM,iBAAoB,OAAO,uBAAoB,mBAAiB,OAAO,qBAAkB;AAE/F,YAAI,sBAAqB,iBAAiB,eAAe,iBAAiB;AACtE,mBAAS,sBAAqB,iBAAiB;AAC/C;mBACO,sBAAqB,eAAe,iBAAiB;AAC5D,gCAAqB,eAAe,gBAAgB,KAAK;AACzD;;AAGJ,8BAAqB,eAAe,kBAAkB,CAAC;AAEvD,YAAM,aAAa,WAAA;AACf,cAAI,CAAC,sBAAqB,eAAe,iBAAiB;AAEtD;;AAGJ,cAAM,iBAAiB;YACnB,QAAQ;YAGR,kCAAkC;;AAGtC,kBAAQ,KAAK,sBAAqB,KAAK;AACvC,cAAM,MAAM,KAAK,YAAY,QAAQ,gBAAgB,gBAAgB,SAAC,KAAG;AACrE,gBAAI,IAAI,eAAe,KAAK;AAExB,kBAAI,UAAQ;AACZ,kBAAI,YAAY;AAChB,kBAAI,GAAG,QAAQ,SAAC,MAAS;AACrB,2BAAS;;AAEb,kBAAI,GAAG,OAAO,WAAA;AACV,wBAAQ,KAAK,sBAAqB,KAAK;AACvC,oBAAM,SAAS,sBAAqB,sBAAsB;AAC1D,sCAAqB,iBAAiB,kBAAkB;AACxD,oBAAI,sBAAqB,eAAe,iBAAiB;AACrD,wCAAqB,eAAe,gBAAgB,QAAQ,SAAC,IAAE;AAAK,2BAAA,GAAG;;;AAE3E,uBAAO,sBAAqB,eAAe;;uBAExC,IAAI,cAAc,OAAO,IAAI,aAAa,KAAK;AAEtD,oCAAqB,iBAAiB,kBAAkB;AACxD,qBAAO,sBAAqB,eAAe;mBACxC;AAEH,yBAAW,YAAY,OAAO;;;AAGtC,cAAI,KAAK;AACL,gBAAI,GAAG,SAAS,SAAC,OAAY;AAGzB,sBAAQ,KAAK,sBAAqB,KAAK;;AAE3C,gBAAI;;;AAGZ,mBAAW,YAAY;;AAGb,4BAAA,2BAAd,SAAuC,QAAgB,UAAyC;AAC5F,YAAM,iBAAoB,OAAO,uBAAoB,mBAAiB,OAAO,qBAAkB;AAC/F,YAAM,iBAAiB,sBAAqB,eAAe;AAC3D,YAAI,gBAAgB;AAChB,gCAAqB,eAAe,kBAAkB,eAAe,OAAO,SAAC,IAAE;AAAK,mBAAA,MAAM;;AAC1F,cAAI,sBAAqB,eAAe,gBAAgB,UAAU,GAAG;AACjE,mBAAO,sBAAqB,eAAe;;;;AASzC,4BAAA,oBAAd,SAAgC,UAAgB;AAC5C,YAAI,UAAU;AACV,qBAAW,SAAS,MAAM,MAAM,WAAW,MAAM;AACjD,cAAI,SAAS,SAAS,SAAQ,OAAO,KAAK;AACtC,wBAAY;;AAGhB,cAAM,SAAU,uBAAqB,iBAAiB,SAAS;AAE/D,iBAAO,sBAAqB,aAAa,UAAU,QAAQ;eACxD;AACH,iBAAO,sBAAqB;;;AAStB,4BAAA,YAAd,SAAwB,IAAU;AAC9B,YAAI,WAAW,GAAG,QAAQ;AAC1B,YAAI,WAAW,GAAG;AACd,qBAAW,GAAG;;AAGlB,YAAM,aAAa,GAAG,OAAO,MAAM,IAAI;AACvC,eAAO,GAAG,UAAU,YAAY;;AAGrB,4BAAA,iBAAf,WAAA;AACI,eAAO,MAAM,KAAK,eAAe;;AAGtB,4BAAA,eAAf,SAA4B,UAAkB,QAAgB,WAAiB;AAC3E,YAAI,SAAS,SAAS,OAAO,SAAS,sBAAqB,oBAAoB;AAC3E,iBAAO,WAAW,SAAS;;AAM/B,YAAI,eAAe,sBAAqB,qBAAqB;AAC7D,YAAI,SAAS,SAAS,cAAc;AAChC,iBAAM,eAAe,GAAG,EAAE,cAAc;AACpC,gBAAM,IAAI,SAAS,eAAa;AAChC,gBAAI,MAAM,OAAO,MAAM,KAAK;AACxB;;;;AAKZ,YAAI,gBAAgB,GAAG;AAEnB,iBAAO,sBAAqB;;AAGhC,iBAAS,KAAK,YAAY,SAAS;AACnC,eAAO,OAAO,SAAS,GAAG;AACtB,mBAAS,MAAM;;AAEnB,eAAO,SAAS,UAAU,GAAE,gBAAgB,SAAS;;AA7J1C,4BAAA,MAAM;AACP,4BAAA,sBAAsB;AAEtB,4BAAA,aAAa;AAIZ,4BAAA,iBAA8C;AAC9C,4BAAA,mBAA4C;AAE5C,4BAAA,qBAAqB;AACrB,4BAAA,gBAAgB,KAAK;AAoJxC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACxKT,QAAA,MAAA,QAAA;AAEA,QAAA,YAAA;AAGA,QAAA,OAAA;AACA,QAAA,yBAAA;AACA,QAAA,gBAAA;AACA,QAAA,uBAAA;AAKA,QAAA,uBAAA,SAAA,QAAA;AAAmC,gBAAA,uBAAA;AAG/B,qCAAY,gBAAqE,SAA2B;AAA5G,YAAA,QACI,OAAA,KAAA,SAAO;AACP,YAAI,WAAiB,QAAS,UAAU,gBAAgB;AAEpD,gBAAK,SAAe,QAAS;AAE7B,gBAAK,MAAM,sBAAqB,0BAA0B,gBAAgB;AAC1E,gBAAK,YAAY,CAAC,IAAI;;;;AAOvB,4BAAA,UAAA,UAAP,SAAe,OAAY;AACvB,aAAK,WAAW,QAAW;;AAMxB,4BAAA,UAAA,aAAP,SAAkB,UAA6B;AAC3C,aAAK,WAAW,SAAS,YAAY;AACrC,aAAK,gBAAgB,KAAK,4BAA4B,UAAU,uBAAuB;;AAMpF,4BAAA,UAAA,yBAAP,SAA8B,eAAqC,cAAqB;AACpF,YAAI,YAAY,IAAI,MAAM,KAAK;AAC/B,kBAAU,SAAS;AACnB,kBAAU,OAAO;AACjB,YAAI,iBAAiB,KAAK,OAAO,gBAAgB,MAAM,UAAU;AAGjE,YAAI,uBAAuB,UAAU,8BAA8B;AAEnE,YAAI,yBAAyB,UAAU;AACvC,YAAI,KAAK,eAAe;AACpB,iCAAuB,UAAU,8BAA8B;AAC/D,cAAI,KAAK,kBAAkB,qBAAqB,qBAAqB;AACjE,qCAAyB,UAAU,WAAW,QAAQ,KAAK;;eAE5D;AACH,iCAAuB,UAAU,8BAA8B;;AAGnE,YAAI,UAAU,MAAM;AAChB,oCAA0B,MAAM,UAAU;;AAG9C,YAAI,sBAA4E;UAC5E,IAAI;UACJ,MAAM;UACN,MAAM,KAAK;UACX,UAAU,KAAK;UACf,SAAS,KAAK;UACd,YAAY,KAAK,aAAa,KAAK,WAAW,aAAa;UAC3D,YAAY,KAAK,cAAc;UAC/B,oBAAoB;UACpB,QAAQ;;AAMZ,YAAI,eAAe;AAEf,mBAAS,OAAO,eAAe;AAC3B,gBAAI,CAAO,oBAAqB,MAAM;AAC5B,kCAAqB,OAAa,cAAe;;;AAI/D,cAAI,cAAc,YAAY;AAC1B,qBAAS,OAAO,cAAc,YAAY;AACtC,kCAAoB,WAAW,OAAO,cAAc,WAAW;;;;AAK3E,eAAO;;AAOI,4BAAA,4BAAf,SAAyC,SAAc,SAA2B;AAC9E,YAAI,OAAO,YAAY,UAAU;AAC7B,oBAAU,IAAI,MAAM;eACjB;AAEH,cAAI,oBAAkB;AACtB,oBAAU;AACV,cAAI,mBAAiB;AACjB,mBAAO,KAAK,mBAAiB,QAAQ,SAAA,KAAG;AACpC,sBAAQ,OAAO,kBAAgB;;;;AAO3C,YAAI,QAAQ,MAAM;AACd,cAAM,cAAc,IAAI,MAAM,QAAQ;AACtC,kBAAQ,WAAW,YAAY;AAC/B,kBAAQ,SAAS,YAAY;;AAQjC,YAAI,QAAQ,QAAQ,QAAQ,MAAM;AAG9B,cAAM,aAAa,IAAI,MAAM,YAAU,QAAQ;AAC/C,cAAI,CAAC,WAAW,QAAQ,QAAQ,MAAM;AAClC,oBAAQ,WAAW,QAAQ;AAC3B,mBAAO,QAAQ;;;AAKvB,gBAAQ,WAAW,QAAQ,YAAmB,QAAS,SAAe,QAAS,MAAM,YAAa;AAClG,gBAAQ,WAAW,QAAQ,YAAY;AAEvC,eAAO,IAAI,OAAO;;AAE1B,aAAA;MAvImC;AAyInC,YAAA,UAAS;;;;;;;;ACxJT,QAAA,OAAA;AACA,QAAA,uBAAA;AAOA,QAAA,cAAA,WAAA;AAWI,4BAAY,aAAsB,UAAiB;AAJ5C,aAAA,YAAoB,aAAY;AAEhC,aAAA,UAAkB,aAAY;AAGjC,YAAI,eAAe,OAAO,gBAAgB,UAAU;AAEhD,cAAI,YAAY,MAAM,KAAK,SAAS,GAAG;AACnC,iBAAK,UAAU,KAAK;AACpB,iBAAK,SAAS,KAAK,aAAa,OAAO,GAAG;iBACvC;AACH,gBAAM,iBAAiB,YAAY,OAAO,MAAM;AAChD,gBAAM,MAAM,eAAe;AAC3B,gBAAI,OAAO,GAAG;AACV,mBAAK,UAAU,eAAe;AAC9B,mBAAK,UAAU,eAAe;AAC9B,mBAAK,SAAS,eAAe;AAC7B,mBAAK,YAAY,eAAe;mBAC7B;AACH,mBAAK,UAAU,KAAK;AACpB,mBAAK,SAAS,KAAK,aAAa,OAAO,GAAG;;AAI9C,gBAAI,CAAC,KAAK,QAAQ,MAAM,mBAAmB;AACvC,mBAAK,UAAU,aAAY;AAC3B,mBAAK,UAAU,KAAK;;AAExB,gBAAI,KAAK,YAAY,QAAQ,QAAQ,GAAG;AACpC,mBAAK,UAAU,KAAK;AACpB,mBAAK,SAAS,KAAK,aAAa,OAAO,GAAG;;AAE9C,gBAAI,KAAK,YAAY,MAAM;AACvB,mBAAK,UAAU,aAAY;AAC3B,mBAAK,UAAU,KAAK;AACpB,mBAAK,SAAS,KAAK,aAAa,OAAO,GAAG;;AAE9C,gBAAI,CAAC,KAAK,QAAQ,MAAM,iBAAiB;AACrC,mBAAK,UAAU,aAAY;;AAI/B,gBAAI,CAAC,KAAK,UAAU,MAAM,mBAAmB;AACzC,mBAAK,YAAY,aAAY;AAC7B,mBAAK,UAAU,KAAK;;AAIxB,gBAAI,CAAC,aAAY,eAAe,KAAK,UAAU;AAC3C,mBAAK,UAAU,KAAK;;AAIxB,gBAAI,CAAC,aAAY,cAAc,KAAK,SAAS;AACzC,mBAAK,SAAS,KAAK,aAAa,OAAO,GAAG;AAC1C,mBAAK,UAAU,KAAK;;AAIxB,iBAAK,WAAW,KAAK;;mBAElB,UAAU;AAEjB,eAAK,WAAW,SAAS;AACzB,cAAI,cAAc,qBAAqB,UAAU;AACjD,cAAI,CAAC,aAAY,eAAe,cAAc;AAC1C,iBAAK,eAAe;AACpB,0BAAc,KAAK;;AAEvB,cAAI,SAAS,QAAQ,SAAS,IAAI;AAC9B,uBAAW,SAAS,UAAU,IAAI,SAAS,UAAU,GAAG,SAAS,SAAS,GAAG,YAAY,MAAM,SAAS,SAAS;;AAErH,eAAK,UAAU;AACf,eAAK,SAAS;eACX;AAGH,eAAK,UAAU,KAAK;AACpB,eAAK,SAAS,KAAK,aAAa,OAAO,GAAG;;;AAKpC,mBAAA,iBAAd,SAA6B,IAAU;AACnC,eAAO,GAAG,MAAM,qBAAqB,OAAO;;AAGlC,mBAAA,gBAAd,SAA4B,IAAU;AAClC,eAAO,GAAG,MAAM,qBAAqB,OAAO;;AAGzC,mBAAA,UAAA,yBAAP,WAAA;AACI,eAAO,MAAI,KAAK,UAAO,MAAI,KAAK,SAAM;;AAGnC,mBAAA,UAAA,WAAP,WAAA;AACI,eAAU,KAAK,UAAO,MAAI,KAAK,UAAO,MAAI,KAAK,SAAM,MAAI,KAAK;;AAG3D,mBAAA,UAAA,eAAP,WAAA;AACI,aAAK,SAAS,KAAK,aAAa,OAAO,GAAG;;AA1G/B,mBAAA,qBAAqB;AACrB,mBAAA,kBAAkB;AA2GrC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;ACpHT,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEpB,YAAA,aAAa,SAAC,OAAyC;AAChE,UAAI,MAAM,KAAK,MAAM,gBAAgB,YAAY;;AAGjD,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAM,SAAU,MAAM,KAAK,eAAe,MAAM,KAAK,YAAY,gBAAiB;AAClF,eAAO,gBACH;UACI,QAAQ;UACR,MAAM,MAAM,KAAK,MAAM;UACvB,MAAM,MAAM,KAAK,MAAM;UACvB,UAAU,MAAM,KAAK,MAAM;UAC3B,SAAS,MAAM,KAAK;UAEpB,YAAY,MAAM,KAAK,YAAY,MAAM;UACzC,oBAAoB;;;;AAKpC,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAA8B,WAAW,QAAA;;AACpD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,WAAW,QAAA;;;;AAT3C,YAAA,SAAA;;;;;;;;;AC1BA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEpB,YAAA,aAAa,SAAC,OAAuC;AAC9D,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAM,WAAW,MAAM,KAAK,SAAS;AACrC,YAAM,YAAY,SAAS,OAAO;AAClC,YAAM,UAAU,CAAC,MAAM,KAAK;AAE5B,YAAM,aAAa,SAAS,eAAe;AAC3C,YAAM,mBAAmB,WAAW,UAAU;AAC9C,YAAM,SAAS,iBAAiB,aAAa,iBAAiB,aAAgB,kBAAiB,QAAQ,eAAW,MAAI,iBAAiB;AACvI,eAAO,gBACH;UACI,QAAQ;UACR,MAAM;UACN,MAAM;UACN,UAAU,MAAM,KAAK;UACrB;UAEA,YAAY,UAAS,MAAK;UAC1B,oBAAoB;;;;AAKpC,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAA4B,SAAS,QAAA;;AAChD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,SAAS,QAAA;;;;AATzC,YAAA,SAAA;;;;;;;;;AC7BA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEpB,YAAA,aAAa,SAAC,OAAuC;AAC9D,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAI,MAAM,KAAK,WAAW,YAAY,QAAQ;AAE1C;;AAEJ,eAAO,gBACH;UACI,QAAQ,MAAM,KAAK;UACnB,MAAM,MAAM,KAAK,WAAW;UAC5B,MAAM,MAAM,KAAK,WAAW;UAC5B,UAAU,MAAM,KAAK;UACrB,SAAS,CAAC,MAAM,KAAK;UAErB,YAAY,MAAM,KAAK,MAAM,MAAM;UACnC,oBAAoB;;;;AAMpC,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAA4B,SAAS,QAAA;;AAChD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,SAAS,QAAA;;;;AATzC,YAAA,SAAA;;;;;;;;;AC3BA,QAAA,uBAAA;AAIA,QAAI,UAA6B;AAEpB,YAAA,aAAa,SAAC,OAAuC;AAC9D,cAAQ,QAAQ,SAAC,QAAM;AACnB,YAAM,IAAI,MAAM,KAAK;AACrB,YAAM,MAAO,EAAE,cAAc,EAAE,WAAW,QAAS,EAAE,QAAQ,EAAE,QAAQ;AACvE,YAAM,UAAU,CAAC,MAAM,KAAK;AAC5B,YAAM,OAAU,MAAM,KAAK,SAAS,OAAI,MAAI,MAAM,KAAK,SAAS;AAChE,eAAO,gBAAgB;UACnB,QAAQ;UACR,MAAM;UACN,MAAM;UACN,UAAU,MAAM,KAAK;UACrB;UACA,YAAY,UAAU,MAAM;UAC5B,oBAAoB;;;;AAIhC,oBAAuB,SAAkB,QAAuB;AAC5D,UAAI,SAAS;AACT,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,UAA4B,YAAY,QAAA;;AACnD;AACD,gBAAQ,KAAK;aACV;AACH,kBAAU,QAAQ,OAAO,SAAC,GAAC;AAAK,iBAAA,KAAK;;AACrC,YAAI,QAAQ,WAAW,GAAG;AACtB,+BAAA,QAAQ,YAAY,YAAY,QAAA;;;;AAT5C,YAAA,SAAA;;;;;;;;AC1BA,QAAA,OAAA,QAAA;AACA,QAAA,QAAA,QAAA;AAKA,QAAA,UAAA;AACA,QAAA,OAAA;AACA,QAAA,yBAAA;AACA,QAAA,uBAAA;AACA,QAAA,8BAAA;AACA,QAAA,uBAAA;AACA,QAAA,cAAA;AAEA,QAAA,cAAA;AAEA,QAAA,8BAAA,WAAA;AAYI,4CAAY,QAAuB;AAC/B,YAAI,CAAC,CAAC,6BAA4B,UAAU;AACxC,gBAAM,IAAI,MAAM;;AAGpB,qCAA4B,WAAW;AACvC,aAAK,UAAU;;AAGZ,mCAAA,UAAA,SAAP,SAAc,WAAkB;AAC5B,aAAK,aAAa;AAClB,YAAI,KAAK,cAAc,CAAC,KAAK,gBAAgB;AACzC,eAAK;;AAET,YAAI,YAAY,eAAe;AAC3B,gCAA4C,OAAO,WAAW,KAAK;AACnE,8BAA0C,OAAO,WAAW,KAAK;AACjE,8BAA0C,OAAO,WAAW,KAAK;AACjE,iCAA6C,OAAO,WAAW,KAAK;;;AAIrE,mCAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGR,mCAAA,UAAA,cAAR,WAAA;AAAA,YAAA,QAAA;AACI,aAAK,iBAAiB;AAEtB,YAAM,cAAc,KAAK;AACzB,YAAM,kBAAkB,KAAK;AAC7B,YAAM,uBAAuB,MAAM;AAEnC,YAAM,qBAAqB,SAAC,SAA6B,SAAmD;AACxG,cAAI,gBAAgB,CAAO,QAAS,6BAA4B,mCAC5D,CAAO,QAAS,6BAA4B;AAE1C,kBAAS,6BAA4B,4BAA4B;AAEvE,cAAI,WAAW,WAAW,eAAe;AACrC,wCAAA,0BAA0B,YAAY;AACtC,yCAA4B,aAAa,MAAK,SAAS,EAAC,SAAkB;;;AAQlF,aAAK,UAAU,SAAC,SAAO;AAAE,cAAA,cAAA;mBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAqB;AAArB,wBAAA,KAAA,KAAA,UAAA;;AACrB,cAAM,UAA8B,gBAAgB,KAAI,MAApB,iBAAe,CAAM,MAAM,SAAO,OAAK;AAC3E,6BAAmB,SAAS;AAC5B,iBAAO;;AAGX,cAAM,UAAU,SAAC,SAAO;AAAE,cAAA,cAAA;mBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAqB;AAArB,wBAAA,KAAA,KAAA,UAAA;;AACtB,cAAM,UAA8B,qBAAqB,KAAI,MAAzB,sBAAoB,CAAM,OAAO,SAAO,OAAK;AACjF,6BAAmB,SAAS;AAC5B,iBAAO;;AAOX,aAAK,MAAM,SAAC,SAAO;AAAE,cAAA,cAAA;mBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAqB;AAArB,wBAAA,KAAA,KAAA,UAAA;;AACjB,cAAM,UAA8B,MAAA,KAAK,SAAQ,KAAI,MAAA,IAAA,CAAC,MAAM,SAAO,OAAK;AACxE,kBAAQ;AACR,iBAAO;;;AAEX,cAAM,MAAM,SAAC,SAAO;AAAE,cAAA,cAAA;mBAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAqB;AAArB,wBAAA,KAAA,KAAA,UAAA;;AAClB,cAAM,UAA8B,MAAA,MAAM,SAAQ,KAAI,MAAA,IAAA,CAAC,OAAO,SAAO,OAAK;AAC1E,kBAAQ;AACR,iBAAO;;;;AAQD,mCAAA,eAAd,SAA2B,QAAyB,YAAgD;AAChG,YAAI,CAAC,WAAU,WAAW,CAAC,WAAU,WAAW,CAAC,QAAQ;AACrD,kBAAQ,KAAK,iFAAiF,CAAC,WAAU,SAAS,CAAC,WAAU,SAAS,CAAC;AACvI;;AAGJ,YAAI,gBAAgB,IAAI,qBAAqB,WAAU,SAAS,WAAU;AAE1E,YAAM,iBAAiB,4BAAA,0BAA0B;AACjD,YAAI;AACJ,YAAI;AACJ,YAAI,kBAAkB,eAAe,aAAa,eAAe,UAAU,eAAe,YAAY,eAAe,eAAe,UAAU,YAAY,UAAU;AAChK,yBAAe,UAAU,YAAY;AACrC,4BAAkB,eAAe,UAAU,YAAY;mBAChD,qBAAqB,YAAY;AAExC,cAAM,cAAc,IAAI;AACxB,8BAAoB,YAAY;AAChC,4BAAkB,YAAY;eAC3B;AACH,4BAAkB,kBAAkB,eAAe,aAAc,eAAe,UAAU,WAAW,6BAA4B,kBAAkB;;AAOvJ,YAAI,KAAK,4BAA4B,QAAQ,cAAc,aAAa,WAAU,QAAQ,aAAa,WAAU,QAAQ,WAAW;AAChI,cAAI,OAAO,UAAU,OAAO,OAAO,eAAe;AAE9C,gBAAM,oBAAyB,WAAU,QAAQ,UAAU,uBAAuB;AAClF,gBAAI;AACA,mBAAK,6BAA6B,QAAQ,WAAU,SAAS;qBACxD,KAAP;AACE,sBAAQ,KAAK,gFAAgF;;AAGjG,gBAAI,kBAAkB,eAAe,WAAW;AAC5C,kBAAI;AACA,2BAAU,QAAQ,UAAU,uBAAuB,iBAAiB;AAEpE,2BAAU,QAAQ,UAAU,uBAAuB,gBAAgB,eAAe,UAAU;AAC5F,2BAAU,QAAQ,UAAU,uBAAuB,cAAc;AAGjE,oBAAI,qBAAqB,eAAe,UAAU,aAAa;AAC3D,6BAAU,QAAQ,UAAU,uBAAuB,mBAAmB,qBAAqB,eAAe,UAAU,YAAY;2BACzH,qBAAqB,YAAY;AAExC,sBAAM,cAAc,IAAI,cAAc;AACtC,6BAAU,QAAQ,UAAU,uBAAuB,mBAAmB;;AAE1E,oBAAI,eAAe,UAAU,YAAY;AACrC,sBAAM,aAAa,eAAe,UAAU,WAAW;AACvD,sBAAI,YAAY;AACZ,+BAAU,QAAQ,UAAU,uBAAuB,kBAAkB;;;AAI7E,oBAAM,2BAAqD,eAAe,iBAAkB;AAC5F,oBAAI,0BAA0B;AAC1B,6BAAU,QAAQ,UAAU,uBAAuB,0BAA0B;;uBAE5E,KAAP;AACE,wBAAQ,KAAK,8EAA8E;;;;;AAO3G,YAAI,WAAU,QAAQ,IAAI;AACtB,qBAAU,QAAQ,GAAG,YAAY,SAAC,UAA6B;AAC3D,0BAAc,WAAW;AAEzB,gBAAI,sBAAsB,cAAc,uBAAuB,YAAW;AAE1E,gCAAoB,iBAAiB,oBAAoB,kBAAkB;AAC3E,gCAAoB,eAAe,yBAAyB,WAAU;AACtE,gCAAoB,eAAe,wBAAwB,WAAU;AACrE,gCAAoB,eAAe,yBAAyB;AAE5D,mBAAO,gBAAgB;;AAE3B,qBAAU,QAAQ,GAAG,SAAS,SAAC,GAAQ;AACnC,0BAAc,QAAQ;AAEtB,gBAAI,sBAAsB,cAAc,uBAAuB,YAAW;AAE1E,gCAAoB,iBAAiB,oBAAoB,kBAAkB;AAC3E,gCAAoB,eAAe,yBAAyB,WAAU;AACtE,gCAAoB,eAAe,wBAAwB,WAAU;AACrE,gCAAoB,eAAe,WAAW;AAE9C,mBAAO,gBAAgB;;;;AAK5B,mCAAA,UAAA,UAAP,WAAA;AACI,qCAA4B,WAAW;AACvC,aAAK,OAAO;AACZ,aAAK,iBAAiB;;AAlMZ,mCAAA,iCAAiC;AAIhC,mCAAA,gBAAgB;AAChB,mCAAA,2BAA2B;AA+L9C,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AClNT,QAAA,aAAA,WAAA;AAMI,2BAAY,IAAW;AAHhB,aAAA,WAAqB;AAIxB,YAAI,CAAC,IAAI;AACL;;AAEJ,aAAK,WAAW,KAAK,YAAY;;AAG9B,kBAAA,UAAA,WAAP,WAAA;AACI,YAAM,WAAW,KAAK;AAEtB,YAAI,CAAC,YAAY,SAAS,UAAU,GAAG;AACnC,iBAAO;;AAGX,eAAO,SAAS,KAAK;;AAGV,kBAAA,mBAAf,SAAgC,KAAW;AACvC,YAAM,WAAW,IAAI,MAAM;AAC3B,YAAI,SAAS,UAAU,GAAG;AAEtB,cAAM,SAAS,SAAS,GAAG;AAC3B,cAAM,SAAS,SAAS,GAAG;AAC3B,cAAM,cAAc,QAAQ,OAAO,MAAM;AACzC,cAAM,cAAc,QAAQ,OAAO,MAAM;AACzC,iBAAO,eAAe;mBACf,SAAS,UAAU,GAAG;AAE7B,iBAAO,QAAQ,IAAI,MAAM;;AAG7B,eAAO;;AAGH,kBAAA,UAAA,cAAR,SAAoB,IAAU;AAC1B,YAAM,MAAgB;AACtB,YAAM,aAAuC;AAC7C,YAAM,QAAQ,GAAG,MAAM;AACvB,YAAI,MAAM,SAAS;AAAI,iBAAO;AAC9B,iBAAoB,KAAA,GAAA,UAAA,OAAA,KAAA,QAAA,QAAA,MAAK;AAApB,cAAI,UAAO,QAAA;AACZ,cAAM,OAAO,QAAQ;AACrB,cAAI,KAAK,WAAW,GAAG;AACnB;;AAGJ,cAAM,OAAO,KAAK,MAAM;AAExB,cAAI,KAAK,WAAW,GAAG;AACnB,mBAAO;;AAIX,cAAI,CAAC,YAAW,iBAAiB,KAAK,KAAK;AACvC,mBAAO;;AAIX,cAAI,WAAW,KAAK,KAAK;AACrB,mBAAO;iBACJ;AACH,uBAAW,KAAK,MAAM;;AAI1B,cAAI,KAAK;;AAGb,eAAO;;AAxEG,kBAAA,SAAS;AA0E3B,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACjFT,QAAA,MAAA,QAAA;AAGA,QAAA,YAAA;AAGA,QAAA,OAAA;AACA,QAAA,yBAAA;AACA,QAAA,gBAAA;AACA,QAAA,uBAAA;AACA,QAAA,aAAA;AACA,QAAA,cAAA;AAKA,QAAA,oBAAA,SAAA,QAAA;AAAgC,gBAAA,oBAAA;AAkB5B,kCAAY,SAA+B,WAAkB;AAA7D,YAAA,QACI,OAAA,KAAA,SAAO;AACP,YAAI,SAAS;AACT,gBAAK,SAAS,QAAQ;AACtB,gBAAK,MAAM,MAAK,gBAAgB;AAChC,gBAAK,YAAY,CAAC,IAAI;AACtB,gBAAK,sBAA4B,QAAS,UAAgB,QAAS,OAAO;AAC1E,gBAAK,aAAa,SAAS;AAC3B,cAAU,QAAS,YAAY;AAC3B,kBAAK,0BAAiC,QAAS,WAA0B;AACzE,kBAAK,4BAAwC,QAAS,WAAY,aAAyB,QAAS,WAAY,UAAU;;;;;AAK/H,yBAAA,UAAA,UAAP,SAAe,OAAuB,sBAA6B;AAC/D,aAAK,WAAW,QAAW;AAG3B,YAAI,sBAAsB;AACtB,eAAK,WAAW;;;AAIjB,yBAAA,UAAA,aAAP,SAAkB,UAA+B,sBAA6B;AAC1E,aAAK,WAAW,SAAS,YAAY;AAGrC,YAAI,sBAAsB;AACtB,eAAK,WAAW;;;AAIjB,yBAAA,UAAA,sBAAP,SAA2B,eAAmC;AAC1D,YAAI,mBAAsE;UACtE,IAAI,KAAK;UACT,MAAM,KAAK,SAAS,MAAM,IAAI,MAAM,KAAK,KAAK;UAC9C,KAAK,KAAK;UAKV,QAAQ,KAAK;UACb,UAAU,KAAK;UACf,YAAY,KAAK,aAAa,KAAK,WAAW,aAAa;UAC3D,SAAS,KAAK;UACd,YAAY,KAAK;;AAMrB,YAAI,eAAe;AAEf,mBAAS,OAAO,eAAe;AAC3B,gBAAI,CAAO,iBAAkB,MAAM;AACzB,+BAAkB,OAAa,cAAe;;;AAI5D,cAAI,cAAc,YAAY;AAC1B,qBAAS,OAAO,cAAc,YAAY;AACtC,+BAAiB,WAAW,OAAO,cAAc,WAAW;;;;AAKxE,eAAO;;AAGJ,yBAAA,UAAA,iBAAP,SAAsB,MAA+B;AAEjD,YAAI,UAAqC;AACzC,iBAAS,OAAO,MAAM;AAClB,kBAAQ,OAAO,KAAK;;AAIxB,gBAAQ,mBAAkB,KAAK,cAAc,KAAK,mBAAkB,KAAK,eAAe,KAAK;AAC7F,gBAAQ,mBAAkB,KAAK,aAAa,KAAK,mBAAkB,KAAK,cAAc,KAAK,OAAO;AAClG,gBAAQ,mBAAkB,KAAK,UAAU,KAAK,mBAAkB,KAAK,WAAW,KAAK,OAAO;AAC5F,gBAAQ,mBAAkB,KAAK,kBAAkB,KAAK,mBAAkB,KAAK,mBAAmB,KAAK,OAAO;AAC5G,gBAAQ,mBAAkB,KAAK,iBAAiB,KAAK,iBAAiB;AACtE,gBAAQ,mBAAkB,KAAK,qBAAqB,KAAK,qBAAqB;AAC9E,gBAAQ,mBAAkB,KAAK,eAAe,KAAK,eAAe;AAElE,eAAO;;AAGJ,yBAAA,UAAA,iBAAP,SAAsB,MAA+B;AACjD,eAAO,KAAK,mBAAkB,KAAK,gBAAgB,KAAK;;AAGrD,yBAAA,UAAA,uBAAP,SAA4B,MAA+B;AACvD,eAAO,KAAK,mBAAkB,KAAK,sBAAsB,KAAK,YAAY,KAAK,eAAe;;AAG3F,yBAAA,UAAA,mBAAP,SAAwB,MAA+B;AACnD,eAAO,KAAK,mBAAkB,KAAK,kBAAkB,KAAK,SAAS,MAAM,IAAI,MAAM,KAAK,KAAK;;AAG1F,yBAAA,UAAA,eAAP,WAAA;AACI,eAAO,KAAK;;AAGT,yBAAA,UAAA,8BAAP,WAAA;AACI,eAAO,KAAK;;AAGT,yBAAA,UAAA,iBAAP,WAAA;AACI,eAAO,KAAK;;AAGT,yBAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGT,yBAAA,UAAA,kBAAP,WAAA;AACI,eAAO,KAAK;;AAGR,yBAAA,UAAA,kBAAR,SAAwB,SAA6B;AACjD,YAAI,CAAC,QAAQ,SAAS;AAClB,iBAAO,QAAQ;;AAGnB,YAAI,YAAkB,QAAS,aAAoB,QAAS,WAAmB,YAAY;AAC3F,YAAI,aAAa,IAAI,MAAM,QAAQ;AAEnC,YAAI,WAAW,WAAW;AAC1B,YAAI,SAAS,WAAW;AAExB,YAAI,cAAc,IAAI,OAAO;UACzB,UAAU,YAAY,UAAU;UAChC,MAAM,QAAQ,QAAQ;UACtB,UAAU;UACV;;AAGJ,eAAO;;AAGH,yBAAA,UAAA,SAAR,WAAA;AAII,YAAI,UAAU;AAEd,YAAI,QAAQ,SAAC,KAAW;AACpB,cAAI,UAAU,QAAQ,KAAK;AAC3B,cAAI,SAAS;AACT,mBAAO,QAAQ;;;AAIvB,YAAI,KAAK,MAAM,KAAK,WAAW,uBACxB,MAAM,KAAK,WAAW,mBACtB,MAAM,KAAK,WAAW,iBACtB,MAAM,KAAK,4BACX,MAAM,KAAK,wBACX,MAAM,KAAK;AAGlB,YAAI,CAAC,MACE,KAAK,2BACL,KAAK,wBAAwB,UAC7B,KAAK,wBAAwB,OAAO,GAAG,OAAO,MAAM;AACvD,eAAK;;AAGT,eAAO;;AAGH,yBAAA,UAAA,SAAR,SAAe,MAAY;AACvB,YAAI,SAAU,KAAK,cAAc,KAAK,WAAW,aAC7C,OAAO,KAAK,WAAW,cAAc,YAAY,KAAK,WAAW,aAAc;AACnF,YAAI,QAAQ,mBAAkB,QAAQ,KAAK,UAAU,MAAM;AAC3D,eAAO;;AAMH,yBAAA,UAAA,oCAAR,WAAA;AAEI,aAAK,cAAc,KAAK,YAAY;AACpC,YAAI,KAAK,YAAY,cAAc;AAC/B,eAAK,eAAe,KAAK,YAAY;;AAIzC,aAAK,WAAW,KAAK,YAAY;AAGjC,aAAK,YAAY;AACjB,aAAK,YAAY,KAAK,YAAY;;AAG9B,yBAAA,UAAA,eAAR,SAAqB,SAA+B,WAAkB;AAElE,aAAK,aAAa,QAAQ,WAAiB,QAAS;AACpD,aAAK,YAAY,QAAQ,WAAW,QAAQ,QAAQ;AACpD,aAAK,sBAAsB,KAAK,4BAA4B,SAAS,uBAAuB;AAE5F,YAAI,QAAQ,SAAS;AACjB,cAAM,mBAAmB,QAAQ,QAAQ,uBAAuB;AAChE,cAAM,oBAAoB,QAAQ,QAAQ,uBAAuB;AACjE,cAAM,kBAAkB,QAAQ,QAAQ,uBAAuB;AAC/D,cAAM,kBAAkB,QAAQ,QAAQ,uBAAuB;AAC/D,cAAM,gBAAgB,QAAQ,QAAQ,uBAAuB;AAE7D,eAAK,2BAA2B,QAAQ,QAAQ,uBAAuB;AAEvE,cAAI,qBAAqB,cAAe,sBAAqB,mBAAmB;AAE5E,iBAAK,cAAc,IAAI,YAAY;AACnC,iBAAK,aAAa,qBAAqB,oBAAoB,IAAI,WAAW;AAC1E,iBAAK;qBACE,iBAAiB;AAExB,gBAAI,qBAAqB,YAAY;AACjC,mBAAK,cAAc,IAAI,YAAY,MAAM;AACzC,mBAAK;mBACF;AACH,mBAAK,WAAW;AAChB,mBAAK,YAAY,qBAAqB,kBAAkB,KAAK;AAC7D,mBAAK,cAAc,qBAAqB,UAAU,KAAK;;iBAExD;AAEH,gBAAI,qBAAqB,YAAY;AACjC,mBAAK,cAAc,IAAI;AACvB,mBAAK,YAAY,WAAW;AAC5B,mBAAK,YAAY,eAAe,iBAAiB;AACjD,mBAAK;mBACF;AACH,mBAAK,WAAW;AAChB,mBAAK,YAAY,qBAAqB,kBAAkB,iBAAiB,KAAK;AAC9E,mBAAK,2BAA2B;AAChC,mBAAK,cAAc,qBAAqB,UAAU,KAAK;;;AAI/D,cAAI,WAAW;AAGX,iBAAK,YAAY;AACjB,iBAAK,cAAc,qBAAqB,UAAU,KAAK;;;;AAKrD,yBAAA,UAAd,SAAsB,aAAmB;AACrC,YAAM,cAAc,YAAY,MAAM;AAEtC,YAAI,YAAY,SAAS,GAAG;AACxB,iBAAO,YAAY;;AAGvB,eAAO;;AApRI,yBAAA,OAAO,IAAI,UAAU;AAsRxC,aAAA;MAvRgC;AAyRhC,YAAA,UAAS;;;;;;;;AC1ST,QAAA,OAAA,QAAA;AACA,QAAA,QAAA,QAAA;AAKA,QAAA,UAAA;AACA,QAAA,OAAA;AACA,QAAA,yBAAA;AACA,QAAA,oBAAA;AACA,QAAA,8BAAA;AACA,QAAA,yBAAA;AAEA,QAAA,0BAAA,WAAA;AAWI,wCAAY,QAAuB;AAC/B,YAAI,CAAC,CAAC,yBAAwB,UAAU;AACpC,gBAAM,IAAI,MAAM;;AAGpB,iCAAwB,WAAW;AACnC,aAAK,UAAU;;AAGZ,+BAAA,UAAA,SAAP,SAAc,WAAiB;AAC3B,aAAK,aAAa;AAKlB,YAAK,MAAK,sBAAsB,KAAK,cAAc,uBAAuB,gBAAgB,CAAC,KAAK,gBAAgB;AAC5G,eAAK,mBAAmB,KAAK;AAC7B,eAAK;;;AAIN,+BAAA,UAAA,qBAAP,SAA0B,WAAmB,gBAAuB;AAChE,YAAI,aAAa,CAAC,KAAK,oBAAoB;AACvC,sCAAA,0BAA0B,OAAO;mBAC1B,CAAC,aAAa,KAAK,oBAAoB;AAC9C,sCAAA,0BAA0B;;AAE9B,aAAK,qBAAqB;;AAGvB,+BAAA,UAAA,gBAAP,WAAA;AACI,eAAO,KAAK;;AAGT,+BAAA,UAAA,oBAAP,WAAA;AACI,eAAO,KAAK;;AAGR,+BAAA,UAAA,8BAAR,SAAoC,eAA+B;AAC/D,YAAI,CAAC,KAAK,oBAAoB;AAC1B;;AAGJ,eAAO,4BAAA,0BAA0B,sBAC7B,cAAc,eAAe,KAAK,QAAQ,QAAQ,OAClD,cAAc,gBACd,cAAc,iBAAiB,KAAK,QAAQ,QAAQ,OACpD,cAAc,+BACd,cAAc,kBACd,cAAc;;AAId,+BAAA,UAAA,cAAR,WAAA;AAAA,YAAA,QAAA;AACI,aAAK,iBAAiB;AAEtB,YAAM,uBAAiC,SAAC,WAAoB;AACxD,cAAI,CAAC,WAAW;AACZ,mBAAO;;AAEX,cAAI,OAAO,cAAc,YAAY;AACjC,kBAAM,IAAI,MAAM;;AAEpB,iBAAO,SAAC,SAA4B,UAA4B;AAC5D,wCAAA,0BAA0B,YAAY;AACtC,wCAAA,0BAA0B,YAAY;AACtC,gBAAM,gBAAyB,WAAW,CAAO,QAAS,yBAAwB;AAElF,gBAAI,WAAW,eAAe;AAE1B,kBAAM,kBAAgB,IAAI,kBAAkB;AAC5C,kBAAM,qBAAqB,MAAK,4BAA4B;AAI5D,0CAAA,0BAA0B,eAAe,oBAAoB,WAAA;AACzD,oBAAI,MAAK,YAAY;AAEX,0BAAS,yBAAwB,4BAA4B;AAGnE,2CAAwB,aAAa,MAAK,SAAS,EAAC,SAAkB,YAAqB;;AAG/F,oBAAI,OAAO,cAAc,YAAY;AACjC,4BAAU,SAAS;;;mBAGxB;AACH,kBAAI,OAAO,cAAc,YAAY;AACjC,0BAAU,SAAS;;;;;AAmBnC,YAAM,yBAAmC,SAAC,QAAoC;AAC1E,cAAM,sBAAsB,OAAO,YAAY,KAAK;AACpD,iBAAO,cAAc,SAAC,WAAmB,cAAsB;AAC3D,oBAAQ;mBACC;mBACA;AACD,uBAAO,oBAAoB,WAAW,qBAAqB;;AAE3D,uBAAO,oBAAoB,WAAW;;;AAIlD,iBAAO,KAAK,OAAO;;AAGvB,YAAM,qBAAqB,KAAK;AAChC,aAAK,eAAe,SAAC,WAAS;AAE1B,cAAM,SAAsB,mBAAmB,qBAAqB;AACpE,iCAAuB;AACvB,iBAAO;;AAGX,YAAM,sBAAsB,MAAM;AAClC,cAAM,eAAe,SAAC,SAA8B,WAAoB;AACpE,cAAM,SAAuB,oBAAoB,SAAS,qBAAqB;AAC/E,iCAAuB;AACvB,iBAAO;;;AAOD,+BAAA,mBAAd,SAA+B,QAAyB,YAA6C;AACjG,YAAI,CAAC,WAAU,WAAW,CAAC,WAAU,YAAY,CAAC,QAAQ;AACtD,kBAAQ,KAAK,iFAAiF,CAAC,WAAU,SAAS,CAAC,WAAU,UAAU,CAAC;AACxI;;AAGJ,iCAAwB,+BAA+B,QAAQ,WAAU;AAGzE,YAAI,qBAAqB,4BAAA,0BAA0B;AACnD,YAAI,gBAAgB,IAAI,kBAAkB,WAAU,SAAU,sBAAsB,mBAAmB,UAAU;AAGjH,YAAI,oBAAoB;AACpB,6BAAmB,UAAU,KAAK,cAAc,eAAe,OAAO,QAAQ,SAAS,mBAAmB,UAAU;AACpH,6BAAmB,UAAU,OAAO,cAAc,iBAAiB,OAAO,QAAQ,SAAS,mBAAmB,UAAU;AACxH,6BAAmB,UAAU,WAAW,cAAc,kBAAkB,mBAAmB,UAAU;AAC3E,6BAAmB,iBAAkB,cAAc,cAAc;;AAG/F,iCAAwB,WAAW,QAAQ,eAAe,YAAW,WAAU,UAAU,WAAU;;AAMzF,+BAAA,eAAd,SAA2B,QAAyB,YAA+C,gBAAiC;AAChI,YAAI,CAAC,WAAU,WAAW,CAAC,WAAU,YAAY,CAAC,QAAQ;AACtD,kBAAQ,KAAK,6EAA6E,CAAC,WAAU,SAAS,CAAC,WAAU,UAAU,CAAC;AACpI;;AAIJ,YAAI,qBAAqB,4BAAA,0BAA0B;AACnD,YAAI,gBAAgB,kBAAkB,IAAI,kBAAkB,WAAU,SAAS,sBAAsB,mBAAmB,UAAU;AAElI,YAAI,KAAK,4BAA4B,QAAQ,cAAc,WAAW;AAClE,mCAAwB,+BAA+B,QAAQ,WAAU;;AAI7E,YAAI,sBAAsB,CAAC,gBAAgB;AACvC,6BAAmB,UAAU,KAAK,cAAc,eAAe,OAAO,QAAQ,SAAS,mBAAmB,UAAU;AACpH,6BAAmB,UAAU,OAAO,cAAc,iBAAiB,OAAO,QAAQ,SAAS,mBAAmB,UAAU;AACxH,6BAAmB,UAAU,WAAW,cAAc,qBAAqB,OAAO,QAAQ,SAAS,mBAAmB,UAAU;AACtG,6BAAmB,iBAAkB,cAAc,cAAc;;AAI/F,YAAI,WAAU,SAAS,MAAM;AACzB,qBAAU,SAAS,KAAK,UAAU,WAAA;AAC9B,qCAAwB,WAAW,QAAQ,eAAe,YAAW,MAAM;;;AAKnF,YAAI,WAAU,QAAQ,IAAI;AACtB,qBAAU,QAAQ,GAAG,SAAS,SAAC,OAAS;AACpC,qCAAwB,WAAW,QAAQ,eAAe,YAAW,MAAM;;;;AAQxE,+BAAA,iCAAf,SAA8C,QAAyB,UAA4B;AAC/F,YAAI,OAAO,UAAU,OAAO,OAAO,iBAC/B,SAAS,aAAa,SAAS,aAAa,CAAO,SAAU,aAAa;AAC1E,cAAM,oBAAyB,SAAS,UAAU,uBAAuB;AACzE,eAAK,6BAA6B,QAAQ,UAAU;;;AAI7C,+BAAA,aAAf,SAA0B,QAAyB,eAAkC,YAA+C,sBAA+B,OAAW;AAC1K,YAAI,OAAO;AACP,wBAAc,QAAQ,OAAO;eAC1B;AACH,wBAAc,WAAW,WAAU,UAAU;;AAGjD,YAAI,mBAAmB,cAAc,oBAAoB;AAEzD,yBAAiB,eAAe,cAAc,eAAe,OAAO,QAAQ;AAC5E,YAAI,WAAU,cAAc;AACxB,mBAAS,OAAO,WAAU,cAAc;AACpC,6BAAiB,aAAa,OAAO,WAAU,aAAa;;;AAIpE,YAAM,eAAe,cAAc;AACnC,YAAI,cAAc;AACd,2BAAiB,WAAW,qBAAqB;;AAGrD,yBAAiB,iBAAiB,iBAAiB,kBAAkB;AACrE,yBAAiB,eAAe,wBAAwB,WAAU;AAClE,yBAAiB,eAAe,yBAAyB,WAAU;AAEnE,eAAO,aAAa;;AAGjB,+BAAA,UAAA,UAAP,WAAA;AACK,iCAAwB,WAAW;AACnC,aAAK,OAAO;AACZ,aAAK,iBAAiB;AACtB,oCAAA,0BAA0B;AAC1B,aAAK,qBAAqB;;AAjQhB,+BAAA,2BAA2B;AAmQ9C,aAAA;;AAIA,YAAA,UAAS;;;;;;;;ACvRT,QAAA,YAAA;AAEA,QAAA,yBAAA,WAAA;AAAA,yCAAA;;AAIkB,8BAAA,QAAd,SAAoB,kBAAyB;AACzC,YAAI,CAAC,kBAAkB;AACnB,iBAAO;;AAGX,YAAM,UAAU,iBAAiB,MAAM,wBAAuB;AAE9D,YAAM,SAA2B,QAAQ,OAAO,SAAC,QAA0B,IAAU;AACjF,cAAM,UAAU,GAAG,MAAM,wBAAuB;AAEhD,cAAI,QAAQ,WAAW,GAAG;AACtB,gBAAM,MAAM,QAAQ,GAAG;AACvB,gBAAM,QAAQ,QAAQ;AACtB,mBAAO,OAAO;;AAElB,iBAAO;WACR;AAEH,YAAI,OAAO,KAAK,QAAQ,SAAS,GAAG;AAGhC,cAAI,OAAO,gBAAgB;AAEvB,gBAAM,iBAAiB,OAAO,WAAW,OAAO,WAAW,MAAM;AACjE,mBAAO,oBAAoB,OAAO,qBAAsB,aAAa,iBAAiB,QAAQ,OAAO;AACrG,mBAAO,eAAe,OAAO,gBAAiB,aAAa,iBAAiB,UAAU,OAAO;;AAIjG,iBAAO,oBAAoB,OAAO,qBAAqB,UAAU;AACjE,iBAAO,eAAe,OAAO,gBAAgB,UAAU;;AAG3D,eAAO;;AApCI,8BAAA,oBAAoB;AACpB,8BAAA,6BAA6B;AAqChD,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AC5CT,QAAA,uBAAA;AACA,QAAA,yBAAA;AACA,QAAA,YAAA;AAGA,QAAA,MAAA,QAAA;AAEA,QAAA,SAAA,WAAA;AAsDI,uBAAY,aAAoB;AAAhC,YAAA,QAAA;AAPQ,aAAA,eAAuB,UAAU;AAQrC,YAAM,sBAA0C,QAAQ,IAAI,QAAO;AACnE,YAAM,SAAS,uBAAuB,MAAM;AAC5C,YAAM,QAAQ,uBAAuB,MAAM;AAC3C,YAAM,WAAW,CAAC,OAAO,sBAAsB,OAAO,KAAK,QAAQ,SAAS,IACtE,OACA;AAEN,aAAK,qBAAqB,OAAO,sBAAsB,YAAyC,MAAM,sBAAsB,QAAO;AAEnI,aAAK,cAAiB,QAAO,qBAAqB,MAAM,qBAAqB,KAAK,gBAAY;AAC9F,aAAK,eAAe;AACpB,aAAK,qBAAqB;AAC1B,aAAK,qBAAqB;AAC1B,aAAK,qBAAqB;AAC1B,aAAK,+BAA+B,KAAK;AACzC,aAAK,mCAAmC;UACpC;UACA;UACA;UACA;UACA;UACA;;AAGJ,aAAK,mBAAmB,SAAC,eAAa;AAAK,iBAAA,MAAK,gBAAgB;;AAEhE,aAAK,eAAe,QAAQ,IAAI,QAAO,mBAAmB;AAC1D,aAAK,gBAAgB,QAAQ,IAAI,QAAO,oBAAoB;AAC5D,aAAK,YAAY;AACjB,aAAK,aAAa;AAClB,aAAK,uBAAuB,OAAO,qBAAqB,MAAM,qBAAqB,QAAQ,IAAI,QAAO,6BAA6B,KAAK;AACxI,aAAK,kBAAkB,OAAO,gBAAgB,MAAM,gBAAgB,QAAQ,IAAI,QAAO,uBAAuB,UAAU;AAExH,YAAI,KAAK,gBAAgB,MAAM,iBAAiB;AAC5C,eAAK,kBAAkB,IAAI,MAAM,KAAK,iBAAiB;;;AAI/D,aAAA,eAAW,QAAA,WAAA,wBAAoB;aAO/B,WAAA;AACI,iBAAO,KAAK;;aARhB,SAAgC,UAAgB;AAC5C,+BAAqB,yBAAyB,MAAM,KAAK;AACzD,eAAK,wBAAwB;AAC7B,eAAK,gBAAgB,qBAAqB;AAC1C,+BAAqB,mBAAmB,MAAM,KAAK;;;;;AAOvD,aAAA,eAAW,QAAA,WAAA,kBAAc;aAIzB,WAAA;AACI,iBAAO,KAAK;;aALhB,SAA0B,MAAY;AAClC,eAAK,kBAAkB;;;;;AAQZ,cAAA,yBAAf,WAAA;AAEI,YAAI,OAAO,QAAQ,IAAI,QAAO,aACvB,QAAQ,IAAI,QAAO,kBAAkB,QAAO,aAC5C,QAAQ,IAAI,QAAO,oBACnB,QAAQ,IAAI,QAAO,kBAAkB,QAAO;AACnD,YAAI,CAAC,QAAQ,QAAQ,IAAI;AACrB,gBAAM,IAAI,MAAM;;AAGpB,eAAO;;AAzHG,cAAA,kBAAkB;AAGlB,cAAA,WAAW;AACX,cAAA,kBAAkB;AAClB,cAAA,2BAA2B;AAC3B,cAAA,qBAAqB;AAGrB,cAAA,uBAAuB;AAGvB,cAAA,6BAA6B;AAC7B,cAAA,8BAA8B;AAE9B,cAAA,iBAAiB;AACjB,cAAA,kBAAkB;AA2GpC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;;;;;;;;;ACtIT,QAAA,MAAA,QAAA;AACA,QAAA,YAAA;AACA,QAAA,YAAA;AACA,QAAA,OAAA;AAGA,QAAA,UAAA;AAEA,QAAI,WAAW,KAAK;AAEpB,QAAA,4BAAA,WAAA;AAAA,4CAAA;;AAGkB,iCAAA,2BAAd,SAAuC,SAAuC,WAA2C,QAAgB,SAAgB;AACrJ,YAAM,cAAe,OAAM,OAAO,IAAG,aAAa,cAC3C,IAAG,cAAe;AACzB,YAAM,WAAY,QAAQ,QACnB,QAAQ,QACR,QAAQ,KAAK,qBACb,QAAQ,KAAK,QAAQ,KAAK,sBAAuB;AAExD,YAAI,WAAyC;UACzC,WAAW,UAAU,SAAS,IAAI,YAAY;UAC9C,oBAAoB,OAAO,sBAAsB;UACjD,SAAS,QAAQ,SAAS,IAAI,UAAU;UACxC,kBAAkB;UAClB,WAAW,WAAU,KAAK,QAAK;UAC/B,SAAS,QAAQ,KAAK,QAAQ,KAAK;UACnC;UACA,aAAa;UACb,UAAU;;AAGd,eAAO;;AAGG,iCAAA,yBAAd,SACI,YAAoC;AAEpC,YAAI;AACJ,eAAO;UACH,MAAM,WAAU;UAChB,OAAO,WAAU;UACjB,QAAQ,WAAU,SAAS;;AAE/B,eAAO;;AAGG,iCAAA,wCAAd,SAAoD,UAA4B;AAC5E,gBAAQ,SAAS,KAAK;eACb,UAAU,oBAAoB;AAC/B,mBAAO,2BAA0B,8BAA8B;eAC9D,UAAU,oBAAoB;AAC/B,mBAAO,2BAA0B,kCAAkC;eAClE,UAAU,oBAAoB;AAC/B,mBAAO,2BAA0B,8BAA8B;eAC9D,UAAU,oBAAoB;AAC/B,mBAAO,2BAA0B,mCAAmC;eACnE,UAAU,oBAAoB;AAC/B,mBAAO,2BAA0B,gCAAgC;;AAEzE,eAAO;;AAGI,iCAAA,gCAAf,SAA6C,UAA4B;AACrE,YAAM,WAAW,2BAA0B,yBAAyB;AACpE,YAAM,OAAS,SAAS,KAAa,SAAiC;AACtE,YAAM,gBAAa,SAAA,IACZ,UAAQ,EACX,MAAM;AAGV,eAAO;;AAGI,iCAAA,gCAAf,SAA6C,UAA4B;AACrE,YAAM,WAAW,2BAA0B,yBAAyB;AACpE,YAAM,gBAAkB,SAAS,KAAa,SAAmC,iBAAiB;AAClG,YAAI,gBAAa,SAAA,IACV,UAAQ,EACX,SAAW,SAAS,KAAa,SAAmC,SACpE,eAAe,UAAU,cAAc;AAG3C,eAAO;;AAGI,iCAAA,oCAAf,SAAiD,UAA4B;AACzE,YAAM,WAAW,2BAA0B,yBAAyB;AACpE,YAAM,mBAAqB,SAAS,KAAa,SAAqC;AAEtF,YAAI,YAAY;AAChB,YAAI,mBAAmB;AACvB,YAAI,gBAAgB;AAGpB,YAAI,oBAAoB,iBAAiB,SAAS,GAAG;AAEjD,cAAI,iBAAiB,GAAG,eAAe,iBAAiB,GAAG,YAAY,SAAS,GAAG;AAC/E,6BAAiB,GAAG,YAAY,QAAQ,SAAA,KAAG;AACvC,2BAAa,IAAI,WAAW;;qBAEzB,iBAAiB,GAAG,SAAS,iBAAiB,GAAG,MAAM,SAAS,GAAG;AAC1E,wBAAY,iBAAiB,GAAG;;AAGpC,6BAAmB,iBAAiB,GAAG;AACvC,0BAAgB,iBAAiB,GAAG;;AAGxC,YAAI,oBAAiB,SAAA,IACd,UAAQ,EACX,WAAW,WACX,kBAAkB,kBAClB,eAAe;AAEnB,eAAO;;AAGI,iCAAA,kCAAf,SAA+C,UAA4B;AACvE,YAAM,WAAW,2BAA0B,yBAAyB;AACpE,YAAM,WAAY,SAAS,KAA+C;AAC1E,YAAM,kBAAe,SAAA,IACd,UAAQ;UACX,MAAM,SAAS;UACf,SAAS,SAAS;UAClB,UAAU,SAAS;UACnB,cAAc,SAAS;UACvB,eAAe,SAAS;;AAG5B,eAAO;;AAGI,iCAAA,qCAAf,SAAkD,UAA4B;AAC1E,YAAM,WAAW,2BAA0B,yBAAyB;AACpE,YAAM,WAAY,SAAS,KAAwD;AAEnF,YAAM,qBAAkB,SAAA,IACjB,UAAQ,EACX,MAAM,SAAS,MACf,QAAQ,SAAS,QACjB,SAAS,SAAS,SAClB,UAAU,SAAS,UACnB,YAAY,SAAS,YACrB,aAAa,SAAS,MACtB,eAAe,SAAS,aACxB,oBAAoB,SAAS;AAEjC,eAAO;;AAGI,iCAAA,2BAAf,SAAwC,UAA4B;AAChE,YAAI;AACJ,YAAI;AACJ,YAAI,aAAa;AAGjB,YAAI,SAAS,KAAK,UAAU;AACxB,mBAAS,UAAU,oCAAoC,SAAS,KAAK;AACrE,yBAAe,UAAU,4CAA4C,SAAS,KAAK;eAChF;AAGH,kBAAQ,KAAK,2DAA2D,SAAS,KAAK;;AAG1F,sBAAc,SAAS,KAAK,2BAA0B,KAAK;AAC3D,qBAAa,2BAA0B,oBAAoB;AAE3D,YAAI,WAAyC;UACzC,cAAc;UACd;UACA,aAAa;UACb,SAAS;UACT,YAAY;;AAGhB,eAAO;;AAGI,iCAAA,sBAAf,SAAmC,UAA4B;AAC3D,YAAM,aAA4C;AAGlD,YAAM,OAAS,SAAS,KAAa,SAAU,gBAAgB;AAC/D,iBAAS,OAAO,MAAM;AAClB,cAAI,KAAK,eAAe,MAAM;AAC1B,gBAAM,QAAQ,KAAK;AACnB,gBAAM,WAAwC,EAAC,KAAK;AACpD,uBAAW,KAAK;;;AAKxB,YAAM,QAAU,SAAS,KAAa,SAAU,cAAc;AAC9D,iBAAS,OAAO,OAAO;AACnB,cAAI,MAAM,eAAe,MAAM;AAC3B,gBAAM,QAAQ,MAAM;AACpB,gBAAM,WAAwC,EAAC,KAAK;AACpD,uBAAW,KAAK;;;AAIxB,eAAO;;AAjMI,iCAAA,OAAO,IAAI,UAAU;AAmMxC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AChNT,QAAA,QAAA,QAAA;AAEA,QAAA,8BAAA;AACA,QAAA,UAAA;AAMA,QAAM,mBAAmB;MACrB,QAAQ;MACR,MAAM;MACN,YAAY;;AAGhB,QAAA,mBAAA,WAAA;AAOI,iCAAY,QAAc;AACtB,aAAK,UAAU;AACf,aAAK,qBAAqB;;AAGvB,wBAAA,UAAA,OAAP,SAAY,UAAwC,MAAgE;AAChH,aAAK,YAAY,UAAU,MAAM;;AAG9B,wBAAA,UAAA,OAAP,SAAY,UAAwC,MAAgE;AAGhH,aAAK,YAAY,CAAC,WAAW,MAAM;;AAG/B,wBAAA,UAAA,cAAR,SAAoB,UAAyE,MAAkE,YAA2B;AAA1L,YAAA,QAAA;AACI,YAAM,UAAU,KAAK,UAAU;AAC/B,YAAI,UAAO,MAAA,IACP,GAAC,4BAA4B,kCAAiC,MAC9D,GAAA,OAAM,KAAK,QAAQ,gBACnB,GAAA,SAAQ,iBAAiB,QACzB,GAAA,OAAM,4BAA0B,aAAU,WAAS,KAAK,QAAQ,oBAChE,GAAA,UAAO,MAAA;UACH,UAAU;WACV,GAAC,iBAAiB,QAAO,MAAQ,KAAK,OACtC,GAAA,kBAAgB,oBAChB,GAAA,oBAAkB,OAAO,WAAW;AAI5C,YAAM,MAAM,MAAM,QAAQ,SAAS,SAAC,KAAyB;AACzD,cAAM,iBAAiB,IAAI,QAAQ,iBAAiB,gBAAgB;AACpE,gBAAK,qBAAqB;AAC1B,eAAK,gBAAgB;;AAEzB,YAAI,GAAG,SAAS,SAAC,OAAY;AAGzB,gBAAK;AAGL,cAAI,SAAS;AACb,cAAI,MAAK,qBAAqB,kBAAiB,iCAAiC,GAAG;AAC/E,qBAAS,gDAA8C,MAAK,qBAAkB;AAC9E,oBAAQ,KAAK,kBAAiB,KAAK,QAAQ;iBACxC;AAEH,oBAAQ,KAAK,kBAAiB,KAAK,QAAQ;;AAG/C;;AAGJ,YAAI,MAAM;AACV,YAAI;;;AA5DO,wBAAA,MAAM;AACN,wBAAA,+BAA+B;AA6DlD,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AChFT,QAAA,MAAA,QAAA;AAEA,QAAA,MAAA,QAAA;AACA,QAAA,QAAA,QAAA;AAEA,QAAA,YAAA;AACA,QAAA,UAAA;AAEA,QAAA,WAAA,WAAA;AAQI,wBAAY,iBAAwB;AAChC,aAAK,OAAO,IAAI,UAAU;AAC1B,aAAK,OAAiC;AAEtC,aAAK;AACL,aAAK;AACL,aAAK;;AAGD,eAAA,UAAA,0BAAR,SAAgC,iBAAwB;AAEpD,0BAAkB,mBAAmB,MAAK,QAAQ,WAAW;AAE7D,YAAI,CAAC,SAAQ,WAAW,kBAAkB;AACtC,mBAAQ,WAAW,mBAAmB;AACtC,cAAI;AACA,gBAAI,cAAc,KAAK,MAAM,IAAG,aAAa,iBAAiB;AAC9D,gBAAI,eAAe,OAAO,YAAY,YAAY,UAAU;AACxD,uBAAQ,WAAW,mBAAmB,YAAY;;mBAEjD,WAAP;AACE,oBAAQ,KAAK,gCAAgC;;;AAIrD,aAAK,KAAK,KAAK,KAAK,sBAAsB,SAAQ,WAAW;;AAGzD,eAAA,UAAA,qBAAR,WAAA;AACI,aAAK,KAAK,KAAK,KAAK,YAAY;AAChC,aAAK,KAAK,KAAK,KAAK,qBAAqB,OAAM,IAAG;AAClD,aAAK,KAAK,KAAK,KAAK,mBAAmB,OAAO,IAAG,SAAS,MAAM,IAAG;AACnE,aAAK,KAAK,KAAK,KAAK,aAAa,SAAQ;AAGzC,aAAK,KAAK,8BAA8B,OAAM,IAAG;AACjD,aAAK,KAAK,0BAA0B,OAAM,IAAG;;AAGzC,eAAA,UAAA,uBAAR,WAAA;AAEI,YAAI,kBAAkB,MAAK,QAAQ,WAAW;AAE9C,YAAI,CAAC,SAAQ,YAAY;AACrB,mBAAQ,aAAa;AACrB,cAAI;AACA,gBAAI,cAAc,KAAK,MAAM,IAAG,aAAa,iBAAiB;AAC9D,gBAAI,eAAe,OAAO,YAAY,YAAY,UAAU;AACxD,uBAAQ,aAAa,YAAY;;mBAEhC,WAAP;AACE,oBAAQ,KAAK,gCAAgC;;;AAIrD,aAAK,KAAK,KAAK,KAAK,sBAAsB,UAAU,SAAQ;;AA3DlD,eAAA,kBAAyB;AACzB,eAAA,aAAuC;AACvC,eAAA,aAAqB;AA2DvC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AC3ET,QAAA,UAAA;AACA,QAAA,SAAA;AACA,QAAA,4BAAA;AACA,QAAA,mBAAA;AACA,QAAA,YAAA;AACA,QAAA,WAAA;AAOA,QAAA,yBAAA,WAAA;AAoBI,uCAAY,MAAe,SAAiB;AAVpC,aAAA,oBAA6B;AAG7B,aAAA,mBAA2B,KAAK;AAChC,aAAA,qBAA8B;AAE9B,aAAA,WAAyD;AACzD,aAAA,aAA6C;AAC7C,aAAA,cAAqD;AAGzD,aAAK,SAAS,IAAI,OAAO;AACzB,aAAK,UAAU,WAAW,IAAI;AAC9B,aAAK,UAAU,IAAI,iBAAiB,KAAK;AACzC,aAAK,aAAa;;AAOf,8BAAA,UAAA,eAAP,SAAoB,WAAc;AAC9B,aAAK,YAAY,KAAK;;AAMnB,8BAAA,UAAA,cAAP,SAAmB,YAAoC;AACnD,aAAK,WAAW;;AAOb,8BAAA,UAAA,cAAP,SAAmB,UAA4B;AAC3C,YAAM,WAAW,0BAA0B,sCAAsC;AACjF,YAAI,UAAU;AACV,eAAK,WAAW,KAAK;;;AAQtB,8BAAA,UAAA,SAAP,SAAc,WAAkB;AAC5B,YAAI,aAAa,CAAC,KAAK,YAAY;AAC/B,eAAK,aAAa;AAClB,eAAK;mBACE,CAAC,aAAa,KAAK,YAAY;AACtC,eAAK,aAAa;AAClB,uBAAa,KAAK;AAClB,eAAK,UAAU;;;AAQf,8BAAA,UAAA,mBAAR,SAAyB,QAAe;AACpC,aAAK,YAAY,QAAQ,SAAA,WAAS;AAC9B,oBAAU,OAAO;;;AAQjB,8BAAA,UAAA,aAAR,SAAmB,YAAoC;AAC5C,YAAA,QAAA,WAAA;AACP,YAAM,QAAQ,WAAU,SAAS;AAEjC,YAAI,OAAO,UAAU,+BAA+B,WAAU;AAC9D,YAAI,MAAM;AACN,cAAI,KAAK,SAAS,OAAO;AACrB,iBAAK,SAAS,MAAM,QAAS,MAAK,SAAS,MAAM,QAAM,KAAK,SAAS,MAAM,SAAS,QAAM,SAAU,MAAK,SAAS,MAAM,SAAS;AACjI,iBAAK,SAAS,MAAM,UAAU;iBAC3B;AACH,iBAAK,SAAS,QAAQ,0BAA0B,uBAAuB;AACvE,iBAAK,SAAS,MAAM,OAAO;AAC3B,iBAAK,SAAS,MAAM,SAAS;;;;AAKjC,8BAAA,UAAA,yBAAR,WAAA;AACI,eAAO,KAAK;AACZ,aAAK,WAAW;AAChB,aAAK,WAAW,SAAS;;AAGrB,8BAAA,UAAA,gBAAR,WAAA;AAAA,YAAA,QAAA;AAEI,YAAM,UAAU,OAAO,KAAK,KAAK,UAAU,IAAI,SAAA,GAAC;AAAI,iBAAA,MAAK,SAAS;;AAClE,YAAM,WAAW,0BAA0B,yBAAyB,SAAS,KAAK,WAAW,SAAS,KAAK,QAAQ,KAAK;AAGxH,aAAK;AAGL,YAAI,KAAK,mBAAmB;AACxB,eAAK,MAAM;eACR;AACH,eAAK,MAAM;;AAGf,YAAI,iBAAiB,KAAK,oBAAoB,wBAAuB,gBAAgB,wBAAuB;AAC5G,YAAI,KAAK,qBAAqB,KAAK,QAAQ,KAAK,oBAAoB,wBAAuB,sBAAsB,CAAC,KAAK,oBAAoB;AAEvI,eAAK,oBAAoB;AACzB,2BAAiB,wBAAuB;mBACjC,CAAC,KAAK,qBAAqB,KAAK,QAAQ,KAAK,oBAAoB,wBAAuB,sBAAsB,CAAC,KAAK,oBAAoB;AAE/I,2BAAiB,wBAAuB;;AAE5C,aAAK,qBAAqB;AAC1B,aAAK,UAAe,WAAW,KAAK,cAAc,KAAK,OAAO;AAC9D,aAAK,QAAQ;;AAGT,8BAAA,UAAA,QAAR,SAAc,UAAsC;AAChD,aAAK,QAAQ,KAAK,UAAU,KAAK,gBAAgB,KAAK;;AAGlD,8BAAA,UAAA,QAAR,SAAc,UAAsC;AAChD,aAAK,QAAQ,KAAK,UAAU,KAAK,gBAAgB,KAAK;;AAMlD,8BAAA,UAAA,kBAAR,SAAwB,YAAsB,KAA0B;AACpE,YAAI,cAAc,QAAW;AACzB,cAAI,KAAK,sBAAsB,YAAY;AACvC,oBAAQ,KAAK,6BAA6B;AAC1C,iBAAK,iBAAiB;;AAE1B,eAAK,oBAAoB;AAEzB,cAAI,OAAO,IAAI,aAAa,OAAO,IAAI,cAAc,KAAK;AACtD,iBAAK,mBAAmB,KAAK;AAC7B,iBAAK,qBAAqB;iBACvB;AACH,iBAAK,qBAAqB;;eAE3B;AAEH,eAAK,qBAAqB;;;AA7JnB,8BAAA,qBAAqB;AACrB,8BAAA,qBAAqB;AACrB,8BAAA,oBAAoB;AACpB,8BAAA,gBAAgB;AAChB,8BAAA,gBAAgB;AA4JnC,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;;;;;;;;;;AChLT,QAAA,SAAA;AACA,QAAA,WAAA;AACA,QAAA,UAAA;AAcA,QAAA,+BAAA,WAAA;AAWI,6CAAY,QAAuB;AAF3B,aAAA,mBAA6C;AAKjD,YAAI,8BAA6B,UAAU;AACvC,wCAA6B,SAAS;;AAE1C,sCAA6B,WAAW;AACxC,aAAK,UAAU;;AAML,oCAAA,0BAAd,WAAA;AACI,YAAI,UAAU,QAAQ,SAAS,KAAK,MAAM;AAC1C,eAAO,SAAS,QAAQ,OAAO;;AAU5B,oCAAA,UAAA,SAAP,SAAc,WAAoB,iBAAgD,oBAA0B;AAA5G,YAAA,QAAA;AAAkC,YAAA,oBAAA,QAAA;AAAA,4BAAA;;AAAgD,YAAA,uBAAA,QAAA;AAAA,+BAAA;;AAC9E,YAAI,CAAC,8BAA6B,2BAA2B;AACzD;;AAGJ,YAAI,8BAA6B,qBAAqB,UAAa,aAAa,CAAC,KAAK,gBAAgB;AAElG,cAAI;AACA,gBAAM,wBAAwB,QAAQ;AACtC,0CAA6B,WAAW,IAAI;AAC5C,0CAA6B,oBAAoB;AACjD,oBAAQ,KAAK;mBACR,KAAP;AAEE,0CAA6B,oBAAoB;AACjD;;;AAIR,aAAK,aAAa;AAClB,aAAK,mBAAmB;AACxB,YAAI,KAAK,cAAc,CAAC,KAAK,gBAAgB;AACzC,eAAK,iBAAiB;;AAI1B,YAAI,KAAK,cAAc,8BAA6B,UAAU;AAE1D,wCAA6B,SAAS,OAAO,MAAM;AACnD,eAAK,UAAU,YAAY,WAAA;AAAM,mBAAA,MAAK;aAAuB;AAC7D,eAAK,QAAQ;mBACN,8BAA6B,UAAU;AAE9C,wCAA6B,SAAS,OAAO;AAC7C,cAAI,KAAK,SAAS;AACd,0BAAc,KAAK;AACnB,iBAAK,UAAU;;;;AAUpB,oCAAA,UAAA,UAAP,WAAA;AACI,aAAK,OAAO;;AAYF,oCAAA,eAAd,SAA2B,wBAA0D;AACjF,YAAM,aAAa,QAAQ,IAAI,OAAO;AACtC,YAAM,oBAAoB,QAAQ,IAAI,OAAO;AAG7C,YAAI,YAAY;AACZ,iBAAO,EAAE,WAAW,OAAO,iBAAiB;;AAIhD,YAAI,mBAAmB;AACnB,cAAM,aAAa,kBAAkB,MAAM;AAC3C,cAAM,kBAAuB;AAC7B,cAAI,WAAW,SAAS,GAAG;AACvB,qBAAkB,KAAA,GAAA,eAAA,YAAA,KAAA,aAAA,QAAA,MAAU;AAAvB,kBAAM,MAAG,aAAA;AACV,8BAAgB,OAAO;;;AAK/B,cAAI,OAAO,2BAA2B,UAAU;AAC5C,mBAAO,EAAC,WAAW,MAAM,iBAAe,SAAA,IAAM,wBAA2B;;AAI7E,iBAAO,EAAC,WAAW,wBAAwB;;AAI/C,YAAI,OAAO,2BAA2B,WAAW;AAC7C,iBAAO,EAAE,WAAW,wBAAwB,iBAAiB;eAC1D;AAEH,iBAAO,EAAE,WAAW,MAAM,iBAAiB;;;AAU3C,oCAAA,UAAA,sBAAR,WAAA;AACI,YAAI,gBAAgB;AACpB,YAAI,OAAO,KAAK,eAAe,UAAU;AACrC,0BAAgB,KAAK;;AAGzB,YAAI,eAAe;AACf,eAAK;AACL,eAAK;AACL,eAAK;;;AAWL,oCAAA,UAAA,0BAAR,WAAA;AACI,YAAI,KAAK,iBAAiB,IAAI;AAC1B;;AAGJ,YAAM,SAAS,8BAA6B,SAAS;AAErD,iBAAS,MAAM,QAAQ;AACnB,cAAM,UAAU,OAAO,IAAI;AAC3B,cAAM,SAAU,KAAE;AAClB,cAAM,SAAS,KAAK,KAAK,QAAQ,aAAa,QAAQ,QAAQ,KAAK,IAAI,QAAQ,QAAQ,QAAQ,OAAO,OAAO;AAC7G,eAAK,QAAQ,YAAY;YACrB,MAAM;YACN,OAAO,QAAQ;YACf,OAAO,QAAQ;YACf,KAAK,QAAQ;YACb,KAAK,QAAQ;YACb;YACA,cAAY,MAAA,IACR,GAAC,KAAK,QAAQ,QAAQ,KAAK,sBAAqB,qBAAqB,SAAQ;;;;;AAcrF,oCAAA,UAAA,kBAAR,WAAA;AACI,YAAI,KAAK,iBAAiB,MAAM;AAC5B;;AAGJ,YAAM,WAAW,8BAA6B,SAAS;AACvD,YAAM,UAAU,SAAS;AACzB,YAAI,QAAQ,SAAS,GAAG;AACpB;;AAGJ,YAAM,OAAO;AACb,YAAM,SAAS,KAAK,KAAK,QAAQ,aAAa,QAAQ,QAAQ,KAAK,IAAI,QAAQ,QAAQ,QAAQ,OAAO,OAAO;AAC7G,aAAK,QAAQ,YAAY;UACrB;UACA,OAAO,QAAQ;UACf,OAAO,QAAQ;UACf,KAAK,QAAQ;UACb,KAAK,QAAQ;UACb;UACA,cAAY,MAAA,IACR,GAAC,KAAK,QAAQ,QAAQ,KAAK,sBAAqB,qBAAqB,SAAQ;;;;AAWjF,oCAAA,UAAA,kBAAR,WAAA;AACI,YAAI,KAAK,iBAAiB,MAAM;AAC5B;;AAGJ,YAAM,cAAc,QAAQ;AACpB,YAAA,WAAA,YAAA,UAAU,YAAA,YAAA,WAAW,MAAA,YAAA;AAE7B,aAAK,QAAQ,YAAY;UACrB,MAAM;UACN,OAAO;UACP,OAAO;UACP,cAAY,MAAA,IACR,GAAC,KAAK,QAAQ,QAAQ,KAAK,sBAAqB,qBAAqB,SAAQ;;AAGrF,aAAK,QAAQ,YAAY;UACrB,MAAM;UACN,OAAO;UACP,OAAO;UACP,cAAY,MAAA,IACR,GAAC,KAAK,QAAQ,QAAQ,KAAK,sBAAqB,qBAAqB,SAAQ;;AAGrF,aAAK,QAAQ,YAAY;UACrB,MAAM;UACN,OAAO,MAAM;UACb,OAAO;UACP,cAAY,MAAA,IACR,GAAC,KAAK,QAAQ,QAAQ,KAAK,sBAAqB,qBAAqB,SAAQ;;;;AAI7F,aAAA;;AAhQa,YAAA,+BAAA;;;;;;;;ACjBb,QAAA,UAAA;AAGA,QAAA,WAAA,WAAA;AAYI,wBAAY,YAA2B,cAA4B,oBAAkC,QAAc;AAC/G,aAAK,UAAU;AACf,aAAK,YAAY;AACjB,aAAK,cAAc;AACnB,aAAK,gBAAgB;AACrB,aAAK,sBAAsB;AAC3B,aAAK,UAAU;;AAWZ,eAAA,UAAA,yBAAP,SAA8B,OAAgB,gBAAyB,gBAAuB;AAC1F,aAAK,QAAQ,iBAAiB,OAAO,gBAAgB;;AAMlD,eAAA,UAAA,OAAP,SAAY,UAA4B;AAAxC,YAAA,QAAA;AAGI,YAAI,KAAK,eAAe;AAEpB;;AAIJ,YAAI,CAAC,UAAU;AACX,kBAAQ,KAAK;AACb;;AAIJ,YAAI,UAAkB,KAAK,WAAW;AACtC,YAAI,OAAO,YAAY,UAAU;AAC7B;;AAIJ,aAAK,QAAQ,KAAK;AAGlB,YAAI,KAAK,QAAQ,UAAU,KAAK,iBAAiB;AAC7C,eAAK,YAAY;AACjB;;AAIJ,YAAI,CAAC,KAAK,kBAAkB,KAAK,QAAQ,SAAS,GAAG;AACjD,eAAK,iBAAiB,WAAW,WAAA;AAC7B,kBAAK,iBAAiB;AACtB,kBAAK,YAAY;aAClB,KAAK;;;AAOT,eAAA,UAAA,cAAP,SAAmB,gBAAyB,UAA8B;AACtE,YAAI,gBAAgB,KAAK,QAAQ,SAAS;AAC1C,YAAI,CAAC,eAAe;AAEhB,cAAI,QAAQ,KAAK,QAAQ,KAAK;AAG9B,cAAI,gBAAgB;AAChB,iBAAK,QAAQ,YAAY;AACzB,gBAAI,OAAO,aAAa,YAAY;AAChC,uBAAS;;iBAEV;AACH,iBAAK,QAAQ,KAAK,OAAO,OAAO,OAAO,KAAK,SAAS,IAAI,OAAO,QAAQ;;;AAKhF,aAAK,YAAY,CAAC,IAAI;AAGtB,aAAK,QAAQ,SAAS;AACtB,qBAAa,KAAK;AAClB,aAAK,iBAAiB;AACtB,YAAI,iBAAiB,OAAO,aAAa,YAAY;AACjD,mBAAS;;;AAIP,eAAA,UAAA,aAAV,SAAqB,UAA4B;AAC7C,YAAI;AACA,iBAAO,KAAK,UAAU;iBACjB,OAAP;AACE,kBAAQ,KAAK,+BAA+B,OAAO;;;AAG/D,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;ACvHT,QAAA,YAAA;AAMA,wCAA2C,UAA8B,gBAA0D;AAC/H,UAAI,qBAAqB,SAAS;AAClC,UAAI,cAAc;AAElB,UAAI,uBAAuB,QAAQ,uBAAuB,UAAa,sBAAsB,KAAK;AAC9F,eAAO;iBACA,SAAS,QAAQ,UAAU,cAAc,WAAW,UAAU,wBAAwB,SAAS,KAAK,WAA4C;AAEvJ,eAAO;iBACA,eAAe,sBAAsB,eAAe,mBAAmB,WAAW;AAEzF,sBAAc,oBAAoB,eAAe,mBAAmB,UAAU,MAAM;aACjF;AAEH,sBAAe,KAAK,WAAW,MAAO;;AAG1C,aAAO;;AAjBX,YAAA,6BAAA;AAqBA,iCAAoC,OAAa;AAC7C,UAAI,YAAY;AAChB,UAAI,YAAY;AAChB,UAAI,OAAO;AAEX,UAAI,CAAC,OAAO;AACR,eAAO;;AAGX,aAAO,MAAM,SAAS,GAAG;AACrB,gBAAQ,QAAQ;;AAGpB,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAEnC,eAAW,UAAQ,KAAK,OAAQ,KAAK,MAAM,WAAW,KAAK;;AAG/D,aAAO,QAAQ,YAAY,YAAY,KAAK,IAAI;AAChD,aAAQ,OAAO,YAAa;;AAnBhC,YAAA,sBAAA;;;;;;;;;ACxBA,QAAA,yBAAA;AACA,QAAA,gBAAA;AAEA,kDAAqD,UAA8B,QAA+B;AAE9G,UAAI,QAAQ;AACR,eAAO,YAAY;;AAIvB,cAAQ,SAAS,KAAK;aACb,cAAc,oBAAoB;AACnC,iCAAuB;AACvB;aACC,cAAc,oBAAoB;AACnC,cAAM,cAAsC,SAAS,KAAa;AAClE,iCAAuB,aAAa,YAAY,UAAU,YAAY;AACtE;aACC,cAAc,oBAAoB;AACnC,cAAM,uBAAwD,SAAS,KAAa;AACpF,iCAAuB,gBAAgB,qBAAqB,UAAU,qBAAqB;AAC3F;;AAER,aAAO;;AApBX,YAAA,uCAAA;;;;;;;;;;;;;;ACNA,cAAA;AACA,cAAA;;;;;;;;ACDA,QAAA,MAAA,QAAA;AAGA,QAAA,MAAA,QAAA;AACA,QAAA,QAAA,QAAA;AAEA,QAAA,OAAA,QAAA;AACA,QAAA,gBAAA,QAAA;AAEA,QAAA,UAAA;AAEA,QAAA,8BAAA;AACA,QAAA,OAAA;AAEA,QAAA,SAAA,WAAA;AAwBI,uBAAY,QAAgB,WAAwC,UAAgC;AAChG,aAAK,UAAU;AACf,aAAK,aAAa;AAClB,aAAK,WAAW;AAChB,aAAK,uBAAuB;AAC5B,aAAK,kBAAkB,QAAO;AAC9B,aAAK,kBAAkB,QAAO;AAC9B,aAAK,0BAA0B;AAE/B,YAAI,CAAC,QAAO,6BAA6B;AAIrC,cAAI,QAAO,YAAY;AAGnB,gBAAI;AACA,sBAAO,8BAA8B,IAAG,WAAW,QAAO;qBACrD,GAAP;;AACF,gBAAI,CAAC,QAAO,6BAA6B;AACrC,sBAAQ,KAAK,QAAO,KAAK;;iBAE1B;AAEH,oBAAO,8BAA8B;;;;AAQ1C,cAAA,UAAA,mBAAP,SAAwB,OAAgB,gBAAyB,gBAAuB;AACpF,aAAK,uBAAuB,QAAO,+BAA+B;AAClE,YAAI,OAAO,mBAAmB,YAAY,kBAAkB,GAAG;AAC3D,eAAK,kBAAkB,KAAK,MAAM;;AAEtC,YAAI,OAAO,mBAAmB,YAAY,kBAAkB,GAAG;AAC3D,eAAK,kBAAkB,KAAK,MAAM;;AAGtC,YAAI,SAAS,CAAC,QAAO,6BAA6B;AAC9C,eAAK,uBAAuB;AAC5B,kBAAQ,KAAK,QAAO,KAAK;;;AAI1B,cAAA,UAAA,OAAP,SAAY,SAAiB,UAA8B;AAA3D,YAAA,QAAA;AACI,YAAI,cAAc,KAAK,QAAQ;AAG/B,YAAI,UAAU;UACV,QAAQ;UACR,iBAAiB;UACjB,SAAoC;YAChC,gBAAgB;;;AAIxB,aAAK,KAAK,SAAS,SAAC,KAAK,QAAM;AAC3B,cAAI,aAAa;AACjB,cAAI,KAAK;AACL,oBAAQ,KAAK;AACb,yBAAa;AACb,oBAAQ,QAAQ,oBAAoB,QAAQ,OAAO;iBAChD;AACH,oBAAQ,QAAQ,sBAAsB;AACtC,oBAAQ,QAAQ,oBAAoB,OAAO;;AAG/C,kBAAQ,KAAK,QAAO,KAAK;AAGnB,kBAAS,4BAA4B,kCAAkC;AAE7E,cAAI,kBAAkB,SAAC,KAAwB;AAC3C,gBAAI,YAAY;AAGhB,gBAAI,iBAAiB;AACrB,gBAAI,GAAG,QAAQ,SAAC,MAAY;AACxB,gCAAkB;;AAGtB,gBAAI,GAAG,OAAO,WAAA;AACV,oBAAK,0BAA0B;AAE/B,sBAAQ,KAAK,QAAO,KAAK;AACzB,kBAAI,OAAO,MAAK,eAAe,YAAY;AACvC,sBAAK,WAAW;;AAGpB,kBAAI,OAAO,aAAa,YAAY;AAChC,yBAAS;;AAGb,kBAAI,MAAK,sBAAsB;AAE3B,oBAAI,IAAI,eAAe,KAAK;AACxB,6BAAW,WAAA;AAAM,2BAAA,MAAK;qBAAwB,MAAK,iBAAiB;2BAGpE,IAAI,eAAe,OACnB,IAAI,eAAe,OACnB,IAAI,eAAe,OACnB,IAAI,eAAe,OACnB,IAAI,eAAe,KAAK;AAGxB,wBAAK,aAAa;;;;;AAMlC,cAAI,MAAM,KAAK,YAAY,MAAK,SAAS,aAAa,SAAS;AAE/D,cAAI,GAAG,SAAS,SAAC,OAAY;AAEzB,kBAAK;AAKL,gBAAI,CAAC,MAAK,wBAAwB,MAAK,0BAA0B,KAAK,MAAK,0BAA0B,QAAO,wCAAwC,GAAG;AACnJ,kBAAI,SAAS;AACb,kBAAI,MAAK,sBAAsB;AAC3B,yBAAS,6CAA2C,MAAK,0BAAuB;;AAEpF,sBAAQ,KAAK,QAAO,KAAK,QAAQ;mBAC9B;AACH,kBAAI,SAAS;AACb,sBAAQ,KAAK,QAAO,KAAK,QAAQ;;AAErC,kBAAK,eAAe;AAEpB,gBAAI,OAAO,aAAa,YAAY;AAChC,kBAAI,eAAe;AACnB,kBAAI,SAAU,OAAO,MAAM,aAAa,YAAa;AACjD,+BAAe,MAAM;;AAGzB,uBAAS;;AAGb,gBAAI,MAAK,sBAAsB;AAC3B,oBAAK,aAAa;;;AAI1B,cAAI,MAAM;AACV,cAAI;;;AAIL,cAAA,UAAA,cAAP,SAAmB,SAAe;AAC9B,YAAI,KAAK,sBAAsB;AAC3B,eAAK,iBAAiB;;;AAItB,cAAA,UAAA,aAAR,SAAmB,MAAgB,UAA8B;AAC7D,YAAI,UAAU,cAAc,MAAM,QAAO,aAAa,MAAW,EAAC,aAAa;AAC/E,gBAAQ,GAAG,SAAS,SAAC,GAAQ;AAAK,iBAAA,SAAS;;AAC3C,gBAAQ,GAAG,SAAS,SAAC,MAAc,QAAc;AAC7C,iBAAO,SAAS,SAAS,IAAI,OAAO,IAAI,MAAM,oEAAkE,OAAI;;;AAIpH,cAAA,UAAA,iBAAR,SAAuB,MAAc;AAEjC,YAAI,cAAc,WAAW;AACzB,cAAI,UAAU,cAAc,UAAU,QAAO,aAAa,MAAW,EAAC,aAAa;AACnF,cAAI,QAAQ,OAAO;AACf,kBAAM,QAAQ;qBACP,QAAQ,WAAW,GAAG;AAC7B,kBAAM,IAAI,MAAM,oEAAkE,QAAQ,SAAM;;eAEjG;AACH,gBAAM,IAAI,MAAM;;;AAIhB,cAAA,UAAA,kBAAR,SAAwB,UAAkD;AACtE,YAAI,QAAO,cAAc;AACrB,iBAAO,SAAS,MAAM,QAAO;;AAEjC,YAAI,SAAS,cAAc,MAAM,QAAO,iBACpC,CAAC,YAAY,mEAAwE;UACjF,aAAa;UACb,OAAO,CAAC,UAAU,QAAQ;;AAElC,YAAI,OAAO;AACX,eAAO,OAAO,GAAG,QAAQ,SAAC,GAAS;AAAK,iBAAA,QAAQ;;AAChD,eAAO,GAAG,SAAS,SAAC,GAAQ;AAAK,iBAAA,SAAS,GAAG;;AAC7C,eAAO,GAAG,SAAS,SAAC,MAAc,QAAc;AAC5C,kBAAO,eAAe,QAAQ,KAAK;AACnC,iBAAO,SACH,SAAS,IAAI,OAAO,IAAI,MAAM,4DAA0D,OAAI,MAC5F,QAAO;;;AAIX,cAAA,UAAA,sBAAR,WAAA;AACI,YAAI,QAAO,cAAc;AACrB,iBAAO,QAAO;;AAGlB,YAAI,cAAc,WAAW;AACzB,cAAI,SAAS,cAAc,UAAU,QAAO,iBACxC,CAAC,YAAY,mEAAwE;YACjF,aAAa;YACb,OAAO,CAAC,UAAU,QAAQ;;AAElC,cAAI,OAAO,OAAO;AACd,kBAAM,OAAO;qBACN,OAAO,WAAW,GAAG;AAC5B,kBAAM,IAAI,MAAM,4DAA0D,OAAO,SAAM;;AAE3F,kBAAO,eAAe,OAAO,UAAU,OAAO,OAAO,WAAW;AAChE,iBAAO,QAAO;eACX;AACH,gBAAM,IAAI,MAAM;;;AAIhB,cAAA,UAAA,mBAAR,SAAyB,WAAmB,UAAgB;AACxD,eAAO;UAAC;UACJ;UAAU;UACV;UAAa,WAAQ;UACrB;;;AAGA,cAAA,UAAA,iBAAR,SAAuB,WAAmB,UAA8B;AAAxE,YAAA,QAAA;AACI,YAAI,CAAC,QAAO,YAAY;AACpB,iBAAO,SAAS;;AAIpB,YAAI,QAAO,kBAAkB,eAAe,QAAW;AAInD,kBAAO,kBAAkB,aAAa;AAGtC,eAAK,gBAAgB,SAAC,KAAK,UAAQ;AAC/B,gBAAI,KAAK;AACL,sBAAO,kBAAkB,aAAa;AACtC,qBAAO,SAAS;mBACb;AACH,oBAAK,WAAW,MAAK,iBAAiB,WAAW,WAAW,SAAC,MAAG;AAC5D,wBAAO,kBAAkB,aAAa,CAAC;AACvC,uBAAO,SAAS;;;;eAIzB;AACH,iBAAO,SAAS,QAAO,kBAAkB,aAAa,OAClD,IAAI,MAAM;;;AAId,cAAA,UAAA,qBAAR,SAA2B,WAAiB;AACxC,YAAI,QAAO,YAAY;AAEnB,cAAI,QAAO,kBAAkB,eAAe,QAAW;AACnD,iBAAK,eAAe,KAAK,iBAAiB,WAAW,KAAK;AAC1D,oBAAO,kBAAkB,aAAa;AACtC;qBACO,CAAC,QAAO,kBAAkB,YAAY;AAC7C,kBAAM,IAAI,MAAM;;;;AAKpB,cAAA,UAAA,oBAAR,SAA0B,WAAmB,UAA8C;AAA3F,YAAA,QAAA;AACI,YAAG,MAAM,WAAW,SAAC,KAAK,OAAK;AAC3B,cAAI,OAAO,IAAI,SAAS,UAAU;AAC9B,gBAAG,MAAM,WAAW,SAAC,MAAG;AACpB,kBAAI,QAAO,KAAI,SAAS,UAAU;AAC9B,yBAAS;qBACN;AACH,sBAAK,eAAe,WAAW;;;qBAGhC,CAAC,OAAO,MAAM,eAAc;AACnC,kBAAK,eAAe,WAAW;iBAC5B;AACH,qBAAS,OAAO,IAAI,MAAM;;;;AAQ9B,cAAA,UAAA,2BAAR,SAAiC,WAAmB,UAA4D;AAE5G,YAAG,QAAQ,WAAW,SAAC,KAAK,OAAK;AAC7B,cAAI,KAAK;AACL,mBAAO,SAAS,KAAK;;AAGzB,cAAI,QAA+B;AACnC,cAAI,YAAY;AAChB,cAAI,QAAQ;AAEZ,cAAI,MAAM,WAAW,GAAG;AACpB,qBAAS,MAAM;AACf;;AAIJ,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACnC,gBAAG,KAAK,MAAK,KAAK,WAAW,MAAM,KAAK,SAAC,MAAK,WAAS;AACnD;AAEA,kBAAI,MAAK;AACL,wBAAQ;qBACL;AACH,oBAAI,UAAU,UAAU;AACpB,+BAAa,UAAU;;;AAI/B,kBAAI,UAAU,MAAM,QAAQ;AAExB,oBAAI,OAAO;AACP,2BAAS,OAAO;uBACb;AACH,2BAAS,OAAO;;;;;;;AAWhC,cAAA,UAAA,+BAAR,SAAqC,WAAiB;AAClD,YAAI,QAAQ,IAAG,YAAY;AAC3B,YAAI,YAAY;AAChB,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACnC,uBAAa,IAAG,SAAS,MAAK,KAAK,WAAW,MAAM,KAAK;;AAE7D,eAAO;;AAMH,cAAA,UAAA,eAAR,SAAqB,SAAY;AAAjC,YAAA,QAAA;AAEI,YAAI,YAAY,MAAK,KAAK,IAAG,UAAU,QAAO,iBAAiB,KAAK,QAAQ;AAI5E,gBAAQ,KAAK,QAAO,KAAK,mDAAmD;AAC5E,aAAK,kBAAkB,WAAW,SAAC,OAAK;AACpC,cAAI,OAAO;AACP,oBAAQ,KAAK,QAAO,KAAK,8CAA+C,UAAS,MAAM;AACvF,kBAAK,eAAe;AACpB;;AAGJ,gBAAK,yBAAyB,WAAW,SAAC,KAAK,MAAI;AAC/C,gBAAI,OAAO,OAAO,GAAG;AACjB,sBAAQ,KAAK,QAAO,KAAK,0CAA2C,QAAO,IAAI;AAC/E,oBAAK,eAAe;AACpB;uBACO,OAAO,MAAK,iBAAiB;AACpC,sBAAQ,KAAK,QAAO,KAAK,kFAAkF;AAC3G;;AAKJ,gBAAI,WAAW,IAAI,OAAO,YAAY;AACtC,gBAAI,eAAe,MAAK,KAAK,WAAW;AAIxC,oBAAQ,KAAK,QAAO,KAAK,6BAA6B;AACtD,gBAAG,UAAU,cAAc,SAAS,EAAC,MAAM,OAAQ,SAAC,QAAK;AAAK,qBAAA,MAAK,eAAe;;;;;AAStF,cAAA,UAAA,mBAAR,SAAyB,SAAY;AAEjC,YAAI,YAAY,MAAK,KAAK,IAAG,UAAU,QAAO,iBAAiB,KAAK,QAAQ;AAE5E,YAAI;AACA,kBAAQ,KAAK,QAAO,KAAK,mDAAmD;AAC5E,cAAI,CAAC,IAAG,WAAW,YAAY;AAC3B,gBAAG,UAAU;;AAIjB,eAAK,mBAAmB;AAExB,cAAI,UAAU,KAAK,6BAA6B;AAChD,cAAI,UAAU,KAAK,iBAAiB;AAChC,oBAAQ,KAAK,QAAO,KAAK,kFAAkF;AAC3G;;AAKJ,cAAI,WAAW,IAAI,OAAO,YAAY;AACtC,cAAI,eAAe,MAAK,KAAK,WAAW;AAGxC,kBAAQ,KAAK,QAAO,KAAK,0CAA0C;AACnE,cAAG,cAAc,cAAc,SAAS,EAAC,MAAM;iBAE1C,OAAP;AACE,kBAAQ,KAAK,QAAO,KAAK,sCAAuC,UAAS,MAAM;AAC/E,eAAK,eAAe;;;AAQpB,cAAA,UAAA,uBAAR,WAAA;AAAA,YAAA,QAAA;AACI,YAAI,UAAU,MAAK,KAAK,IAAG,UAAU,QAAO,iBAAiB,KAAK,QAAQ;AAE1E,YAAG,OAAO,SAAS,SAAC,SAAe;AAC/B,cAAI,SAAQ;AACR,gBAAG,QAAQ,SAAS,SAAC,OAAO,OAAK;AAC7B,kBAAI,CAAC,OAAO;AACR,wBAAQ,MAAM,OAAO,SAAA,GAAC;AAAI,yBAAA,MAAK,SAAS,GAAG,QAAQ,cAAc;;AACjE,oBAAI,MAAM,SAAS,GAAG;AAClB,sBAAI,YAAY,MAAM;AACtB,sBAAI,WAAW,MAAK,KAAK,SAAS;AAClC,sBAAG,SAAS,UAAU,SAAC,QAAO,SAAO;AACjC,wBAAI,CAAC,QAAO;AAER,0BAAG,OAAO,UAAU,SAAC,QAAK;AACtB,4BAAI,CAAC,QAAO;AACR,gCAAK,KAAK;+BACP;AACH,gCAAK,eAAe;;;2BAGzB;AACH,4BAAK,eAAe;;;;qBAI7B;AACH,sBAAK,eAAe;;;;;;AAOhC,cAAA,UAAA,iBAAR,SAAuB,OAAY;AAC/B,YAAI,OAAO,KAAK,aAAa,YAAY;AACrC,eAAK,SAAS;;;AA5eP,cAAA,MAAM;AACN,cAAA,cAAiB,QAAQ,IAAI,cAAW;AACxC,cAAA,kBAAqB,QAAQ,IAAI,cAAW;AAC5C,cAAA,oBAA6C;AAC7C,cAAA,eAAuB;AAGxB,cAAA,sBAAsB,KAAK;AAC3B,cAAA,oBAAoB,KAAK,MAAO;AAChC,cAAA,sCAAsC;AACtC,cAAA,iBAAyB;AACzB,cAAA,8BAA8B;AAC9B,cAAA,aAAa,IAAG,WAAW;AAme7C,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AChgBT,QAAA,YAAA;AACA,QAAA,OAAA;AAGA,QAAA,8BAAA;AAMA,QAAA,kBAAA,WAAA;AAAA,kCAAA;;AAWkB,uBAAA,iBAAd,SACI,YACA,eACA,kBACA,SACA,QAAe;AAEf,YAAI,OAAO;AAGX,gBAAQ;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,gBAA0C;AACjE;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,qBAAoD;AAC3E;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,gBAA0C;AACjE;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,oBAAkD;AACzE;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,kBAA8C;AACrE;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,iBAA4C;AACnE;eACC,UAAU,cAAc;AACzB,mBAAO,iBAAgB,uBAAwD;AAC/E;;AAGR,YAAI,oBAAoB,UAAU,yBAAyB,KAAK,WAAW;AACvE,cAAI,QAAQ,KAAK,UAAU;AAEvB,gBAAI,CAAC,KAAK,SAAS,YAAY;AAC3B,mBAAK,SAAS,aAAa;mBACxB;AAEH,uBAAS,QAAQ,kBAAkB;AAE/B,oBAAI,CAAC,KAAK,SAAS,WAAW,OAAO;AACjC,uBAAK,SAAS,WAAW,QAAQ,iBAAiB;;;;;AAOlE,eAAK,SAAS,aAAa,KAAK,kBAAkB,KAAK,SAAS;;AAGpE,YAAI,OAAO,SAAS,OAAO,sBAAsB,KAAK;AACtD,YAAI,WAAW,IAAI,UAAU;AAC7B,iBAAS,OAAO;AAChB,iBAAS,OAAO;AAGhB,iBAAS,OACL,mCACA,KAAK,QAAQ,MAAM,MACnB,MACA,KAAK,SAAS,OAAO,GAAG,KAAK,SAAS,SAAS;AACnD,iBAAS,OAAO,KAAK,QAAQ,SAAS,WAAU;AAChD,iBAAS,OAAQ,IAAI,OAAQ;AAC7B,iBAAS,MAAM;AACf,iBAAS,aAAa,SAAS,OAAO,qBAAqB;AAG3D,YAAI,kBAAkB,UAAU,cAAc,QAAQ;AAClD,mBAAS,aAAa;;AAG1B,eAAO;;AAGI,uBAAA,kBAAf,SAA+B,YAAmC;AAC9D,YAAI,QAAQ,IAAI,UAAU;AAC1B,cAAM,UAAU,WAAU;AAC1B,cAAM,aAAa,WAAU;AAC7B,YAAI,CAAC,MAAM,WAAU,WAAW;AAC5B,gBAAM,gBAAgB,WAAU;eAC7B;AACH,gBAAM,gBAAgB,UAAU,cAAc;;AAGlD,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,uBAAf,SAAoC,YAA+D;AAC/F,YAAI,mBAAmB,IAAI,UAAU;AACrC,YAAI,OAAO,WAAU,SAAS,UAAU;AACpC,2BAAiB,OAAO,WAAU,KAAK,SAAS,OAAO,WAAU,KAAK,MAAM,GAAG,QAAQ,QAAQ,WAAU;;AAE7G,yBAAiB,OAAO,WAAU;AAClC,yBAAiB,SAAS,WAAU;AACpC,yBAAiB,WAAW,KAAK,aAAa,WAAU;AACxD,yBAAiB,UAAU,WAAU;AACrC,yBAAiB,OAAO,WAAU;AAClC,yBAAiB,aAAa,WAAU;AACxC,yBAAiB,aAAc,WAAU,aAAa,WAAU,aAAa,KAAK;AAElF,YAAI,WAAU,IAAI;AACd,2BAAiB,KAAK,WAAU;eAE/B;AACD,2BAAiB,KAAK,KAAK;;AAG/B,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,kBAAf,SAA+B,YAAmC;AAC9D,YAAI,QAAQ,IAAI,UAAU;AAC1B,cAAM,OAAO,WAAU;AACvB,cAAM,aAAa,WAAU;AAC7B,cAAM,eAAe,WAAU;AAE/B,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,sBAAf,SAAmC,YAAuC;AACtE,YAAI,YAAY,IAAI,UAAU;AAC9B,kBAAU,aAAa,WAAU;AACjC,YAAI,CAAC,MAAM,WAAU,WAAW;AAC5B,oBAAU,gBAAgB,WAAU;eACjC;AACH,oBAAU,gBAAgB,UAAU,cAAc;;AAEtD,kBAAU,eAAe,WAAU;AACnC,kBAAU,aAAa;AAEvB,YAAI,QAAQ,WAAU,UAAU;AAChC,YAAI,mBAAmB,IAAI,UAAU;AACrC,yBAAiB,UAAU,WAAU,UAAU;AAC/C,yBAAiB,WAAW,WAAU,UAAU;AAChD,yBAAiB,cAAc,KAAK,WAAW;AAC/C,yBAAiB,eAAe,KAAK,QAAQ,iBAAiB,gBAAgB,iBAAiB,YAAY,SAAS;AACpH,kBAAU,WAAW,KAAK;AAE1B,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,oBAAf,SAAiC,YAA4D;AACzF,YAAI,cAAc,IAAI,UAAU;AAChC,YAAI,WAAU,IAAI;AACd,sBAAY,KAAK,WAAU;eAE1B;AACD,sBAAY,KAAK,KAAK;;AAE1B,oBAAY,OAAO,WAAU;AAC7B,oBAAY,MAAM,WAAU;AAC5B,oBAAY,SAAS,WAAU;AAC/B,oBAAY,WAAW,KAAK,aAAa,WAAU;AACnD,oBAAY,eAAgB,WAAU,aAAa,WAAU,aAAa,KAAK;AAC/E,oBAAY,UAAU,WAAU;AAChC,oBAAY,aAAa,WAAU;AAEnC,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,mBAAf,SAAgC,YAAoC;AAChE,YAAI,UAAU,IAAI,UAAU;AAC5B,gBAAQ,UAAU;AAElB,YAAI,SAAS,IAAI,UAAU;AAC3B,eAAO,QAAQ,CAAC,MAAM,WAAU,SAAS,WAAU,QAAQ;AAC3D,eAAO,OAAO,UAAU,cAAc;AACtC,eAAO,MAAM,CAAC,MAAM,WAAU,OAAO,WAAU,MAAM,WAAU;AAC/D,eAAO,MAAM,CAAC,MAAM,WAAU,OAAO,WAAU,MAAM,WAAU;AAC/D,eAAO,OAAO,WAAU;AACxB,eAAO,SAAS,CAAC,MAAM,WAAU,UAAU,WAAU,SAAS;AAC9D,eAAO,QAAQ,WAAU;AAEzB,gBAAQ,QAAQ,KAAK;AAErB,gBAAQ,aAAa,WAAU;AAE/B,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAChB,eAAO;;AAGI,uBAAA,yBAAf,SACI,YAAiE;AAEjE,YAAI,mBAAmB,IAAI,UAAU;AAErC,YAAI,WAAU,IAAI;AACd,2BAAiB,KAAK,WAAU;eAC7B;AACH,2BAAiB,KAAK,KAAK;;AAE/B,yBAAiB,OAAO,WAAU;AAClC,yBAAiB,WAAW,KAAK,aAAa,WAAU;AACxD,yBAAiB,UAAU,WAAU;AACrC,yBAAiB,cAAc,WAAU;AACzC,yBAAiB,UAAU,WAAU;AACrC,yBAAiB,eAAe,WAAU;AAC1C,yBAAiB,aAAa,WAAU;AAExC,YAAI,OAAO,IAAI,UAAU;AACzB,aAAK,WAAW,UAAU,wBAAwB,UAAU,cAAc;AAC1E,aAAK,WAAW;AAEhB,eAAO;;AAGI,uBAAA,UAAf,SAAuB,SAAkB,cAAyC;AAC9E,YAAI,qBAAqB,4BAAA,0BAA0B;AAInD,YAAI,UAAqC;AAEzC,YAAI,WAAW,QAAQ,MAAM;AACzB,mBAAS,OAAO,QAAQ,MAAM;AAC1B,oBAAQ,OAAO,QAAQ,KAAK;;;AAGpC,YAAI,cAAc;AACd,mBAAS,OAAO,cAAc;AAC1B,oBAAQ,OAAO,aAAa;;;AAKpC,YAAI,oBAAoB;AACpB,kBAAQ,QAAQ,KAAK,eAAe,QAAQ,QAAQ,KAAK,gBAAgB,mBAAmB,UAAU;AACtG,kBAAQ,QAAQ,KAAK,iBAAiB,QAAQ,QAAQ,KAAK,kBAAkB,mBAAmB,UAAU;AAC1G,kBAAQ,QAAQ,KAAK,qBAAqB,QAAQ,QAAQ,KAAK,sBAAsB,mBAAmB,UAAU;;AAGtH,eAAO;;AAII,uBAAA,aAAf,SAA0B,OAAU;AAChC,YAAI,cAA6B;AACjC,YAAI,OAAO,UAAU,UAAU;AAC3B,cAAI,SAAS,MAAM,MAAM;AACzB,wBAAc;AACd,cAAI,QAAQ;AAEZ,cAAI,mBAAmB;AACvB,mBAAS,IAAI,GAAG,KAAK,OAAO,QAAQ,KAAK;AACrC,gBAAI,QAAQ,OAAO;AACnB,gBAAI,YAAY,MAAM,KAAK,QAAQ;AAC/B,kBAAI,cAAc,IAAI,YAAY,OAAO,IAAI;AAC7C,kCAAoB,YAAY;AAChC,0BAAY,KAAK;;;AAMzB,cAAI,gCAAgC,KAAK;AACzC,cAAI,mBAAmB,+BAA+B;AAClD,gBAAI,OAAO;AACX,gBAAI,QAAQ,YAAY,SAAS;AACjC,gBAAI,OAAO;AACX,gBAAI,eAAe;AACnB,gBAAI,gBAAgB;AAEpB,mBAAO,OAAO,OAAO;AAEjB,kBAAI,QAAQ,YAAY,MAAM;AAC9B,kBAAI,QAAQ,YAAY,OAAO;AAC/B,sBAAQ,QAAQ;AAEhB,kBAAI,OAAO,+BAA+B;AAGtC,oBAAI,UAAU,gBAAgB,eAAe;AAC7C,4BAAY,OAAO,cAAc;AACjC;;AAIJ,6BAAe;AACf,8BAAgB;AAEhB;AACA;;;;AAKZ,eAAO;;AAGf,aAAA;;AAEA,QAAA,cAAA,WAAA;AAaI,4BAAY,OAAe,OAAa;AAPjC,aAAA,cAAc;AAQjB,aAAK,QAAQ;AACb,aAAK,SAAS;AACd,aAAK,WAAW,KAAK,KAAK;AAC1B,YAAI,UAAU,MAAM,MAAM,aAAY;AACtC,YAAI,WAAW,QAAQ,UAAU,GAAG;AAChC,eAAK,SAAS,KAAK,KAAK,QAAQ,OAAO,KAAK;AAC5C,eAAK,WAAW,KAAK,KAAK,QAAQ,OAAO;AACzC,eAAK,OAAO,SAAS,QAAQ,OAAO;;AAGxC,aAAK,eAAe,KAAK,OAAO;AAChC,aAAK,eAAe,KAAK,SAAS;AAClC,aAAK,eAAe,KAAK,SAAS;AAGlC,aAAK,eAAe,aAAY;AAChC,aAAK,eAAe,KAAK,MAAM,WAAW;AAC1C,aAAK,eAAe,KAAK,KAAK,WAAW;;AA3B/B,mBAAA,QAAQ;AACR,mBAAA,WAAW;AA4B7B,aAAA;;AAEA,YAAA,UAAS;;;;;;;;AChXT,QAAA,MAAA,QAAA;AAGA,QAAA,SAAA;AACA,QAAA,WAAA;AACA,QAAA,YAAA;AACA,QAAA,WAAA;AACA,QAAA,sBAAA;AACA,QAAA,8BAAA;AACA,QAAA,SAAA;AACA,QAAA,OAAA;AACA,QAAA,UAAA;AAEA,QAAA,kBAAA;AAOA,QAAA,kBAAA,WAAA;AAaI,gCAAY,aAAoB;AAZxB,aAAA,uBAAiH;AAarH,YAAI,SAAS,IAAI,OAAO;AACxB,aAAK,SAAS;AACd,aAAK,UAAU,IAAI;AACnB,aAAK,mBAAmB;AAExB,YAAI,SAAS,IAAI,OAAO,KAAK;AAC7B,aAAK,UAAU,IAAI,SAAQ,WAAA;AAAM,iBAAA,OAAO;WAAoB,WAAA;AAAM,iBAAA,OAAO;WAAc,WAAA;AAAM,iBAAA,OAAO;WAAoB;;AAOrH,uBAAA,UAAA,oBAAP,SAAyB,YAA0C;AAC/D,aAAK,MAAM,YAAW,UAAU,cAAc;;AAO3C,uBAAA,UAAA,aAAP,SAAkB,YAAmC;AACjD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAS3C,uBAAA,UAAA,cAAP,SAAmB,YAAoC;AACnD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAO3C,uBAAA,UAAA,iBAAP,SAAsB,YAAuC;AACzD,YAAI,cAAa,WAAU,aAAa,CAAC,KAAK,QAAQ,WAAU,YAAY;AACxE,qBAAU,YAAY,IAAI,MAAM,WAAU,UAAU;;AAExD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAO3C,uBAAA,UAAA,aAAP,SAAkB,YAAmC;AACjD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAS3C,uBAAA,UAAA,eAAP,SAAoB,YAAqC;AACrD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAS3C,uBAAA,UAAA,kBAAP,SAAuB,YAAwC;AAE3D,YAAI,cAAa,CAAC,WAAU,UAAU,WAAU,MAAM;AAIlD,qBAAU,SAAS,IAAI,MAAM,WAAU,MAAM;;AAEjD,aAAK,MAAM,YAAW,UAAU,cAAc;;AAO3C,uBAAA,UAAA,QAAP,SAAa,SAAsB;AAC/B,aAAK,QAAQ,YACT,UAAU,CAAC,CAAC,QAAQ,gBAAgB,OACpC,UAAU,QAAQ,WAAW;;AAQ9B,uBAAA,UAAA,QAAP,SAAa,YAAgC,eAAsC;AAC/E,YAAI,cAAa,UAAU,wBAAwB,gBAAgB;AAC/D,cAAI,WAAW,gBAAgB,eAAe,YAAW,eAAe,KAAK,kBAAkB,KAAK,SAAS,KAAK;AAGlH,cAAI,WAAU,MAAM;AAChB,qBAAS,OAAO,WAAU,KAAK;;AAGnC,cAAI,WAAW,KAAK,uBAAuB,UAAU,WAAU;AAI/D,qBAAW,YAAY,oBAAoB,2BAA2B,UAAU,EAAE,oBAAoB,4BAAA,0BAA0B;AAChI,8BAAoB,qCAAqC,UAAU,KAAK;AAExE,cAAI,UAAU;AACV,iBAAK,QAAQ,KAAK;;eAGrB;AACD,kBAAQ,KAAK;;;AAUd,uBAAA,UAAA,wBAAP,SAA6B,oBAAwG;AACjI,aAAK,qBAAqB,KAAK;;AAM5B,uBAAA,UAAA,2BAAP,WAAA;AACI,aAAK,uBAAuB;;AAGxB,uBAAA,UAAA,yBAAR,SAA+B,UAA8B,gBAAwC;AACjG,YAAI,WAAW;AACf,YAAI,2BAA2B,KAAK,qBAAqB;AAEzD,YAAI,6BAA6B,GAAG;AAChC,iBAAO;;AAGX,yBAAiB,kBAAkB;AACnC,uBAAe,wBAAwB,4BAAA,0BAA0B;AAEjE,iBAAS,IAAI,GAAG,IAAI,0BAA0B,EAAE,GAAG;AAC/C,cAAI;AACA,gBAAI,YAAY,KAAK,qBAAqB;AAC1C,gBAAI,WAAW;AACX,kBAAI,UAAU,MAAM,MAAM,CAAC,UAAU,qBAAqB,OAAO;AAC7D,2BAAW;AACX;;;mBAIH,OAAP;AACE,uBAAW;AACX,oBAAQ,KAAK,oEAAoE,OAAO;;;AAIhG,eAAO;;AAEf,aAAA;;AAEA,YAAA,UAAS;;;;;;;;;;;;;;;;;;;;;;;;ACzMT,QAAA,kBAAA;AACA,QAAA,wBAAA;AACA,QAAA,wBAAA;AACA,QAAA,UAAA;AASA,QAAA,aAAA,SAAA,QAAA;AAAyB,gBAAA,aAAA;AAAzB,6BAAA;;;AAQW,kBAAA,UAAA,2BAAP,SAAgC,YAA6C;AACzE,YAAI,cAAa,WAAU,WAAW,WAAU,YAAY,WAAU,UAAU;AAC5E,gCAAsB,iBAAiB,MAAM;eAC1C;AACH,kBAAQ,KAAK;;;AASd,kBAAA,UAAA,uBAAP,SAA4B,YAA6C;AACrE,YAAI,WAAU,YAAY,WAAU,OAAO;AACvC,kBAAQ,KAAK;;AAEjB,YAAI,cAAa,WAAU,WAAW,WAAU,UAAU;AACtD,gCAAsB,aAAa,MAAM;eACtC;AACH,kBAAQ,KAAK;;;AASd,kBAAA,UAAA,0BAAP,SAA+B,YAAgD;AAC3E,YAAI,cAAa,WAAU,SAAS;AAChC,gCAAsB,aAAa,MAAM;eAExC;AACD,kBAAQ,KAAK;;;AAGzB,aAAA;MA7CyB;AA+CzB,YAAA,UAAS;;;;;;;;;AC7DT,QAAA,4BAAA;AACA,QAAA,qBAAA;AACA,QAAA,wBAAA;AACA,QAAA,yBAAA;AACA,QAAA,8BAAA;AACA,QAAA,0BAAA;AAGA,QAAA,uBAAA;AACA,QAAA,UAAA;AAEA,QAAA,mBAAA;AAEA,QAAA,sBAAA;AAIA,YAAA,kBAAA;AACA,YAAA,YAAA;AAEA,QAAY;AAAZ,IAAA,UAAY,0BAAuB;AAK/B,+BAAA,yBAAA,QAAA,KAAA;AAKA,+BAAA,yBAAA,gBAAA,KAAA;OAVQ,0BAAA,QAAA,2BAAA,SAAA,0BAAuB;AAcnC,QAAI,aAAa;AACjB,QAAI,gBAAgB;AACpB,QAAI,gBAAgB;AACpB,QAAI,iBAAiB;AACrB,QAAI,cAAc;AAClB,QAAI,kBAAkB;AACtB,QAAI,eAAe;AACnB,QAAI,iBAAiB;AACrB,QAAI;AACJ,QAAI,wBAAwB;AAC5B,QAAI,uBAAuB;AAC3B,QAAI;AAEJ,QAAI,qBAA6B;AACjC,QAAI,qBAA6B;AAEjC,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AAEJ,QAAI,aAAa;AAQjB,QAAI;AAYJ,mBAAsB,aAAoB;AACtC,UAAG,CAAC,QAAA,eAAe;AACf,gBAAA,gBAAgB,IAAI,QAAA,gBAAgB;AACpC,mBAAW,IAAI,mBAAmB,QAAA;AAClC,sBAAc,IAAI,sBAAsB,QAAA;AACxC,uBAAe,IAAI,uBAAuB,QAAA;AAC1C,0BAAkB,IAAI,wBAAwB,QAAA;AAC9C,0BAAkB,IAAI,4BAA4B,QAAA;AAClD,YAAI,CAAC,oBAAoB;AACrB,+BAAqB,IAAI,oBAAA,6BAA6B,QAAA;;aAEvD;AACH,gBAAQ,KAAK;;AAGjB,UAAI,QAAA,iBAAiB,QAAA,cAAc,SAAS;AACxC,gBAAA,cAAc,QAAQ,uBAAuB,cAAc,oBAAoB;;AAGnF,aAAO;;AAnBX,YAAA,QAAA;AA4BA,qBAAA;AACI,UAAG,CAAC,CAAC,QAAA,eAAe;AAChB,qBAAa;AACb,iBAAS,OAAO,YAAY;AAC5B,oBAAY,OAAO;AACnB,qBAAa,OAAO;AACpB,2BAAmB,OAAO,sBAAsB;AAChD,wBAAgB,mBAAmB,gBAAgB;AACnD,wBAAgB,OAAO;AACvB,wBAAgB,OAAO;AACvB,YAAI,QAAA,qBAAqB,uBAAuB;AAC5C,kBAAA,kBAAkB,OAAO;;aAE1B;AACH,gBAAQ,KAAK;;AAGjB,aAAO;;AAjBX,YAAA,QAAA;AAiCA,qCAAA;AACI,UAAI,gBAAgB;AAChB,eAAO,0BAA0B,0BAA0B;;AAG/D,aAAO;;AALX,YAAA,wBAAA;AAcA,wCAA+D,IAAK;AAChE,aAAO,0BAA0B,0BAA0B,aAAa;;AAD5E,YAAA,6BAAA;AAOA,QAAA,gBAAA,WAAA;AAAA,gCAAA;;AAWkB,qBAAA,4BAAd,SAAwC,OAA8B;AAClE,6BAAqB,aAAa,UAAU,wBAAwB;AACpE,eAAO;;AASG,qBAAA,wBAAd,SAAoC,OAAgB,mBAAkC;AAAlC,YAAA,sBAAA,QAAA;AAAA,8BAAA;;AAChD,qBAAa;AACb,wBAAgB;AAChB,YAAI,YAAW;AACX,mBAAS,OAAO,OAAO;;AAG3B,eAAO;;AAQG,qBAAA,2BAAd,SAAuC,OAAc;AACjD,wBAAgB;AAChB,YAAI,YAAW;AACX,sBAAY,OAAO;;AAGvB,eAAO;;AASG,qBAAA,4BAAd,SAAwC,OAAgB,wBAAiE;AAAjE,YAAA,2BAAA,QAAA;AAAA,mCAAA;;AACpD,yBAAiB;AACjB,YAAM,wBAAwB,oBAAA,6BAA6B,aAAa;AACxE,+BAAuB,sBAAsB;AAC7C,mCAA2B,sBAAsB;AACjD,YAAI,YAAY;AACZ,uBAAa,OAAO;AACpB,6BAAmB,OAAO,sBAAsB,WAAW,sBAAsB;;AAIrF,eAAO;;AAQG,qBAAA,yBAAd,SAAqC,OAAc;AAC/C,sBAAc;AACd,YAAI,YAAY;AACZ,0BAAgB,OAAO;;AAG3B,eAAO;;AAQG,qBAAA,6BAAd,SAAyC,OAAc;AACnD,0BAAkB;AAClB,YAAI,YAAY;AACZ,0BAAgB,OAAO;;AAG3B,eAAO;;AASG,qBAAA,+BAAd,SAA2C,OAAgB,eAAuB;AAC9E,yBAAiB;AACjB,0BAAkB;AAClB,YAAI,YAAY;AACZ,0BAAgB,mBAAmB,OAAO;;AAG9C,eAAO;;AAaG,qBAAA,yBAAd,SAAqC,OAAgB,gBAAyB,gBAAuB;AACjG,uBAAe;AACf,6BAAqB;AACrB,6BAAqB;AACrB,YAAI,QAAA,iBAAiB,QAAA,cAAc,SAAQ;AACvC,kBAAA,cAAc,QAAQ,uBAAuB,OAAO,gBAAgB;;AAGxE,eAAO;;AASG,qBAAA,qBAAd,SAAiC,oBAA4B,sBAA2B;AAAvD,YAAA,uBAAA,QAAA;AAAA,+BAAA;;AAA4B,YAAA,yBAAA,QAAA;AAAA,iCAAA;;AACzD,gBAAQ,cAAc;AACtB,gBAAQ,kBAAkB,CAAC;AAC3B,eAAO;;AAOG,qBAAA,qBAAd,SAAiC,QAAc;AAAd,YAAA,WAAA,QAAA;AAAA,mBAAA;;AAC7B,YAAI,CAAC,QAAA,eAAe;AAEhB,kBAAQ,KAAK;AACb,iBAAO;;AAGX,YAAI,CAAC,QAAA,qBAAqB,QAAQ;AAE9B,kBAAA,oBAAoB,IAAI,iBAAiB,QAAA,cAAc,OAAO;AAC9D,oCAA0B,IAAI,uBAAuB,QAAA,mBAA0B,KAAM;AACrF,kBAAA,kBAAkB,aAAa;AAC/B,kBAAA,cAAc,mBAAmB,QAAA;mBAC1B,QAAA,mBAAmB;AAE1B,kBAAA,kBAAkB,OAAO;;AAE7B,gCAAwB;AAExB,eAAO;;AApKG,qBAAA,QAAQ;AAsK1B,aAAA;;AAxKa,YAAA,gBAAA;AA6Kb,uBAAA;AACI,cAAA,gBAAgB;AAChB,mBAAa;AACb,UAAI,UAAU;AACV,iBAAS;;AAEb,UAAI,aAAa;AACb,oBAAY;;AAEhB,UAAI,cAAc;AACd,qBAAa;;AAEjB,UAAI,oBAAoB;AACpB,2BAAmB;;AAEvB,UAAG,iBAAiB;AAChB,wBAAgB;;AAEpB,UAAG,iBAAiB;AAChB,wBAAgB;;AAEpB,UAAG,QAAA,mBAAmB;AAClB,gBAAA,kBAAkB,OAAO;AACzB,gCAAwB;AACxB,gBAAA,oBAAoB;;;AAxB5B,YAAA,UAAA;;;;;AC5UA;AAAA;AAGA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,YAAQ,IAAI,gDAAgD;AAC5D,QAAI,MAAK,QAAQ;AACjB,QAAI,MAAK,QAAQ;AACjB,QAAI,QAAO,QAAQ;AACnB,QAAI,WAAS,QAAQ;AACrB,QAAI,cAAc;AAClB,QAAI,qBAAmC,WAAY;AAE/C,kCAA2B,aAAa,kBAAkB,KAAK,YAAY;AACvE,YAAI,QAAQ;AACZ,aAAK,cAAc;AACnB,aAAK,mBAAmB;AACxB,aAAK,aAAa;AAClB,aAAK,YAAY;AACjB,aAAK,aAAa,CAAC,CAAC;AACpB,YAAI,cAAc,QAAQ,IAAI,kBAAkB;AAChD,YAAI,eAAe,eAAe,QAAQ,IAAI,wBAAwB,SAAS;AAC3E,wBAAc,MAAK,KAAK,aAAa,cAAc;AACnD,eAAK,YAAY,IAAG,kBAAkB,aAAa,EAAE,OAAO,KAAK,UAAU,QAAQ,WAAW;AAAA;AAElG,aAAK,gBAAgB;AACrB,YAAI,SAAO,IAAI,gCAAgC,QAAW;AACtD,eAAK,iBAAiB,SAAO,IAAI,4BAA4B,WAAY;AAAE,mBAAO,MAAM,gBAAgB;AAAA;AAAA,eAEvG;AACD,eAAK,iBAAiB,SAAO,UAAU,yBAAyB,WAAY;AAAE,mBAAO,MAAM,gBAAgB;AAAA;AAAA;AAAA;AAGnH,yBAAkB,UAAU,kBAAkB,SAAU,KAAK;AAEzD,YAAI,SAAS,SAAO,UAAU,iBAAiB,mBAAkB;AACjE,YAAI,gBAAgB,SAAO,IAAI,uBAAuB,SAClD,OAAO,IAAI,mBAAkB,6BAA6B,QAC1D,SAAO,IAAI;AACf,YAAI,KAAK,cAAc,eAAe;AAClC,eAAK,YAAY;AACjB,cAAI,KAAK,WAAW;AAChB,iBAAK,wBAAwB;AAAA,iBAE5B;AACD,iBAAK;AAAA;AAAA;AAAA;AAIjB,yBAAkB,UAAU,0BAA0B,SAAU,KAAK;AAEjE,YAAI,YAAY,eAAe;AAC3B,eAAK,oBAAoB,IAAI,YAAY,gBAAgB;AAEzD,eAAK,kBAAkB,QAAQ,uBAAuB;AAAA,eAErD;AACD,sBAAY,MAAM,KACb,uBAAuB,OACvB,0BAA0B,OAC1B,yBAAyB,OACzB,2BAA2B,OAC3B,6BAA6B,OAC7B,sBAAsB,OACtB,uBAAuB,MACvB;AACL,eAAK,oBAAoB,YAAY;AAAA;AAEzC,aAAK,kBAAkB,mBAAmB,KAAK;AAC/C,YAAI,YAAU,SAAO,KAAK;AACtB,eAAK,kBAAkB,QAAQ,KAAK,KAAK,kBAAkB,QAAQ,KAAK,UAAU,SAAO,IAAI;AAC7F,eAAK,kBAAkB,QAAQ,KAAK,KAAK,kBAAkB,QAAQ,KAAK,aAAa,SAAO,IAAI;AAAA;AAGpG,YAAI,OAAO,IAAI,QAAQ,YAAY,GAAG;AAClC,eAAK,kBAAkB,OAAO,cAAc;AAC5C,eAAK,aAAa;AAAA;AAAA;AAa1B,yBAAkB,UAAU,sBAAsB,WAAY;AAC1D,YAAI,mBAAmB,OAAO,OAAO;AACrC,yBAAiB,eAAe,IAAG;AACnC,yBAAiB,4BAA6B,KAAG,aAAa,IAAI,QAAQ,8BAA8B;AACxG,yBAAiB,oBAAoB,KAAK;AAC1C,yBAAiB,uBAAuB,KAAK;AAC7C,YAAI,YAAU,SAAO,KAAK;AACtB,2BAAiB,4BAA4B,SAAO,IAAI;AACxD,2BAAiB,4BAA4B,SAAO,IAAI;AACxD,2BAAiB,0BAA0B,SAAO;AAClD,2BAAiB,4BAA4B,SAAO,IAAI;AACxD,kBAAQ,SAAO,IAAI;AAAA,iBACV,SAAO,OAAO;AACf,+BAAiB,mBAAmB;AACpC;AAAA,iBACC,SAAO,OAAO;AACf,+BAAiB,mBAAmB;AACpC;AAAA;AAEA,+BAAiB,mBAAmB;AAAA;AAE5C,2BAAiB,uBAAuB,KAAK,gBAAgB,SAAO,IAAI;AAAA;AAE5E,eAAO;AAAA;AAEX,yBAAkB,UAAU,kBAAkB,SAAU,YAAY;AAChE,YAAI,CAAC,YAAY;AACb,iBAAO;AAAA;AAEX,YAAI,MAAM;AAEV,SAAC,cAAc,iBAAiB,sBAAsB,OAAO,QAAQ,SAAU,KAAK;AAChF,cAAI,WAAW,QAAQ,MAAM,SAAS,GAAG;AACrC,kBAAM;AAAA;AAAA;AAGd,eAAO;AAAA;AAEX,yBAAkB,UAAU,2BAA2B,WAAY;AAC/D,YAAI,KAAK,YAAY;AACjB,cAAI,KAAK,gBAAgB,SAAO,IAAI,gBAAgB,SAAS;AACzD,mBAAO;AAAA;AAEX,cAAI,KAAK,cAAc,UAAa,KAAK,UAAU,kBAAkB,SAAO,cAAc,WAAW;AACjG,mBAAO;AAAA;AAEX,cAAI,SAAO,IAAI,WAAW,SAAO,OAAO,KAAK;AACzC,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,eAAO;AAAA;AAEX,aAAO,eAAe,mBAAkB,WAAW,aAAa;AAAA,QAC5D,KAAK,WAAY;AACb,cAAI,KAAK,eAAe,QAAW;AAC/B,iBAAK,aAAa,SAAO,WAAW,aAAa,KAAK;AAAA;AAE1D,iBAAO,KAAK;AAAA;AAAA,QAEhB,YAAY;AAAA,QACZ,cAAc;AAAA;AAElB,yBAAkB,UAAU,iBAAiB,SAAU,KAAK,QAAQ;AAChE,YAAI,QAAQ,QAAQ,OAAO,QAAQ;AAC/B,iBAAO;AACX,YAAI,OAAO,WAAW;AAClB,iBAAO;AACX,YAAI,MAAM;AACV,iBAAS,OAAO,KAAK;AACjB,cAAI,OAAO,OAAO,KAAK,IAAI;AAAA;AAE/B,eAAO;AAAA;AAEX,yBAAkB,UAAU,qBAAqB,SAAU,OAAO,oBAAoB;AAClF,YAAI,UAAU,UAAa,UAAU,MAAM;AACvC,iBAAO;AAAA;AAEX,YAAI,kBAAkB,CAAC,IAAI,OAAO,SAAO,IAAI,QAAQ,QAAQ,uBAAuB,SAAS;AAC7F,YAAI,KAAK,WAAW;AAChB,0BAAgB,KAAK,IAAI,OAAO,KAAK,UAAU,cAAc,QAAQ,uBAAuB,SAAS;AAAA;AAEzG,YAAI,eAAe;AACnB,YAAI,oBAAoB;AACpB,cAAI,iBAAiB;AACrB,mBAAS,KAAK,GAAG,oBAAoB,iBAAiB,KAAK,kBAAkB,QAAQ,MAAM;AACvF,gBAAI,SAAS,kBAAkB;AAC/B,mBAAO,MAAM;AACT,kBAAI,SAAS,OAAO,KAAK;AACzB,kBAAI,CAAC,QAAQ;AACT;AAAA;AAEJ,6BAAe,KAAK,CAAC,OAAO,OAAO,OAAO;AAAA;AAAA;AAGlD,cAAI,mBAAmB;AACvB,cAAI,YAAY;AAChB,cAAI,YAAY;AAChB,yBAAe;AACf,cAAI,UAAU,WAAY;AACtB,gBAAI,UAAS,UAAU,KAAK;AAC5B,gBAAI,CAAC,SAAQ;AACT,qBAAO;AAAA;AAGX,gBAAI,CAAC,iBAAiB,KAAK,QAAO,OAAO,eAAe,MAAM,SAAU,KAAI;AACxE,kBAAI,IAAI,IAAG,IAAI,IAAI,IAAG;AACtB,qBAAO,QAAO,QAAQ,KAAK,QAAO,SAAS;AAAA,gBAC3C;AACA,8BAAgB,MAAM,UAAU,WAAW,QAAO,SAAS;AAC3D,0BAAY,UAAU;AAAA;AAAA;AAG9B,iBAAO,MAAM;AACT,gBAAI,UAAU;AACd,gBAAI,YAAY;AACZ;AAAA;AAER,cAAI,YAAY,MAAM,QAAQ;AAC1B,4BAAgB,MAAM,OAAO;AAAA;AAAA;AAIrC,iBAAS,KAAK,GAAG,oBAAoB,iBAAiB,KAAK,kBAAkB,QAAQ,MAAM;AACvF,cAAI,SAAS,kBAAkB;AAC/B,yBAAe,aAAa,QAAQ,QAAQ;AAAA;AAEhD,eAAO;AAAA;AAEX,yBAAkB,UAAU,qBAAqB,SAAU,WAAW,YAAY,cAAc;AAC5F,YAAI,QAAQ;AACZ,YAAI,KAAK,aAAa,aAAa,KAAK,mBAAmB;AACvD,cAAI,kBAAkB,KAAK,eAAe,YAAY,SAAU,MAAM,MAAM;AAAE,mBAAO,MAAM,mBAAmB,MAAM,MAAM;AAAA;AAC1H,eAAK,kBAAkB,WAAW;AAAA,YAC9B,MAAM,KAAK,cAAc,MAAM;AAAA,YAC/B,YAAY;AAAA,YACZ;AAAA;AAEJ,cAAI,KAAK,WAAW;AAChB,iBAAK,UAAU,MAAM,eAAe,YAAY,MAAM,KAAK,UAAU,EAAE,YAAwB,kBAAgC;AAAA;AAAA;AAAA;AAI3I,yBAAkB,UAAU,0BAA0B,SAAU,WAAW,YAAY,cAAc,YAAY;AAC7G,YAAI,QAAQ;AACZ,YAAI,KAAK,aAAa,aAAa,KAAK,mBAAmB;AAIvD,cAAI,kBAAkB,KAAK,eAAe,YAAY,SAAU,KAAK,MAAM;AACvE,gBAAI,MAAM,4BAA4B;AAClC,qBAAO,MAAM,mBAAmB,MAAM,MAAM;AAAA;AAEhD,gBAAI,eAAe,UAAa,WAAW,QAAQ,SAAS,IAAI;AAC5D,qBAAO;AAAA;AAEX,mBAAO,MAAM,mBAAmB,MAAM,MAAM;AAAA;AAEhD,eAAK,kBAAkB,WAAW;AAAA,YAC9B,MAAM,KAAK,cAAc,MAAM;AAAA,YAC/B,YAAY;AAAA,YACZ;AAAA;AAEJ,cAAI,KAAK,WAAW;AAChB,iBAAK,UAAU,MAAM,eAAe,YAAY,MAAM,KAAK,UAAU,EAAE,YAAwB,kBAAgC;AAAA;AAAA;AAAA;AAI3I,yBAAkB,UAAU,yBAAyB,SAAU,OAAO,YAAY,cAAc;AAC5F,YAAI,QAAQ;AACZ,YAAI,KAAK,8BAA8B,KAAK,aAAa,SAAS,KAAK,mBAAmB;AACtF,cAAI,kBAAkB,KAAK,eAAe,YAAY,SAAU,MAAM,MAAM;AAAE,mBAAO,MAAM,mBAAmB,MAAM,MAAM;AAAA;AAC1H,eAAK,kBAAkB,eAAe;AAAA,YAClC,WAAW;AAAA,YACX,YAAY;AAAA,YACZ;AAAA;AAEJ,cAAI,KAAK,WAAW;AAChB,iBAAK,UAAU,MAAM,eAAe,MAAM,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,UAAU,EAAE,YAAwB,kBAAgC;AAAA;AAAA;AAAA;AAIlK,yBAAkB,UAAU,UAAU,WAAY;AAC9C,YAAI,QAAQ;AACZ,aAAK,eAAe;AACpB,YAAI,sBAAsB,IAAI,QAAQ,SAAU,SAAS;AACrD,cAAI,CAAC,MAAM,WAAW;AAClB,mBAAO,QAAQ;AAAA;AAEnB,gBAAM,UAAU,GAAG,UAAU;AAC7B,gBAAM,UAAU;AAAA;AAEpB,YAAI,kBAAkB,IAAI,QAAQ,SAAU,SAAS;AACjD,cAAI,MAAM,mBAAmB;AACzB,kBAAM,kBAAkB,MAAM;AAAA,cAC1B,UAAU,WAAY;AAElB,sBAAM,oBAAoB;AAC1B,wBAAQ;AAAA;AAAA;AAAA,iBAIf;AACD,oBAAQ;AAAA;AAAA;AAGhB,eAAO,QAAQ,IAAI,CAAC,iBAAiB;AAAA;AAEzC,yBAAkB,sBAAsB;AACxC,yBAAkB,8BAA8B;AAChD,aAAO;AAAA;AAEX,YAAQ,UAAU;AAAA;AAAA;;;AC7SlB;AAAA;AAEA,QAAM,sBAAsB;AAE5B,QAAM,aAAa;AACnB,QAAM,mBAAmB,OAAO,oBACH;AAG7B,QAAM,4BAA4B;AAElC,YAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA;AAAA;;;ACfF;AAAA;AAAA,QAAM,QACJ,OAAO,YAAY,YACnB,QAAQ,OACR,QAAQ,IAAI,cACZ,cAAc,KAAK,QAAQ,IAAI,cAC7B,IAAI,SAAS,QAAQ,MAAM,UAAU,GAAG,QACxC,MAAM;AAAA;AAEV,YAAO,UAAU;AAAA;AAAA;;;ACRjB;AAAA;AAAA,QAAM,EAAE,8BAA8B;AACtC,QAAM,QAAQ;AACd,cAAU,QAAO,UAAU;AAG3B,QAAM,KAAK,QAAQ,KAAK;AACxB,QAAM,MAAM,QAAQ,MAAM;AAC1B,QAAM,IAAI,QAAQ,IAAI;AACtB,QAAI,IAAI;AAER,QAAM,cAAc,CAAC,MAAM,OAAO,aAAa;AAC7C,YAAM,QAAQ;AACd,YAAM,OAAO;AACb,QAAE,QAAQ;AACV,UAAI,SAAS;AACb,SAAG,SAAS,IAAI,OAAO,OAAO,WAAW,MAAM;AAAA;AASjD,gBAAY,qBAAqB;AACjC,gBAAY,0BAA0B;AAMtC,gBAAY,wBAAwB;AAKpC,gBAAY,eAAe,IAAI,IAAI,EAAE,0BACd,IAAI,EAAE,0BACN,IAAI,EAAE;AAE7B,gBAAY,oBAAoB,IAAI,IAAI,EAAE,+BACd,IAAI,EAAE,+BACN,IAAI,EAAE;AAKlC,gBAAY,wBAAwB,MAAM,IAAI,EAAE,sBAC5C,IAAI,EAAE;AAEV,gBAAY,6BAA6B,MAAM,IAAI,EAAE,2BACjD,IAAI,EAAE;AAMV,gBAAY,cAAc,QAAQ,IAAI,EAAE,8BAC/B,IAAI,EAAE;AAEf,gBAAY,mBAAmB,SAAS,IAAI,EAAE,mCACrC,IAAI,EAAE;AAKf,gBAAY,mBAAmB;AAM/B,gBAAY,SAAS,UAAU,IAAI,EAAE,yBAC5B,IAAI,EAAE;AAWf,gBAAY,aAAa,KAAK,IAAI,EAAE,eACjC,IAAI,EAAE,eACP,IAAI,EAAE;AAER,gBAAY,QAAQ,IAAI,IAAI,EAAE;AAK9B,gBAAY,cAAc,WAAW,IAAI,EAAE,oBACxC,IAAI,EAAE,oBACP,IAAI,EAAE;AAER,gBAAY,SAAS,IAAI,IAAI,EAAE;AAE/B,gBAAY,QAAQ;AAKpB,gBAAY,yBAAyB,GAAG,IAAI,EAAE;AAC9C,gBAAY,oBAAoB,GAAG,IAAI,EAAE;AAEzC,gBAAY,eAAe,YAAY,IAAI,EAAE,4BAChB,IAAI,EAAE,4BACN,IAAI,EAAE,wBACV,IAAI,EAAE,gBACV,IAAI,EAAE;AAG3B,gBAAY,oBAAoB,YAAY,IAAI,EAAE,iCAChB,IAAI,EAAE,iCACN,IAAI,EAAE,6BACV,IAAI,EAAE,qBACV,IAAI,EAAE;AAGhC,gBAAY,UAAU,IAAI,IAAI,EAAE,YAAY,IAAI,EAAE;AAClD,gBAAY,eAAe,IAAI,IAAI,EAAE,YAAY,IAAI,EAAE;AAIvD,gBAAY,UAAU,GAAG,sBACC,2CACI,6CACA;AAE9B,gBAAY,aAAa,IAAI,EAAE,SAAS;AAIxC,gBAAY,aAAa;AAEzB,gBAAY,aAAa,SAAS,IAAI,EAAE,kBAAkB;AAC1D,YAAQ,mBAAmB;AAE3B,gBAAY,SAAS,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAClD,gBAAY,cAAc,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAIvD,gBAAY,aAAa;AAEzB,gBAAY,aAAa,SAAS,IAAI,EAAE,kBAAkB;AAC1D,YAAQ,mBAAmB;AAE3B,gBAAY,SAAS,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAClD,gBAAY,cAAc,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAGvD,gBAAY,mBAAmB,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAC5D,gBAAY,cAAc,IAAI,IAAI,EAAE,aAAa,IAAI,EAAE;AAIvD,gBAAY,kBAAkB,SAAS,IAAI,EAAE,aACrC,IAAI,EAAE,eAAe,IAAI,EAAE,iBAAiB;AACpD,YAAQ,wBAAwB;AAMhC,gBAAY,eAAe,SAAS,IAAI,EAAE,0BAEnB,IAAI,EAAE;AAG7B,gBAAY,oBAAoB,SAAS,IAAI,EAAE,+BAEnB,IAAI,EAAE;AAIlC,gBAAY,QAAQ;AAEpB,gBAAY,QAAQ;AACpB,gBAAY,WAAW;AAAA;AAAA;;;ACrLvB;AAAA;AAEA,QAAM,OAAO,CAAC,qBAAqB,SAAS;AAC5C,QAAM,eAAe,aACnB,CAAC,UAAU,KACT,OAAO,YAAY,WAAW,EAAE,OAAO,SACvC,KAAK,OAAO,OAAK,QAAQ,IAAI,OAAO,CAAC,UAAS,MAAM;AACpD,eAAQ,KAAK;AACb,aAAO;AAAA,OACN;AACL,YAAO,UAAU;AAAA;AAAA;;;ACVjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,qBAAqB,CAAC,GAAG,MAAM;AACnC,YAAM,OAAO,QAAQ,KAAK;AAC1B,YAAM,OAAO,QAAQ,KAAK;AAE1B,UAAI,QAAQ,MAAM;AAChB,YAAI,CAAC;AACL,YAAI,CAAC;AAAA;AAGP,aAAO,MAAM,IAAI,IACZ,QAAQ,CAAC,OAAQ,KACjB,QAAQ,CAAC,OAAQ,IAClB,IAAI,IAAI,KACR;AAAA;AAGN,QAAM,sBAAsB,CAAC,GAAG,MAAM,mBAAmB,GAAG;AAE5D,YAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA;AAAA;AAAA;;;ACrBF;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,EAAE,YAAY,qBAAqB;AACzC,QAAM,EAAE,IAAI,MAAM;AAElB,QAAM,eAAe;AACrB,QAAM,EAAE,uBAAuB;AAC/B,uBAAa;AAAA,MACX,YAAa,SAAS,SAAS;AAC7B,kBAAU,aAAa;AAEvB,YAAI,mBAAmB,QAAQ;AAC7B,cAAI,QAAQ,UAAU,CAAC,CAAC,QAAQ,SAC5B,QAAQ,sBAAsB,CAAC,CAAC,QAAQ,mBAAmB;AAC7D,mBAAO;AAAA,iBACF;AACL,sBAAU,QAAQ;AAAA;AAAA,mBAEX,OAAO,YAAY,UAAU;AACtC,gBAAM,IAAI,UAAU,oBAAoB;AAAA;AAG1C,YAAI,QAAQ,SAAS,YAAY;AAC/B,gBAAM,IAAI,UACR,0BAA0B;AAAA;AAI9B,cAAM,UAAU,SAAS;AACzB,aAAK,UAAU;AACf,aAAK,QAAQ,CAAC,CAAC,QAAQ;AAGvB,aAAK,oBAAoB,CAAC,CAAC,QAAQ;AAEnC,cAAM,IAAI,QAAQ,OAAO,MAAM,QAAQ,QAAQ,GAAG,EAAE,SAAS,GAAG,EAAE;AAElE,YAAI,CAAC,GAAG;AACN,gBAAM,IAAI,UAAU,oBAAoB;AAAA;AAG1C,aAAK,MAAM;AAGX,aAAK,QAAQ,CAAC,EAAE;AAChB,aAAK,QAAQ,CAAC,EAAE;AAChB,aAAK,QAAQ,CAAC,EAAE;AAEhB,YAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,KAAK,QAAQ,oBAAoB,KAAK,QAAQ,GAAG;AACnD,gBAAM,IAAI,UAAU;AAAA;AAItB,YAAI,CAAC,EAAE,IAAI;AACT,eAAK,aAAa;AAAA,eACb;AACL,eAAK,aAAa,EAAE,GAAG,MAAM,KAAK,IAAI,CAAC,OAAO;AAC5C,gBAAI,WAAW,KAAK,KAAK;AACvB,oBAAM,MAAM,CAAC;AACb,kBAAI,OAAO,KAAK,MAAM,kBAAkB;AACtC,uBAAO;AAAA;AAAA;AAGX,mBAAO;AAAA;AAAA;AAIX,aAAK,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO;AACtC,aAAK;AAAA;AAAA,MAGP,SAAU;AACR,aAAK,UAAU,GAAG,KAAK,SAAS,KAAK,SAAS,KAAK;AACnD,YAAI,KAAK,WAAW,QAAQ;AAC1B,eAAK,WAAW,IAAI,KAAK,WAAW,KAAK;AAAA;AAE3C,eAAO,KAAK;AAAA;AAAA,MAGd,WAAY;AACV,eAAO,KAAK;AAAA;AAAA,MAGd,QAAS,OAAO;AACd,cAAM,kBAAkB,KAAK,SAAS,KAAK,SAAS;AACpD,YAAI,CAAE,kBAAiB,SAAS;AAC9B,cAAI,OAAO,UAAU,YAAY,UAAU,KAAK,SAAS;AACvD,mBAAO;AAAA;AAET,kBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,YAAI,MAAM,YAAY,KAAK,SAAS;AAClC,iBAAO;AAAA;AAGT,eAAO,KAAK,YAAY,UAAU,KAAK,WAAW;AAAA;AAAA,MAGpD,YAAa,OAAO;AAClB,YAAI,CAAE,kBAAiB,SAAS;AAC9B,kBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,eACE,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM,UACrC,mBAAmB,KAAK,OAAO,MAAM;AAAA;AAAA,MAIzC,WAAY,OAAO;AACjB,YAAI,CAAE,kBAAiB,SAAS;AAC9B,kBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAIjC,YAAI,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AACtD,iBAAO;AAAA,mBACE,CAAC,KAAK,WAAW,UAAU,MAAM,WAAW,QAAQ;AAC7D,iBAAO;AAAA,mBACE,CAAC,KAAK,WAAW,UAAU,CAAC,MAAM,WAAW,QAAQ;AAC9D,iBAAO;AAAA;AAGT,YAAI,IAAI;AACR,WAAG;AACD,gBAAM,IAAI,KAAK,WAAW;AAC1B,gBAAM,IAAI,MAAM,WAAW;AAC3B,gBAAM,sBAAsB,GAAG,GAAG;AAClC,cAAI,MAAM,UAAa,MAAM,QAAW;AACtC,mBAAO;AAAA,qBACE,MAAM,QAAW;AAC1B,mBAAO;AAAA,qBACE,MAAM,QAAW;AAC1B,mBAAO;AAAA,qBACE,MAAM,GAAG;AAClB;AAAA,iBACK;AACL,mBAAO,mBAAmB,GAAG;AAAA;AAAA,iBAExB,EAAE;AAAA;AAAA,MAGb,aAAc,OAAO;AACnB,YAAI,CAAE,kBAAiB,SAAS;AAC9B,kBAAQ,IAAI,OAAO,OAAO,KAAK;AAAA;AAGjC,YAAI,IAAI;AACR,WAAG;AACD,gBAAM,IAAI,KAAK,MAAM;AACrB,gBAAM,IAAI,MAAM,MAAM;AACtB,gBAAM,sBAAsB,GAAG,GAAG;AAClC,cAAI,MAAM,UAAa,MAAM,QAAW;AACtC,mBAAO;AAAA,qBACE,MAAM,QAAW;AAC1B,mBAAO;AAAA,qBACE,MAAM,QAAW;AAC1B,mBAAO;AAAA,qBACE,MAAM,GAAG;AAClB;AAAA,iBACK;AACL,mBAAO,mBAAmB,GAAG;AAAA;AAAA,iBAExB,EAAE;AAAA;AAAA,MAKb,IAAK,SAAS,YAAY;AACxB,gBAAQ;AAAA,eACD;AACH,iBAAK,WAAW,SAAS;AACzB,iBAAK,QAAQ;AACb,iBAAK,QAAQ;AACb,iBAAK;AACL,iBAAK,IAAI,OAAO;AAChB;AAAA,eACG;AACH,iBAAK,WAAW,SAAS;AACzB,iBAAK,QAAQ;AACb,iBAAK;AACL,iBAAK,IAAI,OAAO;AAChB;AAAA,eACG;AAIH,iBAAK,WAAW,SAAS;AACzB,iBAAK,IAAI,SAAS;AAClB,iBAAK,IAAI,OAAO;AAChB;AAAA,eAGG;AACH,gBAAI,KAAK,WAAW,WAAW,GAAG;AAChC,mBAAK,IAAI,SAAS;AAAA;AAEpB,iBAAK,IAAI,OAAO;AAChB;AAAA,eAEG;AAKH,gBACE,KAAK,UAAU,KACf,KAAK,UAAU,KACf,KAAK,WAAW,WAAW,GAC3B;AACA,mBAAK;AAAA;AAEP,iBAAK,QAAQ;AACb,iBAAK,QAAQ;AACb,iBAAK,aAAa;AAClB;AAAA,eACG;AAKH,gBAAI,KAAK,UAAU,KAAK,KAAK,WAAW,WAAW,GAAG;AACpD,mBAAK;AAAA;AAEP,iBAAK,QAAQ;AACb,iBAAK,aAAa;AAClB;AAAA,eACG;AAKH,gBAAI,KAAK,WAAW,WAAW,GAAG;AAChC,mBAAK;AAAA;AAEP,iBAAK,aAAa;AAClB;AAAA,eAGG;AACH,gBAAI,KAAK,WAAW,WAAW,GAAG;AAChC,mBAAK,aAAa,CAAC;AAAA,mBACd;AACL,kBAAI,IAAI,KAAK,WAAW;AACxB,qBAAO,EAAE,KAAK,GAAG;AACf,oBAAI,OAAO,KAAK,WAAW,OAAO,UAAU;AAC1C,uBAAK,WAAW;AAChB,sBAAI;AAAA;AAAA;AAGR,kBAAI,MAAM,IAAI;AAEZ,qBAAK,WAAW,KAAK;AAAA;AAAA;AAGzB,gBAAI,YAAY;AAGd,kBAAI,KAAK,WAAW,OAAO,YAAY;AACrC,oBAAI,MAAM,KAAK,WAAW,KAAK;AAC7B,uBAAK,aAAa,CAAC,YAAY;AAAA;AAAA,qBAE5B;AACL,qBAAK,aAAa,CAAC,YAAY;AAAA;AAAA;AAGnC;AAAA;AAGA,kBAAM,IAAI,MAAM,+BAA+B;AAAA;AAEnD,aAAK;AACL,aAAK,MAAM,KAAK;AAChB,eAAO;AAAA;AAAA;AAIX,YAAO,UAAU;AAAA;AAAA;;;AC9RjB;AAAA;AAAA,QAAM,EAAC,eAAc;AACrB,QAAM,EAAE,IAAI,MAAM;AAClB,QAAM,SAAS;AAEf,QAAM,eAAe;AACrB,QAAM,QAAQ,CAAC,SAAS,YAAY;AAClC,gBAAU,aAAa;AAEvB,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,UAAI,QAAQ,SAAS,YAAY;AAC/B,eAAO;AAAA;AAGT,YAAM,KAAI,QAAQ,QAAQ,GAAG,EAAE,SAAS,GAAG,EAAE;AAC7C,UAAI,CAAC,GAAE,KAAK,UAAU;AACpB,eAAO;AAAA;AAGT,UAAI;AACF,eAAO,IAAI,OAAO,SAAS;AAAA,eACpB,IAAP;AACA,eAAO;AAAA;AAAA;AAIX,YAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,QAAQ,CAAC,SAAS,YAAY;AAClC,YAAM,IAAI,MAAM,SAAS;AACzB,aAAO,IAAI,EAAE,UAAU;AAAA;AAEzB,YAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,QAAQ,CAAC,SAAS,YAAY;AAClC,YAAM,IAAI,MAAM,QAAQ,OAAO,QAAQ,UAAU,KAAK;AACtD,aAAO,IAAI,EAAE,UAAU;AAAA;AAEzB,YAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAM,SAAS;AAEf,QAAM,MAAM,CAAC,SAAS,SAAS,SAAS,eAAe;AACrD,UAAI,OAAQ,YAAa,UAAU;AACjC,qBAAa;AACb,kBAAU;AAAA;AAGZ,UAAI;AACF,eAAO,IAAI,OAAO,SAAS,SAAS,IAAI,SAAS,YAAY;AAAA,eACtD,IAAP;AACA,eAAO;AAAA;AAAA;AAGX,YAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,UAAU,CAAC,GAAG,GAAG,UACrB,IAAI,OAAO,GAAG,OAAO,QAAQ,IAAI,OAAO,GAAG;AAE7C,YAAO,UAAU;AAAA;AAAA;;;ACJjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,KAAK,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,WAAW;AACrD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,KAAK;AAEX,QAAM,OAAO,CAAC,UAAU,aAAa;AACnC,UAAI,GAAG,UAAU,WAAW;AAC1B,eAAO;AAAA,aACF;AACL,cAAM,KAAK,MAAM;AACjB,cAAM,KAAK,MAAM;AACjB,cAAM,SAAS,GAAG,WAAW,UAAU,GAAG,WAAW;AACrD,cAAM,SAAS,SAAS,QAAQ;AAChC,cAAM,gBAAgB,SAAS,eAAe;AAC9C,mBAAW,OAAO,IAAI;AACpB,cAAI,QAAQ,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACzD,gBAAI,GAAG,SAAS,GAAG,MAAM;AACvB,qBAAO,SAAS;AAAA;AAAA;AAAA;AAItB,eAAO;AAAA;AAAA;AAGX,YAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ,CAAC,GAAG,UAAU,IAAI,OAAO,GAAG,OAAO;AACjD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ,CAAC,GAAG,UAAU,IAAI,OAAO,GAAG,OAAO;AACjD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ,CAAC,GAAG,UAAU,IAAI,OAAO,GAAG,OAAO;AACjD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,aAAa,CAAC,SAAS,YAAY;AACvC,YAAM,SAAS,MAAM,SAAS;AAC9B,aAAQ,UAAU,OAAO,WAAW,SAAU,OAAO,aAAa;AAAA;AAEpE,YAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,WAAW,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG;AAChD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,eAAe,CAAC,GAAG,MAAM,QAAQ,GAAG,GAAG;AAC7C,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,eAAe,CAAC,GAAG,GAAG,UAAU;AACpC,YAAM,WAAW,IAAI,OAAO,GAAG;AAC/B,YAAM,WAAW,IAAI,OAAO,GAAG;AAC/B,aAAO,SAAS,QAAQ,aAAa,SAAS,aAAa;AAAA;AAE7D,YAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAM,eAAe;AACrB,QAAM,OAAO,CAAC,MAAM,UAAU,KAAK,KAAK,CAAC,GAAG,MAAM,aAAa,GAAG,GAAG;AACrE,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,eAAe;AACrB,QAAM,QAAQ,CAAC,MAAM,UAAU,KAAK,KAAK,CAAC,GAAG,MAAM,aAAa,GAAG,GAAG;AACtE,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,KAAK,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,SAAS;AACnD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,KAAK,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,SAAS;AACnD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,MAAM,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,WAAW;AACtD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,MAAM,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,UAAU;AACrD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,UAAU;AAChB,QAAM,MAAM,CAAC,GAAG,GAAG,UAAU,QAAQ,GAAG,GAAG,UAAU;AACrD,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA,QAAM,KAAK;AACX,QAAM,MAAM;AACZ,QAAM,KAAK;AACX,QAAM,MAAM;AACZ,QAAM,KAAK;AACX,QAAM,MAAM;AAEZ,QAAM,MAAM,CAAC,GAAG,IAAI,GAAG,UAAU;AAC/B,cAAQ;AAAA,aACD;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AACH,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,cAAI,OAAO,MAAM;AACf,gBAAI,EAAE;AACR,iBAAO,MAAM;AAAA,aAEV;AAAA,aACA;AAAA,aACA;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA,aAEd;AACH,iBAAO,GAAG,GAAG,GAAG;AAAA,aAEb;AACH,iBAAO,IAAI,GAAG,GAAG;AAAA;AAGjB,gBAAM,IAAI,UAAU,qBAAqB;AAAA;AAAA;AAG/C,YAAO,UAAU;AAAA;AAAA;;;AC/CjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ;AACd,QAAM,EAAC,IAAI,MAAK;AAEhB,QAAM,SAAS,CAAC,SAAS,YAAY;AACnC,UAAI,mBAAmB,QAAQ;AAC7B,eAAO;AAAA;AAGT,UAAI,OAAO,YAAY,UAAU;AAC/B,kBAAU,OAAO;AAAA;AAGnB,UAAI,OAAO,YAAY,UAAU;AAC/B,eAAO;AAAA;AAGT,gBAAU,WAAW;AAErB,UAAI,QAAQ;AACZ,UAAI,CAAC,QAAQ,KAAK;AAChB,gBAAQ,QAAQ,MAAM,GAAG,EAAE;AAAA,aACtB;AASL,YAAI;AACJ,eAAQ,QAAO,GAAG,EAAE,WAAW,KAAK,aAC/B,EAAC,SAAS,MAAM,QAAQ,MAAM,GAAG,WAAW,QAAQ,SACvD;AACA,cAAI,CAAC,SACC,KAAK,QAAQ,KAAK,GAAG,WAAW,MAAM,QAAQ,MAAM,GAAG,QAAQ;AACnE,oBAAQ;AAAA;AAEV,aAAG,EAAE,WAAW,YAAY,KAAK,QAAQ,KAAK,GAAG,SAAS,KAAK,GAAG;AAAA;AAGpE,WAAG,EAAE,WAAW,YAAY;AAAA;AAG9B,UAAI,UAAU;AACZ,eAAO;AAET,aAAO,MAAM,GAAG,MAAM,MAAM,MAAM,MAAM,OAAO,MAAM,MAAM,OAAO;AAAA;AAEpE,YAAO,UAAU;AAAA;AAAA;;;AClDjB;AAAA;AAAA;AACA,YAAO,UAAU,SAAU,SAAS;AAClC,cAAQ,UAAU,OAAO,YAAY,aAAa;AAChD,iBAAS,SAAS,KAAK,MAAM,QAAQ,SAAS,OAAO,MAAM;AACzD,gBAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACJnB;AAAA;AAAA;AACA,YAAO,UAAU;AAEjB,YAAQ,OAAO;AACf,YAAQ,SAAS;AAEjB,qBAAkB,MAAM;AACtB,UAAI,OAAO;AACX,UAAI,CAAE,iBAAgB,UAAU;AAC9B,eAAO,IAAI;AAAA;AAGb,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,WAAK,SAAS;AAEd,UAAI,QAAQ,OAAO,KAAK,YAAY,YAAY;AAC9C,aAAK,QAAQ,SAAU,MAAM;AAC3B,eAAK,KAAK;AAAA;AAAA,iBAEH,UAAU,SAAS,GAAG;AAC/B,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AAChD,eAAK,KAAK,UAAU;AAAA;AAAA;AAIxB,aAAO;AAAA;AAGT,YAAQ,UAAU,aAAa,SAAU,MAAM;AAC7C,UAAI,KAAK,SAAS,MAAM;AACtB,cAAM,IAAI,MAAM;AAAA;AAGlB,UAAI,OAAO,KAAK;AAChB,UAAI,OAAO,KAAK;AAEhB,UAAI,MAAM;AACR,aAAK,OAAO;AAAA;AAGd,UAAI,MAAM;AACR,aAAK,OAAO;AAAA;AAGd,UAAI,SAAS,KAAK,MAAM;AACtB,aAAK,OAAO;AAAA;AAEd,UAAI,SAAS,KAAK,MAAM;AACtB,aAAK,OAAO;AAAA;AAGd,WAAK,KAAK;AACV,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,WAAK,OAAO;AAEZ,aAAO;AAAA;AAGT,YAAQ,UAAU,cAAc,SAAU,MAAM;AAC9C,UAAI,SAAS,KAAK,MAAM;AACtB;AAAA;AAGF,UAAI,KAAK,MAAM;AACb,aAAK,KAAK,WAAW;AAAA;AAGvB,UAAI,OAAO,KAAK;AAChB,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,UAAI,MAAM;AACR,aAAK,OAAO;AAAA;AAGd,WAAK,OAAO;AACZ,UAAI,CAAC,KAAK,MAAM;AACd,aAAK,OAAO;AAAA;AAEd,WAAK;AAAA;AAGP,YAAQ,UAAU,WAAW,SAAU,MAAM;AAC3C,UAAI,SAAS,KAAK,MAAM;AACtB;AAAA;AAGF,UAAI,KAAK,MAAM;AACb,aAAK,KAAK,WAAW;AAAA;AAGvB,UAAI,OAAO,KAAK;AAChB,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,UAAI,MAAM;AACR,aAAK,OAAO;AAAA;AAGd,WAAK,OAAO;AACZ,UAAI,CAAC,KAAK,MAAM;AACd,aAAK,OAAO;AAAA;AAEd,WAAK;AAAA;AAGP,YAAQ,UAAU,OAAO,WAAY;AACnC,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AAChD,aAAK,MAAM,UAAU;AAAA;AAEvB,aAAO,KAAK;AAAA;AAGd,YAAQ,UAAU,UAAU,WAAY;AACtC,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AAChD,gBAAQ,MAAM,UAAU;AAAA;AAE1B,aAAO,KAAK;AAAA;AAGd,YAAQ,UAAU,MAAM,WAAY;AAClC,UAAI,CAAC,KAAK,MAAM;AACd,eAAO;AAAA;AAGT,UAAI,MAAM,KAAK,KAAK;AACpB,WAAK,OAAO,KAAK,KAAK;AACtB,UAAI,KAAK,MAAM;AACb,aAAK,KAAK,OAAO;AAAA,aACZ;AACL,aAAK,OAAO;AAAA;AAEd,WAAK;AACL,aAAO;AAAA;AAGT,YAAQ,UAAU,QAAQ,WAAY;AACpC,UAAI,CAAC,KAAK,MAAM;AACd,eAAO;AAAA;AAGT,UAAI,MAAM,KAAK,KAAK;AACpB,WAAK,OAAO,KAAK,KAAK;AACtB,UAAI,KAAK,MAAM;AACb,aAAK,KAAK,OAAO;AAAA,aACZ;AACL,aAAK,OAAO;AAAA;AAEd,WAAK;AACL,aAAO;AAAA;AAGT,YAAQ,UAAU,UAAU,SAAU,IAAI,OAAO;AAC/C,cAAQ,SAAS;AACjB,eAAS,SAAS,KAAK,MAAM,IAAI,GAAG,WAAW,MAAM,KAAK;AACxD,WAAG,KAAK,OAAO,OAAO,OAAO,GAAG;AAChC,iBAAS,OAAO;AAAA;AAAA;AAIpB,YAAQ,UAAU,iBAAiB,SAAU,IAAI,OAAO;AACtD,cAAQ,SAAS;AACjB,eAAS,SAAS,KAAK,MAAM,IAAI,KAAK,SAAS,GAAG,WAAW,MAAM,KAAK;AACtE,WAAG,KAAK,OAAO,OAAO,OAAO,GAAG;AAChC,iBAAS,OAAO;AAAA;AAAA;AAIpB,YAAQ,UAAU,MAAM,SAAU,GAAG;AACnC,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,QAAQ,IAAI,GAAG,KAAK;AAEjE,iBAAS,OAAO;AAAA;AAElB,UAAI,MAAM,KAAK,WAAW,MAAM;AAC9B,eAAO,OAAO;AAAA;AAAA;AAIlB,YAAQ,UAAU,aAAa,SAAU,GAAG;AAC1C,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,QAAQ,IAAI,GAAG,KAAK;AAEjE,iBAAS,OAAO;AAAA;AAElB,UAAI,MAAM,KAAK,WAAW,MAAM;AAC9B,eAAO,OAAO;AAAA;AAAA;AAIlB,YAAQ,UAAU,MAAM,SAAU,IAAI,OAAO;AAC3C,cAAQ,SAAS;AACjB,UAAI,MAAM,IAAI;AACd,eAAS,SAAS,KAAK,MAAM,WAAW,QAAO;AAC7C,YAAI,KAAK,GAAG,KAAK,OAAO,OAAO,OAAO;AACtC,iBAAS,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,aAAa,SAAU,IAAI,OAAO;AAClD,cAAQ,SAAS;AACjB,UAAI,MAAM,IAAI;AACd,eAAS,SAAS,KAAK,MAAM,WAAW,QAAO;AAC7C,YAAI,KAAK,GAAG,KAAK,OAAO,OAAO,OAAO;AACtC,iBAAS,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,SAAS,SAAU,IAAI,SAAS;AAChD,UAAI;AACJ,UAAI,SAAS,KAAK;AAClB,UAAI,UAAU,SAAS,GAAG;AACxB,cAAM;AAAA,iBACG,KAAK,MAAM;AACpB,iBAAS,KAAK,KAAK;AACnB,cAAM,KAAK,KAAK;AAAA,aACX;AACL,cAAM,IAAI,UAAU;AAAA;AAGtB,eAAS,IAAI,GAAG,WAAW,MAAM,KAAK;AACpC,cAAM,GAAG,KAAK,OAAO,OAAO;AAC5B,iBAAS,OAAO;AAAA;AAGlB,aAAO;AAAA;AAGT,YAAQ,UAAU,gBAAgB,SAAU,IAAI,SAAS;AACvD,UAAI;AACJ,UAAI,SAAS,KAAK;AAClB,UAAI,UAAU,SAAS,GAAG;AACxB,cAAM;AAAA,iBACG,KAAK,MAAM;AACpB,iBAAS,KAAK,KAAK;AACnB,cAAM,KAAK,KAAK;AAAA,aACX;AACL,cAAM,IAAI,UAAU;AAAA;AAGtB,eAAS,IAAI,KAAK,SAAS,GAAG,WAAW,MAAM,KAAK;AAClD,cAAM,GAAG,KAAK,OAAO,OAAO;AAC5B,iBAAS,OAAO;AAAA;AAGlB,aAAO;AAAA;AAGT,YAAQ,UAAU,UAAU,WAAY;AACtC,UAAI,MAAM,IAAI,MAAM,KAAK;AACzB,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,MAAM,KAAK;AACxD,YAAI,KAAK,OAAO;AAChB,iBAAS,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,iBAAiB,WAAY;AAC7C,UAAI,MAAM,IAAI,MAAM,KAAK;AACzB,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,MAAM,KAAK;AACxD,YAAI,KAAK,OAAO;AAChB,iBAAS,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,QAAQ,SAAU,MAAM,IAAI;AAC5C,WAAK,MAAM,KAAK;AAChB,UAAI,KAAK,GAAG;AACV,cAAM,KAAK;AAAA;AAEb,aAAO,QAAQ;AACf,UAAI,OAAO,GAAG;AACZ,gBAAQ,KAAK;AAAA;AAEf,UAAI,MAAM,IAAI;AACd,UAAI,KAAK,QAAQ,KAAK,GAAG;AACvB,eAAO;AAAA;AAET,UAAI,OAAO,GAAG;AACZ,eAAO;AAAA;AAET,UAAI,KAAK,KAAK,QAAQ;AACpB,aAAK,KAAK;AAAA;AAEZ,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,QAAQ,IAAI,MAAM,KAAK;AACpE,iBAAS,OAAO;AAAA;AAElB,aAAO,WAAW,QAAQ,IAAI,IAAI,KAAK,SAAS,OAAO,MAAM;AAC3D,YAAI,KAAK,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,eAAe,SAAU,MAAM,IAAI;AACnD,WAAK,MAAM,KAAK;AAChB,UAAI,KAAK,GAAG;AACV,cAAM,KAAK;AAAA;AAEb,aAAO,QAAQ;AACf,UAAI,OAAO,GAAG;AACZ,gBAAQ,KAAK;AAAA;AAEf,UAAI,MAAM,IAAI;AACd,UAAI,KAAK,QAAQ,KAAK,GAAG;AACvB,eAAO;AAAA;AAET,UAAI,OAAO,GAAG;AACZ,eAAO;AAAA;AAET,UAAI,KAAK,KAAK,QAAQ;AACpB,aAAK,KAAK;AAAA;AAEZ,eAAS,IAAI,KAAK,QAAQ,SAAS,KAAK,MAAM,WAAW,QAAQ,IAAI,IAAI,KAAK;AAC5E,iBAAS,OAAO;AAAA;AAElB,aAAO,WAAW,QAAQ,IAAI,MAAM,KAAK,SAAS,OAAO,MAAM;AAC7D,YAAI,KAAK,OAAO;AAAA;AAElB,aAAO;AAAA;AAGT,YAAQ,UAAU,SAAS,SAAU,OAAO,gBAAgB,OAAO;AACjE,UAAI,QAAQ,KAAK,QAAQ;AACvB,gBAAQ,KAAK,SAAS;AAAA;AAExB,UAAI,QAAQ,GAAG;AACb,gBAAQ,KAAK,SAAS;AAAA;AAGxB,eAAS,IAAI,GAAG,SAAS,KAAK,MAAM,WAAW,QAAQ,IAAI,OAAO,KAAK;AACrE,iBAAS,OAAO;AAAA;AAGlB,UAAI,MAAM;AACV,eAAS,IAAI,GAAG,UAAU,IAAI,aAAa,KAAK;AAC9C,YAAI,KAAK,OAAO;AAChB,iBAAS,KAAK,WAAW;AAAA;AAE3B,UAAI,WAAW,MAAM;AACnB,iBAAS,KAAK;AAAA;AAGhB,UAAI,WAAW,KAAK,QAAQ,WAAW,KAAK,MAAM;AAChD,iBAAS,OAAO;AAAA;AAGlB,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,iBAAS,OAAO,MAAM,QAAQ,MAAM;AAAA;AAEtC,aAAO;AAAA;AAGT,YAAQ,UAAU,UAAU,WAAY;AACtC,UAAI,OAAO,KAAK;AAChB,UAAI,OAAO,KAAK;AAChB,eAAS,SAAS,MAAM,WAAW,MAAM,SAAS,OAAO,MAAM;AAC7D,YAAI,IAAI,OAAO;AACf,eAAO,OAAO,OAAO;AACrB,eAAO,OAAO;AAAA;AAEhB,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,aAAO;AAAA;AAGT,oBAAiB,MAAM,MAAM,OAAO;AAClC,UAAI,WAAW,SAAS,KAAK,OAC3B,IAAI,KAAK,OAAO,MAAM,MAAM,QAC5B,IAAI,KAAK,OAAO,MAAM,KAAK,MAAM;AAEnC,UAAI,SAAS,SAAS,MAAM;AAC1B,aAAK,OAAO;AAAA;AAEd,UAAI,SAAS,SAAS,MAAM;AAC1B,aAAK,OAAO;AAAA;AAGd,WAAK;AAEL,aAAO;AAAA;AAGT,kBAAe,MAAM,MAAM;AACzB,WAAK,OAAO,IAAI,KAAK,MAAM,KAAK,MAAM,MAAM;AAC5C,UAAI,CAAC,KAAK,MAAM;AACd,aAAK,OAAO,KAAK;AAAA;AAEnB,WAAK;AAAA;AAGP,qBAAkB,MAAM,MAAM;AAC5B,WAAK,OAAO,IAAI,KAAK,MAAM,MAAM,KAAK,MAAM;AAC5C,UAAI,CAAC,KAAK,MAAM;AACd,aAAK,OAAO,KAAK;AAAA;AAEnB,WAAK;AAAA;AAGP,kBAAe,OAAO,MAAM,MAAM,MAAM;AACtC,UAAI,CAAE,iBAAgB,OAAO;AAC3B,eAAO,IAAI,KAAK,OAAO,MAAM,MAAM;AAAA;AAGrC,WAAK,OAAO;AACZ,WAAK,QAAQ;AAEb,UAAI,MAAM;AACR,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA,aACP;AACL,aAAK,OAAO;AAAA;AAGd,UAAI,MAAM;AACR,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA,aACP;AACL,aAAK,OAAO;AAAA;AAAA;AAIhB,QAAI;AAEF,yBAAyB;AAAA,aAClB,IAAP;AAAA;AAAA;AAAA;;;ACzaF;AAAA;AAAA;AAGA,QAAM,UAAU;AAEhB,QAAM,MAAM,OAAO;AACnB,QAAM,SAAS,OAAO;AACtB,QAAM,oBAAoB,OAAO;AACjC,QAAM,cAAc,OAAO;AAC3B,QAAM,UAAU,OAAO;AACvB,QAAM,UAAU,OAAO;AACvB,QAAM,oBAAoB,OAAO;AACjC,QAAM,WAAW,OAAO;AACxB,QAAM,QAAQ,OAAO;AACrB,QAAM,oBAAoB,OAAO;AAEjC,QAAM,cAAc,MAAM;AAU1B,yBAAe;AAAA,MACb,YAAa,SAAS;AACpB,YAAI,OAAO,YAAY;AACrB,oBAAU,EAAE,KAAK;AAEnB,YAAI,CAAC;AACH,oBAAU;AAEZ,YAAI,QAAQ,OAAQ,QAAO,QAAQ,QAAQ,YAAY,QAAQ,MAAM;AACnE,gBAAM,IAAI,UAAU;AAEtB,cAAM,MAAM,KAAK,OAAO,QAAQ,OAAO;AAEvC,cAAM,KAAK,QAAQ,UAAU;AAC7B,aAAK,qBAAsB,OAAO,OAAO,aAAc,cAAc;AACrE,aAAK,eAAe,QAAQ,SAAS;AACrC,YAAI,QAAQ,UAAU,OAAO,QAAQ,WAAW;AAC9C,gBAAM,IAAI,UAAU;AACtB,aAAK,WAAW,QAAQ,UAAU;AAClC,aAAK,WAAW,QAAQ;AACxB,aAAK,qBAAqB,QAAQ,kBAAkB;AACpD,aAAK,qBAAqB,QAAQ,kBAAkB;AACpD,aAAK;AAAA;AAAA,UAIH,IAAK,IAAI;AACX,YAAI,OAAO,OAAO,YAAY,KAAK;AACjC,gBAAM,IAAI,UAAU;AAEtB,aAAK,OAAO,MAAM;AAClB,aAAK;AAAA;AAAA,UAEH,MAAO;AACT,eAAO,KAAK;AAAA;AAAA,UAGV,WAAY,YAAY;AAC1B,aAAK,eAAe,CAAC,CAAC;AAAA;AAAA,UAEpB,aAAc;AAChB,eAAO,KAAK;AAAA;AAAA,UAGV,OAAQ,IAAI;AACd,YAAI,OAAO,OAAO;AAChB,gBAAM,IAAI,UAAU;AAEtB,aAAK,WAAW;AAChB,aAAK;AAAA;AAAA,UAEH,SAAU;AACZ,eAAO,KAAK;AAAA;AAAA,UAIV,iBAAkB,IAAI;AACxB,YAAI,OAAO,OAAO;AAChB,eAAK;AAEP,YAAI,OAAO,KAAK,oBAAoB;AAClC,eAAK,qBAAqB;AAC1B,eAAK,UAAU;AACf,eAAK,UAAU,QAAQ,SAAO;AAC5B,gBAAI,SAAS,KAAK,mBAAmB,IAAI,OAAO,IAAI;AACpD,iBAAK,WAAW,IAAI;AAAA;AAAA;AAGxB,aAAK;AAAA;AAAA,UAEH,mBAAoB;AAAE,eAAO,KAAK;AAAA;AAAA,UAElC,SAAU;AAAE,eAAO,KAAK;AAAA;AAAA,UACxB,YAAa;AAAE,eAAO,KAAK,UAAU;AAAA;AAAA,MAEzC,SAAU,IAAI,OAAO;AACnB,gBAAQ,SAAS;AACjB,iBAAS,SAAS,KAAK,UAAU,MAAM,WAAW,QAAO;AACvD,gBAAM,OAAO,OAAO;AACpB,sBAAY,MAAM,IAAI,QAAQ;AAC9B,mBAAS;AAAA;AAAA;AAAA,MAIb,QAAS,IAAI,OAAO;AAClB,gBAAQ,SAAS;AACjB,iBAAS,SAAS,KAAK,UAAU,MAAM,WAAW,QAAO;AACvD,gBAAM,OAAO,OAAO;AACpB,sBAAY,MAAM,IAAI,QAAQ;AAC9B,mBAAS;AAAA;AAAA;AAAA,MAIb,OAAQ;AACN,eAAO,KAAK,UAAU,UAAU,IAAI,OAAK,EAAE;AAAA;AAAA,MAG7C,SAAU;AACR,eAAO,KAAK,UAAU,UAAU,IAAI,OAAK,EAAE;AAAA;AAAA,MAG7C,QAAS;AACP,YAAI,KAAK,YACL,KAAK,aACL,KAAK,UAAU,QAAQ;AACzB,eAAK,UAAU,QAAQ,SAAO,KAAK,SAAS,IAAI,KAAK,IAAI;AAAA;AAG3D,aAAK,SAAS,oBAAI;AAClB,aAAK,YAAY,IAAI;AACrB,aAAK,UAAU;AAAA;AAAA,MAGjB,OAAQ;AACN,eAAO,KAAK,UAAU,IAAI,SACxB,QAAQ,MAAM,OAAO,QAAQ;AAAA,UAC3B,GAAG,IAAI;AAAA,UACP,GAAG,IAAI;AAAA,UACP,GAAG,IAAI,MAAO,KAAI,UAAU;AAAA,WAC3B,UAAU,OAAO,OAAK;AAAA;AAAA,MAG7B,UAAW;AACT,eAAO,KAAK;AAAA;AAAA,MAGd,IAAK,KAAK,OAAO,QAAQ;AACvB,iBAAS,UAAU,KAAK;AAExB,YAAI,UAAU,OAAO,WAAW;AAC9B,gBAAM,IAAI,UAAU;AAEtB,cAAM,MAAM,SAAS,KAAK,QAAQ;AAClC,cAAM,MAAM,KAAK,mBAAmB,OAAO;AAE3C,YAAI,KAAK,OAAO,IAAI,MAAM;AACxB,cAAI,MAAM,KAAK,MAAM;AACnB,gBAAI,MAAM,KAAK,OAAO,IAAI;AAC1B,mBAAO;AAAA;AAGT,gBAAM,OAAO,KAAK,OAAO,IAAI;AAC7B,gBAAM,OAAO,KAAK;AAIlB,cAAI,KAAK,UAAU;AACjB,gBAAI,CAAC,KAAK;AACR,mBAAK,SAAS,KAAK,KAAK;AAAA;AAG5B,eAAK,MAAM;AACX,eAAK,SAAS;AACd,eAAK,QAAQ;AACb,eAAK,WAAW,MAAM,KAAK;AAC3B,eAAK,SAAS;AACd,eAAK,IAAI;AACT,eAAK;AACL,iBAAO;AAAA;AAGT,cAAM,MAAM,IAAI,MAAM,KAAK,OAAO,KAAK,KAAK;AAG5C,YAAI,IAAI,SAAS,KAAK,MAAM;AAC1B,cAAI,KAAK;AACP,iBAAK,SAAS,KAAK;AAErB,iBAAO;AAAA;AAGT,aAAK,WAAW,IAAI;AACpB,aAAK,UAAU,QAAQ;AACvB,aAAK,OAAO,IAAI,KAAK,KAAK,UAAU;AACpC,aAAK;AACL,eAAO;AAAA;AAAA,MAGT,IAAK,KAAK;AACR,YAAI,CAAC,KAAK,OAAO,IAAI;AAAM,iBAAO;AAClC,cAAM,MAAM,KAAK,OAAO,IAAI,KAAK;AACjC,eAAO,CAAC,QAAQ,MAAM;AAAA;AAAA,MAGxB,IAAK,KAAK;AACR,eAAO,IAAI,MAAM,KAAK;AAAA;AAAA,MAGxB,KAAM,KAAK;AACT,eAAO,IAAI,MAAM,KAAK;AAAA;AAAA,MAGxB,MAAO;AACL,cAAM,OAAO,KAAK,UAAU;AAC5B,YAAI,CAAC;AACH,iBAAO;AAET,YAAI,MAAM;AACV,eAAO,KAAK;AAAA;AAAA,MAGd,IAAK,KAAK;AACR,YAAI,MAAM,KAAK,OAAO,IAAI;AAAA;AAAA,MAG5B,KAAM,KAAK;AAET,aAAK;AAEL,cAAM,MAAM,KAAK;AAEjB,iBAAS,IAAI,IAAI,SAAS,GAAG,KAAK,GAAG,KAAK;AACxC,gBAAM,MAAM,IAAI;AAChB,gBAAM,YAAY,IAAI,KAAK;AAC3B,cAAI,cAAc;AAEhB,iBAAK,IAAI,IAAI,GAAG,IAAI;AAAA,eACjB;AACH,kBAAM,SAAS,YAAY;AAE3B,gBAAI,SAAS,GAAG;AACd,mBAAK,IAAI,IAAI,GAAG,IAAI,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,MAM/B,QAAS;AACP,aAAK,OAAO,QAAQ,CAAC,OAAO,QAAQ,IAAI,MAAM,KAAK;AAAA;AAAA;AAIvD,QAAM,MAAM,CAAC,MAAM,KAAK,UAAU;AAChC,YAAM,OAAO,KAAK,OAAO,IAAI;AAC7B,UAAI,MAAM;AACR,cAAM,MAAM,KAAK;AACjB,YAAI,QAAQ,MAAM,MAAM;AACtB,cAAI,MAAM;AACV,cAAI,CAAC,KAAK;AACR,mBAAO;AAAA,eACJ;AACL,cAAI,OAAO;AACT,gBAAI,KAAK;AACP,mBAAK,MAAM,MAAM,KAAK;AACxB,iBAAK,UAAU,YAAY;AAAA;AAAA;AAG/B,eAAO,IAAI;AAAA;AAAA;AAIf,QAAM,UAAU,CAAC,MAAM,QAAQ;AAC7B,UAAI,CAAC,OAAQ,CAAC,IAAI,UAAU,CAAC,KAAK;AAChC,eAAO;AAET,YAAM,OAAO,KAAK,QAAQ,IAAI;AAC9B,aAAO,IAAI,SAAS,OAAO,IAAI,SAC3B,KAAK,YAAa,OAAO,KAAK;AAAA;AAGpC,QAAM,OAAO,UAAQ;AACnB,UAAI,KAAK,UAAU,KAAK,MAAM;AAC5B,iBAAS,SAAS,KAAK,UAAU,MAC/B,KAAK,UAAU,KAAK,QAAQ,WAAW,QAAO;AAI9C,gBAAM,OAAO,OAAO;AACpB,cAAI,MAAM;AACV,mBAAS;AAAA;AAAA;AAAA;AAKf,QAAM,MAAM,CAAC,MAAM,SAAS;AAC1B,UAAI,MAAM;AACR,cAAM,MAAM,KAAK;AACjB,YAAI,KAAK;AACP,eAAK,SAAS,IAAI,KAAK,IAAI;AAE7B,aAAK,WAAW,IAAI;AACpB,aAAK,OAAO,OAAO,IAAI;AACvB,aAAK,UAAU,WAAW;AAAA;AAAA;AAI9B,sBAAY;AAAA,MACV,YAAa,KAAK,OAAO,QAAQ,KAAK,QAAQ;AAC5C,aAAK,MAAM;AACX,aAAK,QAAQ;AACb,aAAK,SAAS;AACd,aAAK,MAAM;AACX,aAAK,SAAS,UAAU;AAAA;AAAA;AAI5B,QAAM,cAAc,CAAC,MAAM,IAAI,MAAM,UAAU;AAC7C,UAAI,MAAM,KAAK;AACf,UAAI,QAAQ,MAAM,MAAM;AACtB,YAAI,MAAM;AACV,YAAI,CAAC,KAAK;AACR,gBAAM;AAAA;AAEV,UAAI;AACF,WAAG,KAAK,OAAO,IAAI,OAAO,IAAI,KAAK;AAAA;AAGvC,YAAO,UAAU;AAAA;AAAA;;;AC7UjB;AAAA;AACA,sBAAY;AAAA,MACV,YAAa,OAAO,SAAS;AAC3B,kBAAU,aAAa;AAEvB,YAAI,iBAAiB,OAAO;AAC1B,cACE,MAAM,UAAU,CAAC,CAAC,QAAQ,SAC1B,MAAM,sBAAsB,CAAC,CAAC,QAAQ,mBACtC;AACA,mBAAO;AAAA,iBACF;AACL,mBAAO,IAAI,MAAM,MAAM,KAAK;AAAA;AAAA;AAIhC,YAAI,iBAAiB,YAAY;AAE/B,eAAK,MAAM,MAAM;AACjB,eAAK,MAAM,CAAC,CAAC;AACb,eAAK;AACL,iBAAO;AAAA;AAGT,aAAK,UAAU;AACf,aAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,aAAK,oBAAoB,CAAC,CAAC,QAAQ;AAGnC,aAAK,MAAM;AACX,aAAK,MAAM,MACR,MAAM,cAEN,IAAI,YAAS,KAAK,WAAW,OAAM,SAInC,OAAO,OAAK,EAAE;AAEjB,YAAI,CAAC,KAAK,IAAI,QAAQ;AACpB,gBAAM,IAAI,UAAU,yBAAyB;AAAA;AAI/C,YAAI,KAAK,IAAI,SAAS,GAAG;AAEvB,gBAAM,QAAQ,KAAK,IAAI;AACvB,eAAK,MAAM,KAAK,IAAI,OAAO,OAAK,CAAC,UAAU,EAAE;AAC7C,cAAI,KAAK,IAAI,WAAW;AACtB,iBAAK,MAAM,CAAC;AAAA,mBACL,KAAK,IAAI,SAAS,GAAG;AAE5B,uBAAW,KAAK,KAAK,KAAK;AACxB,kBAAI,EAAE,WAAW,KAAK,MAAM,EAAE,KAAK;AACjC,qBAAK,MAAM,CAAC;AACZ;AAAA;AAAA;AAAA;AAAA;AAMR,aAAK;AAAA;AAAA,MAGP,SAAU;AACR,aAAK,QAAQ,KAAK,IACf,IAAI,CAAC,UAAU;AACd,iBAAO,MAAM,KAAK,KAAK;AAAA,WAExB,KAAK,MACL;AACH,eAAO,KAAK;AAAA;AAAA,MAGd,WAAY;AACV,eAAO,KAAK;AAAA;AAAA,MAGd,WAAY,OAAO;AACjB,gBAAQ,MAAM;AAId,cAAM,WAAW,OAAO,KAAK,KAAK,SAAS,KAAK;AAChD,cAAM,UAAU,cAAc,YAAY;AAC1C,cAAM,SAAS,MAAM,IAAI;AACzB,YAAI;AACF,iBAAO;AAET,cAAM,QAAQ,KAAK,QAAQ;AAE3B,cAAM,KAAK,QAAQ,GAAG,EAAE,oBAAoB,GAAG,EAAE;AACjD,gBAAQ,MAAM,QAAQ,IAAI,cAAc,KAAK,QAAQ;AACrD,cAAM,kBAAkB;AAExB,gBAAQ,MAAM,QAAQ,GAAG,EAAE,iBAAiB;AAC5C,cAAM,mBAAmB,OAAO,GAAG,EAAE;AAGrC,gBAAQ,MAAM,QAAQ,GAAG,EAAE,YAAY;AAGvC,gBAAQ,MAAM,QAAQ,GAAG,EAAE,YAAY;AAGvC,gBAAQ,MAAM,MAAM,OAAO,KAAK;AAKhC,cAAM,SAAS,QAAQ,GAAG,EAAE,mBAAmB,GAAG,EAAE;AACpD,cAAM,YAAY,MACf,MAAM,KACN,IAAI,UAAQ,gBAAgB,MAAM,KAAK,UACvC,KAAK,KACL,MAAM,OAEN,IAAI,UAAQ,YAAY,MAAM,KAAK,UAEnC,OAAO,KAAK,QAAQ,QAAQ,UAAQ,CAAC,CAAC,KAAK,MAAM,UAAU,MAAM,MACjE,IAAI,UAAQ,IAAI,WAAW,MAAM,KAAK;AAKzC,cAAM,IAAI,UAAU;AACpB,cAAM,WAAW,oBAAI;AACrB,mBAAW,QAAQ,WAAW;AAC5B,cAAI,UAAU;AACZ,mBAAO,CAAC;AACV,mBAAS,IAAI,KAAK,OAAO;AAAA;AAE3B,YAAI,SAAS,OAAO,KAAK,SAAS,IAAI;AACpC,mBAAS,OAAO;AAElB,cAAM,SAAS,CAAC,GAAG,SAAS;AAC5B,cAAM,IAAI,SAAS;AACnB,eAAO;AAAA;AAAA,MAGT,WAAY,OAAO,SAAS;AAC1B,YAAI,CAAE,kBAAiB,QAAQ;AAC7B,gBAAM,IAAI,UAAU;AAAA;AAGtB,eAAO,KAAK,IAAI,KAAK,CAAC,oBAAoB;AACxC,iBACE,cAAc,iBAAiB,YAC/B,MAAM,IAAI,KAAK,CAAC,qBAAqB;AACnC,mBACE,cAAc,kBAAkB,YAChC,gBAAgB,MAAM,CAAC,mBAAmB;AACxC,qBAAO,iBAAiB,MAAM,CAAC,oBAAoB;AACjD,uBAAO,eAAe,WAAW,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUhE,KAAM,SAAS;AACb,YAAI,CAAC,SAAS;AACZ,iBAAO;AAAA;AAGT,YAAI,OAAO,YAAY,UAAU;AAC/B,cAAI;AACF,sBAAU,IAAI,OAAO,SAAS,KAAK;AAAA,mBAC5B,IAAP;AACA,mBAAO;AAAA;AAAA;AAIX,iBAAS,IAAI,GAAG,IAAI,KAAK,IAAI,QAAQ,KAAK;AACxC,cAAI,QAAQ,KAAK,IAAI,IAAI,SAAS,KAAK,UAAU;AAC/C,mBAAO;AAAA;AAAA;AAGX,eAAO;AAAA;AAAA;AAGX,YAAO,UAAU;AAEjB,QAAM,MAAM;AACZ,QAAM,QAAQ,IAAI,IAAI,EAAE,KAAK;AAE7B,QAAM,eAAe;AACrB,QAAM,aAAa;AACnB,QAAM,QAAQ;AACd,QAAM,SAAS;AACf,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,QAAM,YAAY,OAAK,EAAE,UAAU;AACnC,QAAM,QAAQ,OAAK,EAAE,UAAU;AAI/B,QAAM,gBAAgB,CAAC,aAAa,YAAY;AAC9C,UAAI,SAAS;AACb,YAAM,uBAAuB,YAAY;AACzC,UAAI,iBAAiB,qBAAqB;AAE1C,aAAO,UAAU,qBAAqB,QAAQ;AAC5C,iBAAS,qBAAqB,MAAM,CAAC,oBAAoB;AACvD,iBAAO,eAAe,WAAW,iBAAiB;AAAA;AAGpD,yBAAiB,qBAAqB;AAAA;AAGxC,aAAO;AAAA;AAMT,QAAM,kBAAkB,CAAC,MAAM,YAAY;AACzC,YAAM,QAAQ,MAAM;AACpB,aAAO,cAAc,MAAM;AAC3B,YAAM,SAAS;AACf,aAAO,cAAc,MAAM;AAC3B,YAAM,UAAU;AAChB,aAAO,eAAe,MAAM;AAC5B,YAAM,UAAU;AAChB,aAAO,aAAa,MAAM;AAC1B,YAAM,SAAS;AACf,aAAO;AAAA;AAGT,QAAM,MAAM,QAAM,CAAC,MAAM,GAAG,kBAAkB,OAAO,OAAO;AAQ5D,QAAM,gBAAgB,CAAC,MAAM,YAC3B,KAAK,OAAO,MAAM,OAAO,IAAI,CAAC,UAAS;AACrC,aAAO,aAAa,OAAM;AAAA,OACzB,KAAK;AAEV,QAAM,eAAe,CAAC,MAAM,YAAY;AACtC,YAAM,KAAI,QAAQ,QAAQ,GAAG,EAAE,cAAc,GAAG,EAAE;AAClD,aAAO,KAAK,QAAQ,IAAG,CAAC,GAAG,GAAG,GAAG,GAAG,OAAO;AACzC,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,KAAK,UAAU,CAAC,IAAI;AAAA,mBACjB,IAAI,IAAI;AAEjB,gBAAM,KAAK,KAAK,QAAQ,KAAK,CAAC,IAAI;AAAA,mBACzB,IAAI;AACb,gBAAM,mBAAmB;AACzB,gBAAM,KAAK,KAAK,KAAK,KAAK,OACrB,KAAK,CAAC,IAAI;AAAA,eACV;AAEL,gBAAM,KAAK,KAAK,KAAK,MAChB,KAAK,CAAC,IAAI;AAAA;AAGjB,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAUX,QAAM,gBAAgB,CAAC,MAAM,YAC3B,KAAK,OAAO,MAAM,OAAO,IAAI,CAAC,UAAS;AACrC,aAAO,aAAa,OAAM;AAAA,OACzB,KAAK;AAEV,QAAM,eAAe,CAAC,MAAM,YAAY;AACtC,YAAM,SAAS,MAAM;AACrB,YAAM,KAAI,QAAQ,QAAQ,GAAG,EAAE,cAAc,GAAG,EAAE;AAClD,YAAM,IAAI,QAAQ,oBAAoB,OAAO;AAC7C,aAAO,KAAK,QAAQ,IAAG,CAAC,GAAG,GAAG,GAAG,GAAG,OAAO;AACzC,cAAM,SAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACjC,YAAI;AAEJ,YAAI,IAAI,IAAI;AACV,gBAAM;AAAA,mBACG,IAAI,IAAI;AACjB,gBAAM,KAAK,QAAQ,MAAM,CAAC,IAAI;AAAA,mBACrB,IAAI,IAAI;AACjB,cAAI,MAAM,KAAK;AACb,kBAAM,KAAK,KAAK,MAAM,MAAM,KAAK,CAAC,IAAI;AAAA,iBACjC;AACL,kBAAM,KAAK,KAAK,MAAM,MAAM,CAAC,IAAI;AAAA;AAAA,mBAE1B,IAAI;AACb,gBAAM,mBAAmB;AACzB,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,KAAK,KAAK,KAAK,KAAK,OACrB,KAAK,KAAK,CAAC,IAAI;AAAA,mBACf;AACL,oBAAM,KAAK,KAAK,KAAK,KAAK,OACrB,KAAK,CAAC,IAAI;AAAA;AAAA,iBAEZ;AACL,kBAAM,KAAK,KAAK,KAAK,KAAK,OACrB,CAAC,IAAI;AAAA;AAAA,eAEP;AACL,gBAAM;AACN,cAAI,MAAM,KAAK;AACb,gBAAI,MAAM,KAAK;AACb,oBAAM,KAAK,KAAK,KAAK,IAClB,MAAM,KAAK,KAAK,CAAC,IAAI;AAAA,mBACnB;AACL,oBAAM,KAAK,KAAK,KAAK,IAClB,MAAM,KAAK,CAAC,IAAI;AAAA;AAAA,iBAEhB;AACL,kBAAM,KAAK,KAAK,KAAK,MAChB,CAAC,IAAI;AAAA;AAAA;AAId,cAAM,gBAAgB;AACtB,eAAO;AAAA;AAAA;AAIX,QAAM,iBAAiB,CAAC,MAAM,YAAY;AACxC,YAAM,kBAAkB,MAAM;AAC9B,aAAO,KAAK,MAAM,OAAO,IAAI,CAAC,UAAS;AACrC,eAAO,cAAc,OAAM;AAAA,SAC1B,KAAK;AAAA;AAGV,QAAM,gBAAgB,CAAC,MAAM,YAAY;AACvC,aAAO,KAAK;AACZ,YAAM,KAAI,QAAQ,QAAQ,GAAG,EAAE,eAAe,GAAG,EAAE;AACnD,aAAO,KAAK,QAAQ,IAAG,CAAC,KAAK,MAAM,GAAG,GAAG,GAAG,OAAO;AACjD,cAAM,UAAU,MAAM,KAAK,MAAM,GAAG,GAAG,GAAG;AAC1C,cAAM,KAAK,IAAI;AACf,cAAM,KAAK,MAAM,IAAI;AACrB,cAAM,KAAK,MAAM,IAAI;AACrB,cAAM,OAAO;AAEb,YAAI,SAAS,OAAO,MAAM;AACxB,iBAAO;AAAA;AAKT,aAAK,QAAQ,oBAAoB,OAAO;AAExC,YAAI,IAAI;AACN,cAAI,SAAS,OAAO,SAAS,KAAK;AAEhC,kBAAM;AAAA,iBACD;AAEL,kBAAM;AAAA;AAAA,mBAEC,QAAQ,MAAM;AAGvB,cAAI,IAAI;AACN,gBAAI;AAAA;AAEN,cAAI;AAEJ,cAAI,SAAS,KAAK;AAGhB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AACT,kBAAI;AACJ,kBAAI;AAAA,mBACC;AACL,kBAAI,CAAC,IAAI;AACT,kBAAI;AAAA;AAAA,qBAEG,SAAS,MAAM;AAGxB,mBAAO;AACP,gBAAI,IAAI;AACN,kBAAI,CAAC,IAAI;AAAA,mBACJ;AACL,kBAAI,CAAC,IAAI;AAAA;AAAA;AAIb,cAAI,SAAS;AACX,iBAAK;AAEP,gBAAM,GAAG,OAAO,KAAK,KAAK,IAAI;AAAA,mBACrB,IAAI;AACb,gBAAM,KAAK,QAAQ,OAAO,CAAC,IAAI;AAAA,mBACtB,IAAI;AACb,gBAAM,KAAK,KAAK,MAAM,OACjB,KAAK,CAAC,IAAI;AAAA;AAGjB,cAAM,iBAAiB;AAEvB,eAAO;AAAA;AAAA;AAMX,QAAM,eAAe,CAAC,MAAM,YAAY;AACtC,YAAM,gBAAgB,MAAM;AAE5B,aAAO,KAAK,OAAO,QAAQ,GAAG,EAAE,OAAO;AAAA;AAGzC,QAAM,cAAc,CAAC,MAAM,YAAY;AACrC,YAAM,eAAe,MAAM;AAC3B,aAAO,KAAK,OACT,QAAQ,GAAG,QAAQ,oBAAoB,EAAE,UAAU,EAAE,OAAO;AAAA;AAQjE,QAAM,gBAAgB,WAAS,CAAC,IAC9B,MAAM,IAAI,IAAI,IAAI,KAAK,IACvB,IAAI,IAAI,IAAI,IAAI,KAAK,OAAO;AAC5B,UAAI,IAAI,KAAK;AACX,eAAO;AAAA,iBACE,IAAI,KAAK;AAClB,eAAO,KAAK,SAAS,QAAQ,OAAO;AAAA,iBAC3B,IAAI,KAAK;AAClB,eAAO,KAAK,MAAM,OAAO,QAAQ,OAAO;AAAA,iBAC/B,KAAK;AACd,eAAO,KAAK;AAAA,aACP;AACL,eAAO,KAAK,OAAO,QAAQ,OAAO;AAAA;AAGpC,UAAI,IAAI,KAAK;AACX,aAAK;AAAA,iBACI,IAAI,KAAK;AAClB,aAAK,IAAI,CAAC,KAAK;AAAA,iBACN,IAAI,KAAK;AAClB,aAAK,IAAI,MAAM,CAAC,KAAK;AAAA,iBACZ,KAAK;AACd,aAAK,KAAK,MAAM,MAAM,MAAM;AAAA,iBACnB,OAAO;AAChB,aAAK,IAAI,MAAM,MAAM,CAAC,KAAK;AAAA,aACtB;AACL,aAAK,KAAK;AAAA;AAGZ,aAAQ,GAAG,QAAQ,KAAM;AAAA;AAG3B,QAAM,UAAU,CAAC,KAAK,SAAS,YAAY;AACzC,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,YAAI,CAAC,IAAI,GAAG,KAAK,UAAU;AACzB,iBAAO;AAAA;AAAA;AAIX,UAAI,QAAQ,WAAW,UAAU,CAAC,QAAQ,mBAAmB;AAM3D,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,gBAAM,IAAI,GAAG;AACb,cAAI,IAAI,GAAG,WAAW,WAAW,KAAK;AACpC;AAAA;AAGF,cAAI,IAAI,GAAG,OAAO,WAAW,SAAS,GAAG;AACvC,kBAAM,UAAU,IAAI,GAAG;AACvB,gBAAI,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,SAC1B,QAAQ,UAAU,QAAQ,OAAO;AACnC,qBAAO;AAAA;AAAA;AAAA;AAMb,eAAO;AAAA;AAGT,aAAO;AAAA;AAAA;AAAA;;;AC5fT;AAAA;AAAA,QAAM,MAAM,OAAO;AAEnB,2BAAiB;AAAA,iBACJ,MAAO;AAChB,eAAO;AAAA;AAAA,MAET,YAAa,MAAM,SAAS;AAC1B,kBAAU,aAAa;AAEvB,YAAI,gBAAgB,YAAY;AAC9B,cAAI,KAAK,UAAU,CAAC,CAAC,QAAQ,OAAO;AAClC,mBAAO;AAAA,iBACF;AACL,mBAAO,KAAK;AAAA;AAAA;AAIhB,cAAM,cAAc,MAAM;AAC1B,aAAK,UAAU;AACf,aAAK,QAAQ,CAAC,CAAC,QAAQ;AACvB,aAAK,MAAM;AAEX,YAAI,KAAK,WAAW,KAAK;AACvB,eAAK,QAAQ;AAAA,eACR;AACL,eAAK,QAAQ,KAAK,WAAW,KAAK,OAAO;AAAA;AAG3C,cAAM,QAAQ;AAAA;AAAA,MAGhB,MAAO,MAAM;AACX,cAAM,KAAI,KAAK,QAAQ,QAAQ,GAAG,EAAE,mBAAmB,GAAG,EAAE;AAC5D,cAAM,IAAI,KAAK,MAAM;AAErB,YAAI,CAAC,GAAG;AACN,gBAAM,IAAI,UAAU,uBAAuB;AAAA;AAG7C,aAAK,WAAW,EAAE,OAAO,SAAY,EAAE,KAAK;AAC5C,YAAI,KAAK,aAAa,KAAK;AACzB,eAAK,WAAW;AAAA;AAIlB,YAAI,CAAC,EAAE,IAAI;AACT,eAAK,SAAS;AAAA,eACT;AACL,eAAK,SAAS,IAAI,OAAO,EAAE,IAAI,KAAK,QAAQ;AAAA;AAAA;AAAA,MAIhD,WAAY;AACV,eAAO,KAAK;AAAA;AAAA,MAGd,KAAM,SAAS;AACb,cAAM,mBAAmB,SAAS,KAAK,QAAQ;AAE/C,YAAI,KAAK,WAAW,OAAO,YAAY,KAAK;AAC1C,iBAAO;AAAA;AAGT,YAAI,OAAO,YAAY,UAAU;AAC/B,cAAI;AACF,sBAAU,IAAI,OAAO,SAAS,KAAK;AAAA,mBAC5B,IAAP;AACA,mBAAO;AAAA;AAAA;AAIX,eAAO,IAAI,SAAS,KAAK,UAAU,KAAK,QAAQ,KAAK;AAAA;AAAA,MAGvD,WAAY,MAAM,SAAS;AACzB,YAAI,CAAE,iBAAgB,aAAa;AACjC,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,CAAC,WAAW,OAAO,YAAY,UAAU;AAC3C,oBAAU;AAAA,YACR,OAAO,CAAC,CAAC;AAAA,YACT,mBAAmB;AAAA;AAAA;AAIvB,YAAI,KAAK,aAAa,IAAI;AACxB,cAAI,KAAK,UAAU,IAAI;AACrB,mBAAO;AAAA;AAET,iBAAO,IAAI,MAAM,KAAK,OAAO,SAAS,KAAK,KAAK;AAAA,mBACvC,KAAK,aAAa,IAAI;AAC/B,cAAI,KAAK,UAAU,IAAI;AACrB,mBAAO;AAAA;AAET,iBAAO,IAAI,MAAM,KAAK,OAAO,SAAS,KAAK,KAAK;AAAA;AAGlD,cAAM,0BACH,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,cAAM,0BACH,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,cAAM,aAAa,KAAK,OAAO,YAAY,KAAK,OAAO;AACvD,cAAM,+BACH,MAAK,aAAa,QAAQ,KAAK,aAAa,SAC5C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAC/C,cAAM,6BACJ,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YAClC,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC1C,MAAK,aAAa,QAAQ,KAAK,aAAa;AACjD,cAAM,gCACJ,IAAI,KAAK,QAAQ,KAAK,KAAK,QAAQ,YAClC,MAAK,aAAa,QAAQ,KAAK,aAAa,QAC1C,MAAK,aAAa,QAAQ,KAAK,aAAa;AAEjD,eACE,2BACA,2BACC,cAAc,gCACf,8BACA;AAAA;AAAA;AAKN,YAAO,UAAU;AAEjB,QAAM,eAAe;AACrB,QAAM,EAAC,IAAI,MAAK;AAChB,QAAM,MAAM;AACZ,QAAM,QAAQ;AACd,QAAM,SAAS;AACf,QAAM,QAAQ;AAAA;AAAA;;;ACtId;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,aAAY,CAAC,SAAS,OAAO,YAAY;AAC7C,UAAI;AACF,gBAAQ,IAAI,MAAM,OAAO;AAAA,eAClB,IAAP;AACA,eAAO;AAAA;AAET,aAAO,MAAM,KAAK;AAAA;AAEpB,YAAO,UAAU;AAAA;AAAA;;;ACTjB;AAAA;AAAA,QAAM,QAAQ;AAGd,QAAM,gBAAgB,CAAC,OAAO,YAC5B,IAAI,MAAM,OAAO,SAAS,IACvB,IAAI,UAAQ,KAAK,IAAI,OAAK,EAAE,OAAO,KAAK,KAAK,OAAO,MAAM;AAE/D,YAAO,UAAU;AAAA;AAAA;;;ACPjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ;AAEd,QAAM,gBAAgB,CAAC,UAAU,OAAO,YAAY;AAClD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI;AACF,mBAAW,IAAI,MAAM,OAAO;AAAA,eACrB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,CAAC,MAAM;AACtB,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,IAAI;AAEnC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAET,YAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ;AACd,QAAM,gBAAgB,CAAC,UAAU,OAAO,YAAY;AAClD,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI;AACF,mBAAW,IAAI,MAAM,OAAO;AAAA,eACrB,IAAP;AACA,eAAO;AAAA;AAET,eAAS,QAAQ,CAAC,MAAM;AACtB,YAAI,SAAS,KAAK,IAAI;AAEpB,cAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,GAAG;AAElC,kBAAM;AACN,oBAAQ,IAAI,OAAO,KAAK;AAAA;AAAA;AAAA;AAI9B,aAAO;AAAA;AAET,YAAO,UAAU;AAAA;AAAA;;;ACvBjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,QAAQ;AACd,QAAM,KAAK;AAEX,QAAM,aAAa,CAAC,OAAO,UAAU;AACnC,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS,IAAI,OAAO;AACpB,UAAI,MAAM,KAAK,SAAS;AACtB,eAAO;AAAA;AAGT,eAAS;AACT,eAAS,IAAI,GAAG,IAAI,MAAM,IAAI,QAAQ,EAAE,GAAG;AACzC,cAAM,cAAc,MAAM,IAAI;AAE9B,YAAI,SAAS;AACb,oBAAY,QAAQ,CAAC,eAAe;AAElC,gBAAM,UAAU,IAAI,OAAO,WAAW,OAAO;AAC7C,kBAAQ,WAAW;AAAA,iBACZ;AACH,kBAAI,QAAQ,WAAW,WAAW,GAAG;AACnC,wBAAQ;AAAA,qBACH;AACL,wBAAQ,WAAW,KAAK;AAAA;AAE1B,sBAAQ,MAAM,QAAQ;AAAA,iBAEnB;AAAA,iBACA;AACH,kBAAI,CAAC,UAAU,GAAG,SAAS,SAAS;AAClC,yBAAS;AAAA;AAEX;AAAA,iBACG;AAAA,iBACA;AAEH;AAAA;AAGA,oBAAM,IAAI,MAAM,yBAAyB,WAAW;AAAA;AAAA;AAG1D,YAAI,UAAW,EAAC,UAAU,GAAG,QAAQ;AACnC,mBAAS;AAAA;AAGb,UAAI,UAAU,MAAM,KAAK,SAAS;AAChC,eAAO;AAAA;AAGT,aAAO;AAAA;AAET,YAAO,UAAU;AAAA;AAAA;;;AC3DjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,aAAa,CAAC,OAAO,YAAY;AACrC,UAAI;AAGF,eAAO,IAAI,MAAM,OAAO,SAAS,SAAS;AAAA,eACnC,IAAP;AACA,eAAO;AAAA;AAAA;AAGX,YAAO,UAAU;AAAA;AAAA;;;ACVjB;AAAA;AAAA,QAAM,SAAS;AACf,QAAM,aAAa;AACnB,QAAM,EAAC,QAAO;AACd,QAAM,QAAQ;AACd,QAAM,aAAY;AAClB,QAAM,KAAK;AACX,QAAM,KAAK;AACX,QAAM,MAAM;AACZ,QAAM,MAAM;AAEZ,QAAM,UAAU,CAAC,SAAS,OAAO,MAAM,YAAY;AACjD,gBAAU,IAAI,OAAO,SAAS;AAC9B,cAAQ,IAAI,MAAM,OAAO;AAEzB,UAAI,MAAM,OAAO,MAAM,MAAM;AAC7B,cAAQ;AAAA,aACD;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA,aACG;AACH,iBAAO;AACP,kBAAQ;AACR,iBAAO;AACP,iBAAO;AACP,kBAAQ;AACR;AAAA;AAEA,gBAAM,IAAI,UAAU;AAAA;AAIxB,UAAI,WAAU,SAAS,OAAO,UAAU;AACtC,eAAO;AAAA;AAMT,eAAS,IAAI,GAAG,IAAI,MAAM,IAAI,QAAQ,EAAE,GAAG;AACzC,cAAM,cAAc,MAAM,IAAI;AAE9B,YAAI,OAAO;AACX,YAAI,MAAM;AAEV,oBAAY,QAAQ,CAAC,eAAe;AAClC,cAAI,WAAW,WAAW,KAAK;AAC7B,yBAAa,IAAI,WAAW;AAAA;AAE9B,iBAAO,QAAQ;AACf,gBAAM,OAAO;AACb,cAAI,KAAK,WAAW,QAAQ,KAAK,QAAQ,UAAU;AACjD,mBAAO;AAAA,qBACE,KAAK,WAAW,QAAQ,IAAI,QAAQ,UAAU;AACvD,kBAAM;AAAA;AAAA;AAMV,YAAI,KAAK,aAAa,QAAQ,KAAK,aAAa,OAAO;AACrD,iBAAO;AAAA;AAKT,YAAK,EAAC,IAAI,YAAY,IAAI,aAAa,SACnC,MAAM,SAAS,IAAI,SAAS;AAC9B,iBAAO;AAAA,mBACE,IAAI,aAAa,SAAS,KAAK,SAAS,IAAI,SAAS;AAC9D,iBAAO;AAAA;AAAA;AAGX,aAAO;AAAA;AAGT,YAAO,UAAU;AAAA;AAAA;;;AC/EjB;AAAA;AACA,QAAM,UAAU;AAChB,QAAM,MAAM,CAAC,SAAS,OAAO,YAAY,QAAQ,SAAS,OAAO,KAAK;AACtE,YAAO,UAAU;AAAA;AAAA;;;ACHjB;AAAA;AAAA,QAAM,UAAU;AAEhB,QAAM,MAAM,CAAC,SAAS,OAAO,YAAY,QAAQ,SAAS,OAAO,KAAK;AACtE,YAAO,UAAU;AAAA;AAAA;;;ACHjB;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,aAAa,CAAC,IAAI,IAAI,YAAY;AACtC,WAAK,IAAI,MAAM,IAAI;AACnB,WAAK,IAAI,MAAM,IAAI;AACnB,aAAO,GAAG,WAAW;AAAA;AAEvB,YAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAGA,QAAM,aAAY;AAClB,QAAM,UAAU;AAChB,YAAO,UAAU,CAAC,UAAU,OAAO,YAAY;AAC7C,YAAM,MAAM;AACZ,UAAI,MAAM;AACV,UAAI,OAAO;AACX,YAAM,IAAI,SAAS,KAAK,CAAC,GAAG,MAAM,QAAQ,GAAG,GAAG;AAChD,iBAAW,WAAW,GAAG;AACvB,cAAM,WAAW,WAAU,SAAS,OAAO;AAC3C,YAAI,UAAU;AACZ,iBAAO;AACP,cAAI,CAAC;AACH,kBAAM;AAAA,eACH;AACL,cAAI,MAAM;AACR,gBAAI,KAAK,CAAC,KAAK;AAAA;AAEjB,iBAAO;AACP,gBAAM;AAAA;AAAA;AAGV,UAAI;AACF,YAAI,KAAK,CAAC,KAAK;AAEjB,YAAM,SAAS;AACf,iBAAW,CAAC,MAAK,QAAQ,KAAK;AAC5B,YAAI,SAAQ;AACV,iBAAO,KAAK;AAAA,iBACL,CAAC,OAAO,SAAQ,EAAE;AACzB,iBAAO,KAAK;AAAA,iBACL,CAAC;AACR,iBAAO,KAAK,KAAK;AAAA,iBACV,SAAQ,EAAE;AACjB,iBAAO,KAAK,KAAK;AAAA;AAEjB,iBAAO,KAAK,GAAG,UAAS;AAAA;AAE5B,YAAM,aAAa,OAAO,KAAK;AAC/B,YAAM,WAAW,OAAO,MAAM,QAAQ,WAAW,MAAM,MAAM,OAAO;AACpE,aAAO,WAAW,SAAS,SAAS,SAAS,aAAa;AAAA;AAAA;AAAA;;;AC1C5D;AAAA;AAAA,QAAM,QAAQ;AACd,QAAM,aAAa;AACnB,QAAM,EAAE,QAAQ;AAChB,QAAM,aAAY;AAClB,QAAM,UAAU;AAsChB,QAAM,SAAS,CAAC,KAAK,KAAK,UAAU,OAAO;AACzC,UAAI,QAAQ;AACV,eAAO;AAET,YAAM,IAAI,MAAM,KAAK;AACrB,YAAM,IAAI,MAAM,KAAK;AACrB,UAAI,aAAa;AAEjB;AAAO,mBAAW,aAAa,IAAI,KAAK;AACtC,qBAAW,aAAa,IAAI,KAAK;AAC/B,kBAAM,QAAQ,aAAa,WAAW,WAAW;AACjD,yBAAa,cAAc,UAAU;AACrC,gBAAI;AACF;AAAA;AAMJ,cAAI;AACF,mBAAO;AAAA;AAEX,aAAO;AAAA;AAGT,QAAM,eAAe,CAAC,KAAK,KAAK,YAAY;AAC1C,UAAI,QAAQ;AACV,eAAO;AAET,UAAI,IAAI,WAAW,KAAK,IAAI,GAAG,WAAW,KAAK;AAC7C,YAAI,IAAI,WAAW,KAAK,IAAI,GAAG,WAAW;AACxC,iBAAO;AAAA,iBACA,QAAQ;AACf,gBAAM,CAAE,IAAI,WAAW;AAAA;AAEvB,gBAAM,CAAE,IAAI,WAAW;AAAA;AAG3B,UAAI,IAAI,WAAW,KAAK,IAAI,GAAG,WAAW,KAAK;AAC7C,YAAI,QAAQ;AACV,iBAAO;AAAA;AAEP,gBAAM,CAAE,IAAI,WAAW;AAAA;AAG3B,YAAM,QAAQ,oBAAI;AAClB,UAAI,IAAI;AACR,iBAAW,KAAK,KAAK;AACnB,YAAI,EAAE,aAAa,OAAO,EAAE,aAAa;AACvC,eAAK,SAAS,IAAI,GAAG;AAAA,iBACd,EAAE,aAAa,OAAO,EAAE,aAAa;AAC5C,eAAK,QAAQ,IAAI,GAAG;AAAA;AAEpB,gBAAM,IAAI,EAAE;AAAA;AAGhB,UAAI,MAAM,OAAO;AACf,eAAO;AAET,UAAI;AACJ,UAAI,MAAM,IAAI;AACZ,mBAAW,QAAQ,GAAG,QAAQ,GAAG,QAAQ;AACzC,YAAI,WAAW;AACb,iBAAO;AAAA,iBACA,aAAa,KAAM,IAAG,aAAa,QAAQ,GAAG,aAAa;AAClE,iBAAO;AAAA;AAIX,iBAAW,MAAM,OAAO;AACtB,YAAI,MAAM,CAAC,WAAU,IAAI,OAAO,KAAK;AACnC,iBAAO;AAET,YAAI,MAAM,CAAC,WAAU,IAAI,OAAO,KAAK;AACnC,iBAAO;AAET,mBAAW,KAAK,KAAK;AACnB,cAAI,CAAC,WAAU,IAAI,OAAO,IAAI;AAC5B,mBAAO;AAAA;AAGX,eAAO;AAAA;AAGT,UAAI,QAAQ;AACZ,UAAI,UAAU;AAGd,UAAI,eAAe,MACjB,CAAC,QAAQ,qBACT,GAAG,OAAO,WAAW,SAAS,GAAG,SAAS;AAC5C,UAAI,eAAe,MACjB,CAAC,QAAQ,qBACT,GAAG,OAAO,WAAW,SAAS,GAAG,SAAS;AAE5C,UAAI,gBAAgB,aAAa,WAAW,WAAW,KACnD,GAAG,aAAa,OAAO,aAAa,WAAW,OAAO,GAAG;AAC3D,uBAAe;AAAA;AAGjB,iBAAW,KAAK,KAAK;AACnB,mBAAW,YAAY,EAAE,aAAa,OAAO,EAAE,aAAa;AAC5D,mBAAW,YAAY,EAAE,aAAa,OAAO,EAAE,aAAa;AAC5D,YAAI,IAAI;AACN,cAAI,cAAc;AAChB,gBAAI,EAAE,OAAO,cAAc,EAAE,OAAO,WAAW,UAC3C,EAAE,OAAO,UAAU,aAAa,SAChC,EAAE,OAAO,UAAU,aAAa,SAChC,EAAE,OAAO,UAAU,aAAa,OAAO;AACzC,6BAAe;AAAA;AAAA;AAGnB,cAAI,EAAE,aAAa,OAAO,EAAE,aAAa,MAAM;AAC7C,qBAAS,SAAS,IAAI,GAAG;AACzB,gBAAI,WAAW,KAAK,WAAW;AAC7B,qBAAO;AAAA,qBACA,GAAG,aAAa,QAAQ,CAAC,WAAU,GAAG,QAAQ,OAAO,IAAI;AAClE,mBAAO;AAAA;AAEX,YAAI,IAAI;AACN,cAAI,cAAc;AAChB,gBAAI,EAAE,OAAO,cAAc,EAAE,OAAO,WAAW,UAC3C,EAAE,OAAO,UAAU,aAAa,SAChC,EAAE,OAAO,UAAU,aAAa,SAChC,EAAE,OAAO,UAAU,aAAa,OAAO;AACzC,6BAAe;AAAA;AAAA;AAGnB,cAAI,EAAE,aAAa,OAAO,EAAE,aAAa,MAAM;AAC7C,oBAAQ,QAAQ,IAAI,GAAG;AACvB,gBAAI,UAAU,KAAK,UAAU;AAC3B,qBAAO;AAAA,qBACA,GAAG,aAAa,QAAQ,CAAC,WAAU,GAAG,QAAQ,OAAO,IAAI;AAClE,mBAAO;AAAA;AAEX,YAAI,CAAC,EAAE,YAAa,OAAM,OAAO,aAAa;AAC5C,iBAAO;AAAA;AAMX,UAAI,MAAM,YAAY,CAAC,MAAM,aAAa;AACxC,eAAO;AAET,UAAI,MAAM,YAAY,CAAC,MAAM,aAAa;AACxC,eAAO;AAKT,UAAI,gBAAgB;AAClB,eAAO;AAET,aAAO;AAAA;AAIT,QAAM,WAAW,CAAC,GAAG,GAAG,YAAY;AAClC,UAAI,CAAC;AACH,eAAO;AACT,YAAM,OAAO,QAAQ,EAAE,QAAQ,EAAE,QAAQ;AACzC,aAAO,OAAO,IAAI,IACd,OAAO,IAAI,IACX,EAAE,aAAa,OAAO,EAAE,aAAa,OAAO,IAC5C;AAAA;AAIN,QAAM,UAAU,CAAC,GAAG,GAAG,YAAY;AACjC,UAAI,CAAC;AACH,eAAO;AACT,YAAM,OAAO,QAAQ,EAAE,QAAQ,EAAE,QAAQ;AACzC,aAAO,OAAO,IAAI,IACd,OAAO,IAAI,IACX,EAAE,aAAa,OAAO,EAAE,aAAa,OAAO,IAC5C;AAAA;AAGN,YAAO,UAAU;AAAA;AAAA;;;AC7NjB;AAAA;AACA,QAAM,aAAa;AACnB,YAAO,UAAU;AAAA,MACf,IAAI,WAAW;AAAA,MACf,KAAK,WAAW;AAAA,MAChB,QAAQ,WAAW;AAAA,MACnB,qBAAqB,oBAAgC;AAAA,MACrD,QAAQ;AAAA,MACR,oBAAoB,sBAAkC;AAAA,MACtD,qBAAqB,sBAAkC;AAAA,MACvD,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,KAAK;AAAA,MACL,MAAM;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,UAAU;AAAA,MACV,cAAc;AAAA,MACd,cAAc;AAAA,MACd,MAAM;AAAA,MACN,OAAO;AAAA,MACP,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,WAAW;AAAA,MACX,eAAe;AAAA,MACf,eAAe;AAAA,MACf,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,KAAK;AAAA,MACL,KAAK;AAAA,MACL,YAAY;AAAA,MACZ,eAAe;AAAA,MACf,QAAQ;AAAA;AAAA;AAAA;;;AC9CV;AAAA;AAAA;AAEA,QAAM,QAAO,QAAQ;AACrB,QAAM,YAAY;AAClB,QAAM,eAAe,KAAK;AAM1B,QAAM,cAAc;AACpB,QAAM,eAAe;AACrB,QAAM,gBAAgB;AACtB,QAAM,gBAAgB;AACtB,QAAM,WAAW;AACjB,QAAM,QAAQ;AACd,QAAM,aAAa,MAAM;AACzB,QAAM,eAAe,QAAQ;AAC7B,QAAM,aAAa,GAAG,mBAAmB;AACzC,QAAM,SAAS,MAAM;AACrB,QAAM,UAAU,MAAM,eAAe;AACrC,QAAM,eAAe,MAAM,mBAAmB;AAC9C,QAAM,gBAAgB,MAAM;AAC5B,QAAM,eAAe,MAAM;AAC3B,QAAM,OAAO,GAAG;AAEhB,QAAM,cAAc;AAAA,MAClB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAOF,QAAM,gBAAgB;AAAA,SACjB;AAAA,MAEH,eAAe,IAAI;AAAA,MACnB,OAAO;AAAA,MACP,MAAM,GAAG;AAAA,MACT,YAAY,GAAG,uBAAuB;AAAA,MACtC,QAAQ,MAAM;AAAA,MACd,SAAS,YAAY,cAAc,uBAAuB;AAAA,MAC1D,cAAc,MAAM,uBAAuB;AAAA,MAC3C,eAAe,MAAM,uBAAuB;AAAA,MAC5C,cAAc,MAAM;AAAA,MACpB,cAAc,SAAS;AAAA,MACvB,YAAY,OAAO;AAAA;AAOrB,QAAM,qBAAqB;AAAA,MACzB,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA;AAGV,YAAO,UAAU;AAAA,MACf,YAAY,OAAO;AAAA,MACnB;AAAA,MAGA,iBAAiB;AAAA,MACjB,yBAAyB;AAAA,MACzB,qBAAqB;AAAA,MACrB,6BAA6B;AAAA,MAC7B,4BAA4B;AAAA,MAC5B,wBAAwB;AAAA,MAGxB,cAAc;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,YAAY;AAAA;AAAA,MAId,QAAQ;AAAA,MACR,QAAQ;AAAA,MAGR,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAElB,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,MAExB,eAAe;AAAA,MAGf,gBAAgB;AAAA,MAChB,SAAS;AAAA,MACT,qBAAqB;AAAA,MACrB,sBAAsB;AAAA,MACtB,wBAAwB;AAAA,MACxB,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,uBAAuB;AAAA,MACvB,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,MACpB,mBAAmB;AAAA,MACnB,WAAW;AAAA,MACX,mBAAmB;AAAA,MACnB,yBAAyB;AAAA,MACzB,uBAAuB;AAAA,MACvB,0BAA0B;AAAA,MAC1B,gBAAgB;AAAA,MAChB,qBAAqB;AAAA,MACrB,cAAc;AAAA,MACd,WAAW;AAAA,MACX,oBAAoB;AAAA,MACpB,0BAA0B;AAAA,MAC1B,wBAAwB;AAAA,MACxB,2BAA2B;AAAA,MAC3B,gBAAgB;AAAA,MAChB,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,+BAA+B;AAAA,MAE/B,KAAK,MAAK;AAAA,MAMV,aAAa,OAAO;AAClB,eAAO;AAAA,UACL,KAAK,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,KAAK,MAAM;AAAA,UAC5D,KAAK,EAAE,MAAM,SAAS,MAAM,OAAO,OAAO;AAAA,UAC1C,KAAK,EAAE,MAAM,QAAQ,MAAM,OAAO,OAAO;AAAA,UACzC,KAAK,EAAE,MAAM,QAAQ,MAAM,OAAO,OAAO;AAAA,UACzC,KAAK,EAAE,MAAM,MAAM,MAAM,OAAO,OAAO;AAAA;AAAA;AAAA,MAQ3C,UAAU,OAAO;AACf,eAAO,UAAU,OAAO,gBAAgB;AAAA;AAAA;AAAA;AAAA;;;AChL5C;AAAA;AAAA;AAEA,QAAM,QAAO,QAAQ;AACrB,QAAM,QAAQ,QAAQ,aAAa;AACnC,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,YAAQ,WAAW,SAAO,QAAQ,QAAQ,OAAO,QAAQ,YAAY,CAAC,MAAM,QAAQ;AACpF,YAAQ,gBAAgB,SAAO,oBAAoB,KAAK;AACxD,YAAQ,cAAc,SAAO,IAAI,WAAW,KAAK,QAAQ,cAAc;AACvE,YAAQ,cAAc,SAAO,IAAI,QAAQ,4BAA4B;AACrE,YAAQ,iBAAiB,SAAO,IAAI,QAAQ,iBAAiB;AAE7D,YAAQ,oBAAoB,SAAO;AACjC,aAAO,IAAI,QAAQ,wBAAwB,WAAS;AAClD,eAAO,UAAU,OAAO,KAAK;AAAA;AAAA;AAIjC,YAAQ,sBAAsB,MAAM;AAClC,YAAM,OAAO,QAAQ,QAAQ,MAAM,GAAG,MAAM,KAAK,IAAI;AACrD,UAAI,KAAK,WAAW,KAAK,KAAK,MAAM,KAAM,KAAK,OAAO,KAAK,KAAK,MAAM,IAAK;AACzE,eAAO;AAAA;AAET,aAAO;AAAA;AAGT,YAAQ,YAAY,aAAW;AAC7B,UAAI,WAAW,OAAO,QAAQ,YAAY,WAAW;AACnD,eAAO,QAAQ;AAAA;AAEjB,aAAO,UAAU,QAAQ,MAAK,QAAQ;AAAA;AAGxC,YAAQ,aAAa,CAAC,OAAO,MAAM,YAAY;AAC7C,YAAM,MAAM,MAAM,YAAY,MAAM;AACpC,UAAI,QAAQ;AAAI,eAAO;AACvB,UAAI,MAAM,MAAM,OAAO;AAAM,eAAO,QAAQ,WAAW,OAAO,MAAM,MAAM;AAC1E,aAAO,GAAG,MAAM,MAAM,GAAG,SAAS,MAAM,MAAM;AAAA;AAGhD,YAAQ,eAAe,CAAC,OAAO,SAAQ,OAAO;AAC5C,UAAI,SAAS;AACb,UAAI,OAAO,WAAW,OAAO;AAC3B,iBAAS,OAAO,MAAM;AACtB,eAAM,SAAS;AAAA;AAEjB,aAAO;AAAA;AAGT,YAAQ,aAAa,CAAC,OAAO,SAAQ,IAAI,UAAU,OAAO;AACxD,YAAM,UAAU,QAAQ,WAAW,KAAK;AACxC,YAAM,SAAS,QAAQ,WAAW,KAAK;AAEvC,UAAI,SAAS,GAAG,aAAa,SAAS;AACtC,UAAI,OAAM,YAAY,MAAM;AAC1B,iBAAS,UAAU;AAAA;AAErB,aAAO;AAAA;AAAA;AAAA;;;AC9DT;AAAA;AAAA;AAEA,QAAM,QAAQ;AACd,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,QAAM,kBAAkB,UAAQ;AAC9B,aAAO,SAAS,sBAAsB,SAAS;AAAA;AAGjD,QAAM,QAAQ,WAAS;AACrB,UAAI,MAAM,aAAa,MAAM;AAC3B,cAAM,QAAQ,MAAM,aAAa,WAAW;AAAA;AAAA;AAoBhD,QAAM,OAAO,CAAC,OAAO,YAAY;AAC/B,YAAM,OAAO,WAAW;AAExB,YAAM,SAAS,MAAM,SAAS;AAC9B,YAAM,YAAY,KAAK,UAAU,QAAQ,KAAK,cAAc;AAC5D,YAAM,UAAU;AAChB,YAAM,SAAS;AACf,YAAM,QAAQ;AAEd,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,QAAQ;AACZ,UAAI,YAAY;AAChB,UAAI,UAAU;AACd,UAAI,YAAY;AAChB,UAAI,SAAS;AACb,UAAI,YAAY;AAChB,UAAI,aAAa;AACjB,UAAI,eAAe;AACnB,UAAI,cAAc;AAClB,UAAI,UAAU;AACd,UAAI,WAAW;AACf,UAAI,SAAS;AACb,UAAI;AACJ,UAAI;AACJ,UAAI,QAAQ,EAAE,OAAO,IAAI,OAAO,GAAG,QAAQ;AAE3C,YAAM,MAAM,MAAM,SAAS;AAC3B,YAAM,OAAO,MAAM,IAAI,WAAW,QAAQ;AAC1C,YAAM,UAAU,MAAM;AACpB,eAAO;AACP,eAAO,IAAI,WAAW,EAAE;AAAA;AAG1B,aAAO,QAAQ,QAAQ;AACrB,eAAO;AACP,YAAI;AAEJ,YAAI,SAAS,qBAAqB;AAChC,wBAAc,MAAM,cAAc;AAClC,iBAAO;AAEP,cAAI,SAAS,uBAAuB;AAClC,2BAAe;AAAA;AAEjB;AAAA;AAGF,YAAI,iBAAiB,QAAQ,SAAS,uBAAuB;AAC3D;AAEA,iBAAO,UAAU,QAAS,QAAO,YAAY;AAC3C,gBAAI,SAAS,qBAAqB;AAChC,4BAAc,MAAM,cAAc;AAClC;AACA;AAAA;AAGF,gBAAI,SAAS,uBAAuB;AAClC;AACA;AAAA;AAGF,gBAAI,iBAAiB,QAAQ,SAAS,YAAa,QAAO,eAAe,UAAU;AACjF,wBAAU,MAAM,UAAU;AAC1B,uBAAS,MAAM,SAAS;AACxB,yBAAW;AAEX,kBAAI,cAAc,MAAM;AACtB;AAAA;AAGF;AAAA;AAGF,gBAAI,iBAAiB,QAAQ,SAAS,YAAY;AAChD,wBAAU,MAAM,UAAU;AAC1B,uBAAS,MAAM,SAAS;AACxB,yBAAW;AAEX,kBAAI,cAAc,MAAM;AACtB;AAAA;AAGF;AAAA;AAGF,gBAAI,SAAS,wBAAwB;AACnC;AAEA,kBAAI,WAAW,GAAG;AAChB,+BAAe;AACf,0BAAU,MAAM,UAAU;AAC1B,2BAAW;AACX;AAAA;AAAA;AAAA;AAKN,cAAI,cAAc,MAAM;AACtB;AAAA;AAGF;AAAA;AAGF,YAAI,SAAS,oBAAoB;AAC/B,kBAAQ,KAAK;AACb,iBAAO,KAAK;AACZ,kBAAQ,EAAE,OAAO,IAAI,OAAO,GAAG,QAAQ;AAEvC,cAAI,aAAa;AAAM;AACvB,cAAI,SAAS,YAAY,UAAW,QAAQ,GAAI;AAC9C,qBAAS;AACT;AAAA;AAGF,sBAAY,QAAQ;AACpB;AAAA;AAGF,YAAI,KAAK,UAAU,MAAM;AACvB,gBAAM,gBAAgB,SAAS,aAC1B,SAAS,WACT,SAAS,iBACT,SAAS,sBACT,SAAS;AAEd,cAAI,kBAAkB,QAAQ,WAAW,uBAAuB;AAC9D,qBAAS,MAAM,SAAS;AACxB,wBAAY,MAAM,YAAY;AAC9B,uBAAW;AAEX,gBAAI,cAAc,MAAM;AACtB,qBAAO,UAAU,QAAS,QAAO,YAAY;AAC3C,oBAAI,SAAS,qBAAqB;AAChC,gCAAc,MAAM,cAAc;AAClC,yBAAO;AACP;AAAA;AAGF,oBAAI,SAAS,wBAAwB;AACnC,2BAAS,MAAM,SAAS;AACxB,6BAAW;AACX;AAAA;AAAA;AAGJ;AAAA;AAEF;AAAA;AAAA;AAIJ,YAAI,SAAS,eAAe;AAC1B,cAAI,SAAS;AAAe,yBAAa,MAAM,aAAa;AAC5D,mBAAS,MAAM,SAAS;AACxB,qBAAW;AAEX,cAAI,cAAc,MAAM;AACtB;AAAA;AAEF;AAAA;AAGF,YAAI,SAAS,oBAAoB;AAC/B,mBAAS,MAAM,SAAS;AACxB,qBAAW;AAEX,cAAI,cAAc,MAAM;AACtB;AAAA;AAEF;AAAA;AAGF,YAAI,SAAS,0BAA0B;AACrC,iBAAO,UAAU,QAAS,QAAO,YAAY;AAC3C,gBAAI,SAAS,qBAAqB;AAChC,4BAAc,MAAM,cAAc;AAClC;AACA;AAAA;AAGF,gBAAI,SAAS,2BAA2B;AACtC,0BAAY,MAAM,YAAY;AAC9B,uBAAS,MAAM,SAAS;AACxB,yBAAW;AAEX,kBAAI,cAAc,MAAM;AACtB;AAAA;AAEF;AAAA;AAAA;AAAA;AAKN,YAAI,KAAK,aAAa,QAAQ,SAAS,yBAAyB,UAAU,OAAO;AAC/E,oBAAU,MAAM,UAAU;AAC1B;AACA;AAAA;AAGF,YAAI,KAAK,YAAY,QAAQ,SAAS,uBAAuB;AAC3D,mBAAS,MAAM,SAAS;AAExB,cAAI,cAAc,MAAM;AACtB,mBAAO,UAAU,QAAS,QAAO,YAAY;AAC3C,kBAAI,SAAS,uBAAuB;AAClC,8BAAc,MAAM,cAAc;AAClC,uBAAO;AACP;AAAA;AAGF,kBAAI,SAAS,wBAAwB;AACnC,2BAAW;AACX;AAAA;AAAA;AAGJ;AAAA;AAEF;AAAA;AAGF,YAAI,WAAW,MAAM;AACnB,qBAAW;AAEX,cAAI,cAAc,MAAM;AACtB;AAAA;AAGF;AAAA;AAAA;AAIJ,UAAI,KAAK,UAAU,MAAM;AACvB,oBAAY;AACZ,iBAAS;AAAA;AAGX,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,OAAO;AAEX,UAAI,QAAQ,GAAG;AACb,iBAAS,IAAI,MAAM,GAAG;AACtB,cAAM,IAAI,MAAM;AAChB,qBAAa;AAAA;AAGf,UAAI,QAAQ,WAAW,QAAQ,YAAY,GAAG;AAC5C,eAAO,IAAI,MAAM,GAAG;AACpB,eAAO,IAAI,MAAM;AAAA,iBACR,WAAW,MAAM;AAC1B,eAAO;AACP,eAAO;AAAA,aACF;AACL,eAAO;AAAA;AAGT,UAAI,QAAQ,SAAS,MAAM,SAAS,OAAO,SAAS,KAAK;AACvD,YAAI,gBAAgB,KAAK,WAAW,KAAK,SAAS,KAAK;AACrD,iBAAO,KAAK,MAAM,GAAG;AAAA;AAAA;AAIzB,UAAI,KAAK,aAAa,MAAM;AAC1B,YAAI;AAAM,iBAAO,MAAM,kBAAkB;AAEzC,YAAI,QAAQ,gBAAgB,MAAM;AAChC,iBAAO,MAAM,kBAAkB;AAAA;AAAA;AAInC,YAAM,SAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAGF,UAAI,KAAK,WAAW,MAAM;AACxB,eAAM,WAAW;AACjB,YAAI,CAAC,gBAAgB,OAAO;AAC1B,iBAAO,KAAK;AAAA;AAEd,eAAM,SAAS;AAAA;AAGjB,UAAI,KAAK,UAAU,QAAQ,KAAK,WAAW,MAAM;AAC/C,YAAI;AAEJ,iBAAS,MAAM,GAAG,MAAM,QAAQ,QAAQ,OAAO;AAC7C,gBAAM,IAAI,YAAY,YAAY,IAAI;AACtC,gBAAM,IAAI,QAAQ;AAClB,gBAAM,QAAQ,MAAM,MAAM,GAAG;AAC7B,cAAI,KAAK,QAAQ;AACf,gBAAI,QAAQ,KAAK,UAAU,GAAG;AAC5B,qBAAO,KAAK,WAAW;AACvB,qBAAO,KAAK,QAAQ;AAAA,mBACf;AACL,qBAAO,KAAK,QAAQ;AAAA;AAEtB,kBAAM,OAAO;AACb,mBAAM,YAAY,OAAO,KAAK;AAAA;AAEhC,cAAI,QAAQ,KAAK,UAAU,IAAI;AAC7B,kBAAM,KAAK;AAAA;AAEb,sBAAY;AAAA;AAGd,YAAI,aAAa,YAAY,IAAI,MAAM,QAAQ;AAC7C,gBAAM,QAAQ,MAAM,MAAM,YAAY;AACtC,gBAAM,KAAK;AAEX,cAAI,KAAK,QAAQ;AACf,mBAAO,OAAO,SAAS,GAAG,QAAQ;AAClC,kBAAM,OAAO,OAAO,SAAS;AAC7B,mBAAM,YAAY,OAAO,OAAO,SAAS,GAAG;AAAA;AAAA;AAIhD,eAAM,UAAU;AAChB,eAAM,QAAQ;AAAA;AAGhB,aAAO;AAAA;AAGT,YAAO,UAAU;AAAA;AAAA;;;AC9XjB;AAAA;AAAA;AAEA,QAAM,YAAY;AAClB,QAAM,QAAQ;AAMd,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAMJ,QAAM,cAAc,CAAC,MAAM,YAAY;AACrC,UAAI,OAAO,QAAQ,gBAAgB,YAAY;AAC7C,eAAO,QAAQ,YAAY,GAAG,MAAM;AAAA;AAGtC,WAAK;AACL,YAAM,QAAQ,IAAI,KAAK,KAAK;AAE5B,UAAI;AAEF,YAAI,OAAO;AAAA,eACJ,IAAP;AACA,eAAO,KAAK,IAAI,OAAK,MAAM,YAAY,IAAI,KAAK;AAAA;AAGlD,aAAO;AAAA;AAOT,QAAM,cAAc,CAAC,MAAM,SAAS;AAClC,aAAO,WAAW,UAAU,oBAAoB;AAAA;AAUlD,QAAM,QAAQ,CAAC,OAAO,YAAY;AAChC,UAAI,OAAO,UAAU,UAAU;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,cAAQ,aAAa,UAAU;AAE/B,YAAM,OAAO,KAAK;AAClB,YAAM,MAAM,OAAO,KAAK,cAAc,WAAW,KAAK,IAAI,YAAY,KAAK,aAAa;AAExF,UAAI,MAAM,MAAM;AAChB,UAAI,MAAM,KAAK;AACb,cAAM,IAAI,YAAY,iBAAiB,wCAAwC;AAAA;AAGjF,YAAM,MAAM,EAAE,MAAM,OAAO,OAAO,IAAI,QAAQ,KAAK,WAAW;AAC9D,YAAM,SAAS,CAAC;AAEhB,YAAM,UAAU,KAAK,UAAU,KAAK;AACpC,YAAM,QAAQ,MAAM,UAAU;AAG9B,YAAM,iBAAiB,UAAU,UAAU;AAC3C,YAAM,gBAAgB,UAAU,aAAa;AAE7C,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,UACE;AAEJ,YAAM,WAAW,CAAC,UAAS;AACzB,eAAO,IAAI,gBAAgB,eAAe,MAAK,MAAM,aAAa;AAAA;AAGpE,YAAM,QAAQ,KAAK,MAAM,KAAK;AAC9B,YAAM,aAAa,KAAK,MAAM,QAAQ;AACtC,UAAI,OAAO,KAAK,SAAS,OAAO,SAAS,QAAQ;AAEjD,UAAI,KAAK,SAAS;AAChB,eAAO,IAAI;AAAA;AAIb,UAAI,OAAO,KAAK,UAAU,WAAW;AACnC,aAAK,YAAY,KAAK;AAAA;AAGxB,YAAM,SAAQ;AAAA,QACZ;AAAA,QACA,OAAO;AAAA,QACP,OAAO;AAAA,QACP,KAAK,KAAK,QAAQ;AAAA,QAClB,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,UAAU;AAAA,QACV;AAAA;AAGF,cAAQ,MAAM,aAAa,OAAO;AAClC,YAAM,MAAM;AAEZ,YAAM,WAAW;AACjB,YAAM,SAAS;AACf,YAAM,QAAQ;AACd,UAAI,OAAO;AACX,UAAI;AAMJ,YAAM,MAAM,MAAM,OAAM,UAAU,MAAM;AACxC,YAAM,OAAO,OAAM,OAAO,CAAC,IAAI,MAAM,MAAM,OAAM,QAAQ;AACzD,YAAM,UAAU,OAAM,UAAU,MAAM,MAAM,EAAE,OAAM;AACpD,YAAM,YAAY,MAAM,MAAM,MAAM,OAAM,QAAQ;AAClD,YAAM,UAAU,CAAC,SAAQ,IAAI,MAAM,MAAM;AACvC,eAAM,YAAY;AAClB,eAAM,SAAS;AAAA;AAEjB,YAAM,SAAS,WAAS;AACtB,eAAM,UAAU,MAAM,UAAU,OAAO,MAAM,SAAS,MAAM;AAC5D,gBAAQ,MAAM;AAAA;AAGhB,YAAM,SAAS,MAAM;AACnB,YAAI,QAAQ;AAEZ,eAAO,WAAW,OAAQ,MAAK,OAAO,OAAO,KAAK,OAAO,MAAM;AAC7D;AACA,iBAAM;AACN;AAAA;AAGF,YAAI,QAAQ,MAAM,GAAG;AACnB,iBAAO;AAAA;AAGT,eAAM,UAAU;AAChB,eAAM;AACN,eAAO;AAAA;AAGT,YAAM,YAAY,UAAQ;AACxB,eAAM;AACN,cAAM,KAAK;AAAA;AAGb,YAAM,YAAY,UAAQ;AACxB,eAAM;AACN,cAAM;AAAA;AAWR,YAAM,OAAO,SAAO;AAClB,YAAI,KAAK,SAAS,YAAY;AAC5B,gBAAM,UAAU,OAAM,SAAS,KAAM,KAAI,SAAS,WAAW,IAAI,SAAS;AAC1E,gBAAM,YAAY,IAAI,YAAY,QAAS,SAAS,UAAW,KAAI,SAAS,UAAU,IAAI,SAAS;AAEnG,cAAI,IAAI,SAAS,WAAW,IAAI,SAAS,WAAW,CAAC,WAAW,CAAC,WAAW;AAC1E,mBAAM,SAAS,OAAM,OAAO,MAAM,GAAG,CAAC,KAAK,OAAO;AAClD,iBAAK,OAAO;AACZ,iBAAK,QAAQ;AACb,iBAAK,SAAS;AACd,mBAAM,UAAU,KAAK;AAAA;AAAA;AAIzB,YAAI,SAAS,UAAU,IAAI,SAAS,WAAW,CAAC,cAAc,IAAI,QAAQ;AACxE,mBAAS,SAAS,SAAS,GAAG,SAAS,IAAI;AAAA;AAG7C,YAAI,IAAI,SAAS,IAAI;AAAQ,iBAAO;AACpC,YAAI,QAAQ,KAAK,SAAS,UAAU,IAAI,SAAS,QAAQ;AACvD,eAAK,SAAS,IAAI;AAClB,eAAK,SAAU,MAAK,UAAU,MAAM,IAAI;AACxC;AAAA;AAGF,YAAI,OAAO;AACX,eAAO,KAAK;AACZ,eAAO;AAAA;AAGT,YAAM,cAAc,CAAC,MAAM,WAAU;AACnC,cAAM,QAAQ,KAAK,cAAc,SAAQ,YAAY,GAAG,OAAO;AAE/D,cAAM,OAAO;AACb,cAAM,SAAS,OAAM;AACrB,cAAM,SAAS,OAAM;AACrB,cAAM,SAAU,MAAK,UAAU,MAAM,MAAM,MAAM;AAEjD,kBAAU;AACV,aAAK,EAAE,MAAM,eAAO,QAAQ,OAAM,SAAS,KAAK;AAChD,aAAK,EAAE,MAAM,SAAS,SAAS,MAAM,OAAO,WAAW;AACvD,iBAAS,KAAK;AAAA;AAGhB,YAAM,eAAe,WAAS;AAC5B,YAAI,SAAS,MAAM,QAAS,MAAK,UAAU,MAAM;AAEjD,YAAI,MAAM,SAAS,UAAU;AAC3B,cAAI,cAAc;AAElB,cAAI,MAAM,SAAS,MAAM,MAAM,SAAS,KAAK,MAAM,MAAM,SAAS,MAAM;AACtE,0BAAc,SAAS;AAAA;AAGzB,cAAI,gBAAgB,QAAQ,SAAS,QAAQ,KAAK,cAAc;AAC9D,qBAAS,MAAM,QAAQ,OAAO;AAAA;AAGhC,cAAI,MAAM,KAAK,SAAS,SAAS,OAAO;AACtC,mBAAM,iBAAiB;AAAA;AAAA;AAI3B,aAAK,EAAE,MAAM,SAAS,SAAS,MAAM,OAAO;AAC5C,kBAAU;AAAA;AAOZ,UAAI,KAAK,cAAc,SAAS,CAAC,sBAAsB,KAAK,QAAQ;AAClE,YAAI,cAAc;AAElB,YAAI,SAAS,MAAM,QAAQ,6BAA6B,CAAC,GAAG,KAAK,OAAO,OAAO,MAAM,UAAU;AAC7F,cAAI,UAAU,MAAM;AAClB,0BAAc;AACd,mBAAO;AAAA;AAGT,cAAI,UAAU,KAAK;AACjB,gBAAI,KAAK;AACP,qBAAO,MAAM,QAAS,QAAO,MAAM,OAAO,KAAK,UAAU;AAAA;AAE3D,gBAAI,UAAU,GAAG;AACf,qBAAO,aAAc,QAAO,MAAM,OAAO,KAAK,UAAU;AAAA;AAE1D,mBAAO,MAAM,OAAO,MAAM;AAAA;AAG5B,cAAI,UAAU,KAAK;AACjB,mBAAO,YAAY,OAAO,MAAM;AAAA;AAGlC,cAAI,UAAU,KAAK;AACjB,gBAAI,KAAK;AACP,qBAAO,MAAM,QAAS,QAAO,OAAO;AAAA;AAEtC,mBAAO;AAAA;AAET,iBAAO,MAAM,IAAI,KAAK;AAAA;AAGxB,YAAI,gBAAgB,MAAM;AACxB,cAAI,KAAK,aAAa,MAAM;AAC1B,qBAAS,OAAO,QAAQ,OAAO;AAAA,iBAC1B;AACL,qBAAS,OAAO,QAAQ,QAAQ,OAAK;AACnC,qBAAO,EAAE,SAAS,MAAM,IAAI,SAAU,IAAI,OAAO;AAAA;AAAA;AAAA;AAKvD,YAAI,WAAW,SAAS,KAAK,aAAa,MAAM;AAC9C,iBAAM,SAAS;AACf,iBAAO;AAAA;AAGT,eAAM,SAAS,MAAM,WAAW,QAAQ,QAAO;AAC/C,eAAO;AAAA;AAOT,aAAO,CAAC,OAAO;AACb,gBAAQ;AAER,YAAI,UAAU,MAAU;AACtB;AAAA;AAOF,YAAI,UAAU,MAAM;AAClB,gBAAM,OAAO;AAEb,cAAI,SAAS,OAAO,KAAK,SAAS,MAAM;AACtC;AAAA;AAGF,cAAI,SAAS,OAAO,SAAS,KAAK;AAChC;AAAA;AAGF,cAAI,CAAC,MAAM;AACT,qBAAS;AACT,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAIF,gBAAM,QAAQ,OAAO,KAAK;AAC1B,cAAI,UAAU;AAEd,cAAI,SAAS,MAAM,GAAG,SAAS,GAAG;AAChC,sBAAU,MAAM,GAAG;AACnB,mBAAM,SAAS;AACf,gBAAI,UAAU,MAAM,GAAG;AACrB,uBAAS;AAAA;AAAA;AAIb,cAAI,KAAK,aAAa,MAAM;AAC1B,oBAAQ,aAAa;AAAA,iBAChB;AACL,qBAAS,aAAa;AAAA;AAGxB,cAAI,OAAM,aAAa,GAAG;AACxB,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAAA;AASJ,YAAI,OAAM,WAAW,KAAM,WAAU,OAAO,KAAK,UAAU,OAAO,KAAK,UAAU,OAAO;AACtF,cAAI,KAAK,UAAU,SAAS,UAAU,KAAK;AACzC,kBAAM,QAAQ,KAAK,MAAM,MAAM;AAC/B,gBAAI,MAAM,SAAS,MAAM;AACvB,mBAAK,QAAQ;AAEb,kBAAI,MAAM,SAAS,MAAM;AACvB,sBAAM,MAAM,KAAK,MAAM,YAAY;AACnC,sBAAM,MAAM,KAAK,MAAM,MAAM,GAAG;AAChC,sBAAM,QAAO,KAAK,MAAM,MAAM,MAAM;AACpC,sBAAM,QAAQ,mBAAmB;AACjC,oBAAI,OAAO;AACT,uBAAK,QAAQ,MAAM;AACnB,yBAAM,YAAY;AAClB;AAEA,sBAAI,CAAC,IAAI,UAAU,OAAO,QAAQ,UAAU,GAAG;AAC7C,wBAAI,SAAS;AAAA;AAEf;AAAA;AAAA;AAAA;AAAA;AAMR,cAAK,UAAU,OAAO,WAAW,OAAS,UAAU,OAAO,WAAW,KAAM;AAC1E,oBAAQ,KAAK;AAAA;AAGf,cAAI,UAAU,OAAQ,MAAK,UAAU,OAAO,KAAK,UAAU,OAAO;AAChE,oBAAQ,KAAK;AAAA;AAGf,cAAI,KAAK,UAAU,QAAQ,UAAU,OAAO,KAAK,UAAU,KAAK;AAC9D,oBAAQ;AAAA;AAGV,eAAK,SAAS;AACd,iBAAO,EAAE;AACT;AAAA;AAQF,YAAI,OAAM,WAAW,KAAK,UAAU,KAAK;AACvC,kBAAQ,MAAM,YAAY;AAC1B,eAAK,SAAS;AACd,iBAAO,EAAE;AACT;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,iBAAM,SAAS,OAAM,WAAW,IAAI,IAAI;AACxC,cAAI,KAAK,eAAe,MAAM;AAC5B,iBAAK,EAAE,MAAM,QAAQ;AAAA;AAEvB;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,oBAAU;AACV,eAAK,EAAE,MAAM,SAAS;AACtB;AAAA;AAGF,YAAI,UAAU,KAAK;AACjB,cAAI,OAAM,WAAW,KAAK,KAAK,mBAAmB,MAAM;AACtD,kBAAM,IAAI,YAAY,YAAY,WAAW;AAAA;AAG/C,gBAAM,UAAU,SAAS,SAAS,SAAS;AAC3C,cAAI,WAAW,OAAM,WAAW,QAAQ,SAAS,GAAG;AAClD,yBAAa,SAAS;AACtB;AAAA;AAGF,eAAK,EAAE,MAAM,SAAS,OAAO,QAAQ,OAAM,SAAS,MAAM;AAC1D,oBAAU;AACV;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,KAAK,cAAc,QAAQ,CAAC,YAAY,SAAS,MAAM;AACzD,gBAAI,KAAK,cAAc,QAAQ,KAAK,mBAAmB,MAAM;AAC3D,oBAAM,IAAI,YAAY,YAAY,WAAW;AAAA;AAG/C,oBAAQ,KAAK;AAAA,iBACR;AACL,sBAAU;AAAA;AAGZ,eAAK,EAAE,MAAM,WAAW;AACxB;AAAA;AAGF,YAAI,UAAU,KAAK;AACjB,cAAI,KAAK,cAAc,QAAS,QAAQ,KAAK,SAAS,aAAa,KAAK,MAAM,WAAW,GAAI;AAC3F,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ,KAAK;AACzC;AAAA;AAGF,cAAI,OAAM,aAAa,GAAG;AACxB,gBAAI,KAAK,mBAAmB,MAAM;AAChC,oBAAM,IAAI,YAAY,YAAY,WAAW;AAAA;AAG/C,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ,KAAK;AACzC;AAAA;AAGF,oBAAU;AAEV,gBAAM,YAAY,KAAK,MAAM,MAAM;AACnC,cAAI,KAAK,UAAU,QAAQ,UAAU,OAAO,OAAO,CAAC,UAAU,SAAS,MAAM;AAC3E,oBAAQ,IAAI;AAAA;AAGd,eAAK,SAAS;AACd,iBAAO,EAAE;AAIT,cAAI,KAAK,oBAAoB,SAAS,MAAM,cAAc,YAAY;AACpE;AAAA;AAGF,gBAAM,UAAU,MAAM,YAAY,KAAK;AACvC,iBAAM,SAAS,OAAM,OAAO,MAAM,GAAG,CAAC,KAAK,MAAM;AAIjD,cAAI,KAAK,oBAAoB,MAAM;AACjC,mBAAM,UAAU;AAChB,iBAAK,QAAQ;AACb;AAAA;AAIF,eAAK,QAAQ,IAAI,UAAU,WAAW,KAAK;AAC3C,iBAAM,UAAU,KAAK;AACrB;AAAA;AAOF,YAAI,UAAU,OAAO,KAAK,YAAY,MAAM;AAC1C,oBAAU;AAEV,gBAAM,OAAO;AAAA,YACX,MAAM;AAAA,YACN;AAAA,YACA,QAAQ;AAAA,YACR,aAAa,OAAM,OAAO;AAAA,YAC1B,aAAa,OAAM,OAAO;AAAA;AAG5B,iBAAO,KAAK;AACZ,eAAK;AACL;AAAA;AAGF,YAAI,UAAU,KAAK;AACjB,gBAAM,QAAQ,OAAO,OAAO,SAAS;AAErC,cAAI,KAAK,YAAY,QAAQ,CAAC,OAAO;AACnC,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ;AACpC;AAAA;AAGF,cAAI,SAAS;AAEb,cAAI,MAAM,SAAS,MAAM;AACvB,kBAAM,MAAM,OAAO;AACnB,kBAAM,QAAQ;AAEd,qBAAS,IAAI,IAAI,SAAS,GAAG,KAAK,GAAG,KAAK;AACxC,qBAAO;AACP,kBAAI,IAAI,GAAG,SAAS,SAAS;AAC3B;AAAA;AAEF,kBAAI,IAAI,GAAG,SAAS,QAAQ;AAC1B,sBAAM,QAAQ,IAAI,GAAG;AAAA;AAAA;AAIzB,qBAAS,YAAY,OAAO;AAC5B,mBAAM,YAAY;AAAA;AAGpB,cAAI,MAAM,UAAU,QAAQ,MAAM,SAAS,MAAM;AAC/C,kBAAM,MAAM,OAAM,OAAO,MAAM,GAAG,MAAM;AACxC,kBAAM,OAAO,OAAM,OAAO,MAAM,MAAM;AACtC,kBAAM,QAAQ,MAAM,SAAS;AAC7B,oBAAQ,SAAS;AACjB,mBAAM,SAAS;AACf,uBAAW,KAAK,MAAM;AACpB,qBAAM,UAAW,EAAE,UAAU,EAAE;AAAA;AAAA;AAInC,eAAK,EAAE,MAAM,SAAS,OAAO;AAC7B,oBAAU;AACV,iBAAO;AACP;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,SAAS,SAAS,GAAG;AACvB,qBAAS,SAAS,SAAS,GAAG;AAAA;AAEhC,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,SAAS;AAEb,gBAAM,QAAQ,OAAO,OAAO,SAAS;AACrC,cAAI,SAAS,MAAM,MAAM,SAAS,OAAO,UAAU;AACjD,kBAAM,QAAQ;AACd,qBAAS;AAAA;AAGX,eAAK,EAAE,MAAM,SAAS,OAAO;AAC7B;AAAA;AAOF,YAAI,UAAU,KAAK;AAKjB,cAAI,KAAK,SAAS,SAAS,OAAM,UAAU,OAAM,QAAQ,GAAG;AAC1D,mBAAM,QAAQ,OAAM,QAAQ;AAC5B,mBAAM,WAAW;AACjB,mBAAM,SAAS;AACf,mBAAO;AACP,mBAAO;AACP;AAAA;AAGF,eAAK,EAAE,MAAM,SAAS,OAAO,QAAQ;AACrC;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,OAAM,SAAS,KAAK,KAAK,SAAS,OAAO;AAC3C,gBAAI,KAAK,UAAU;AAAK,mBAAK,SAAS;AACtC,kBAAM,QAAQ,OAAO,OAAO,SAAS;AACrC,iBAAK,OAAO;AACZ,iBAAK,UAAU;AACf,iBAAK,SAAS;AACd,kBAAM,OAAO;AACb;AAAA;AAGF,cAAK,OAAM,SAAS,OAAM,WAAY,KAAK,KAAK,SAAS,SAAS,KAAK,SAAS,SAAS;AACvF,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ;AACpC;AAAA;AAGF,eAAK,EAAE,MAAM,OAAO,OAAO,QAAQ;AACnC;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,gBAAM,UAAU,QAAQ,KAAK,UAAU;AACvC,cAAI,CAAC,WAAW,KAAK,cAAc,QAAQ,WAAW,OAAO,KAAK,OAAO,KAAK;AAC5E,wBAAY,SAAS;AACrB;AAAA;AAGF,cAAI,QAAQ,KAAK,SAAS,SAAS;AACjC,kBAAM,OAAO;AACb,gBAAI,SAAS;AAEb,gBAAI,SAAS,OAAO,CAAC,MAAM,uBAAuB;AAChD,oBAAM,IAAI,MAAM;AAAA;AAGlB,gBAAK,KAAK,UAAU,OAAO,CAAC,SAAS,KAAK,SAAW,SAAS,OAAO,CAAC,eAAe,KAAK,cAAe;AACvG,uBAAS,KAAK;AAAA;AAGhB,iBAAK,EAAE,MAAM,QAAQ,OAAO;AAC5B;AAAA;AAGF,cAAI,KAAK,QAAQ,QAAS,MAAK,SAAS,WAAW,KAAK,SAAS,QAAQ;AACvE,iBAAK,EAAE,MAAM,SAAS,OAAO,QAAQ;AACrC;AAAA;AAGF,eAAK,EAAE,MAAM,SAAS,OAAO,QAAQ;AACrC;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,KAAK,cAAc,QAAQ,WAAW,KAAK;AAC7C,gBAAI,KAAK,OAAO,OAAO,CAAC,SAAS,KAAK,KAAK,KAAK;AAC9C,0BAAY,UAAU;AACtB;AAAA;AAAA;AAIJ,cAAI,KAAK,aAAa,QAAQ,OAAM,UAAU,GAAG;AAC/C;AACA;AAAA;AAAA;AAQJ,YAAI,UAAU,KAAK;AACjB,cAAI,KAAK,cAAc,QAAQ,WAAW,OAAO,KAAK,OAAO,KAAK;AAChE,wBAAY,QAAQ;AACpB;AAAA;AAGF,cAAK,QAAQ,KAAK,UAAU,OAAQ,KAAK,UAAU,OAAO;AACxD,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ;AACpC;AAAA;AAGF,cAAK,QAAS,MAAK,SAAS,aAAa,KAAK,SAAS,WAAW,KAAK,SAAS,YAAa,OAAM,SAAS,GAAG;AAC7G,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAGF,eAAK,EAAE,MAAM,QAAQ,OAAO;AAC5B;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,KAAK,cAAc,QAAQ,WAAW,OAAO,KAAK,OAAO,KAAK;AAChE,iBAAK,EAAE,MAAM,MAAM,SAAS,MAAM,OAAO,QAAQ;AACjD;AAAA;AAGF,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,UAAU,KAAK;AACjB,cAAI,UAAU,OAAO,UAAU,KAAK;AAClC,oBAAQ,KAAK;AAAA;AAGf,gBAAM,QAAQ,wBAAwB,KAAK;AAC3C,cAAI,OAAO;AACT,qBAAS,MAAM;AACf,mBAAM,SAAS,MAAM,GAAG;AAAA;AAG1B,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,QAAS,MAAK,SAAS,cAAc,KAAK,SAAS,OAAO;AAC5D,eAAK,OAAO;AACZ,eAAK,OAAO;AACZ,eAAK,SAAS;AACd,eAAK,SAAS;AACd,iBAAM,YAAY;AAClB,iBAAM,WAAW;AACjB,kBAAQ;AACR;AAAA;AAGF,YAAI,OAAO;AACX,YAAI,KAAK,cAAc,QAAQ,UAAU,KAAK,OAAO;AACnD,sBAAY,QAAQ;AACpB;AAAA;AAGF,YAAI,KAAK,SAAS,QAAQ;AACxB,cAAI,KAAK,eAAe,MAAM;AAC5B,oBAAQ;AACR;AAAA;AAGF,gBAAM,QAAQ,KAAK;AACnB,gBAAM,SAAS,MAAM;AACrB,gBAAM,UAAU,MAAM,SAAS,WAAW,MAAM,SAAS;AACzD,gBAAM,YAAY,UAAW,QAAO,SAAS,UAAU,OAAO,SAAS;AAEvE,cAAI,KAAK,SAAS,QAAS,EAAC,WAAY,KAAK,MAAM,KAAK,OAAO,MAAO;AACpE,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ;AACpC;AAAA;AAGF,gBAAM,UAAU,OAAM,SAAS,KAAM,OAAM,SAAS,WAAW,MAAM,SAAS;AAC9E,gBAAM,YAAY,SAAS,UAAW,OAAM,SAAS,UAAU,MAAM,SAAS;AAC9E,cAAI,CAAC,WAAW,MAAM,SAAS,WAAW,CAAC,WAAW,CAAC,WAAW;AAChE,iBAAK,EAAE,MAAM,QAAQ,OAAO,QAAQ;AACpC;AAAA;AAIF,iBAAO,KAAK,MAAM,GAAG,OAAO,OAAO;AACjC,kBAAM,QAAQ,MAAM,OAAM,QAAQ;AAClC,gBAAI,SAAS,UAAU,KAAK;AAC1B;AAAA;AAEF,mBAAO,KAAK,MAAM;AAClB,oBAAQ,OAAO;AAAA;AAGjB,cAAI,MAAM,SAAS,SAAS,OAAO;AACjC,iBAAK,OAAO;AACZ,iBAAK,SAAS;AACd,iBAAK,SAAS,SAAS;AACvB,mBAAM,SAAS,KAAK;AACpB,mBAAM,WAAW;AACjB,oBAAQ;AACR;AAAA;AAGF,cAAI,MAAM,SAAS,WAAW,MAAM,KAAK,SAAS,SAAS,CAAC,aAAa,OAAO;AAC9E,mBAAM,SAAS,OAAM,OAAO,MAAM,GAAG,CAAE,OAAM,SAAS,KAAK,QAAQ;AACnE,kBAAM,SAAS,MAAM,MAAM;AAE3B,iBAAK,OAAO;AACZ,iBAAK,SAAS,SAAS,QAAS,MAAK,gBAAgB,MAAM;AAC3D,iBAAK,SAAS;AACd,mBAAM,WAAW;AACjB,mBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,oBAAQ;AACR;AAAA;AAGF,cAAI,MAAM,SAAS,WAAW,MAAM,KAAK,SAAS,SAAS,KAAK,OAAO,KAAK;AAC1E,kBAAM,MAAM,KAAK,OAAO,SAAS,OAAO;AAExC,mBAAM,SAAS,OAAM,OAAO,MAAM,GAAG,CAAE,OAAM,SAAS,KAAK,QAAQ;AACnE,kBAAM,SAAS,MAAM,MAAM;AAE3B,iBAAK,OAAO;AACZ,iBAAK,SAAS,GAAG,SAAS,QAAQ,iBAAiB,gBAAgB;AACnE,iBAAK,SAAS;AAEd,mBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,mBAAM,WAAW;AAEjB,oBAAQ,QAAQ;AAEhB,iBAAK,EAAE,MAAM,SAAS,OAAO,KAAK,QAAQ;AAC1C;AAAA;AAGF,cAAI,MAAM,SAAS,SAAS,KAAK,OAAO,KAAK;AAC3C,iBAAK,OAAO;AACZ,iBAAK,SAAS;AACd,iBAAK,SAAS,QAAQ,iBAAiB,SAAS,QAAQ;AACxD,mBAAM,SAAS,KAAK;AACpB,mBAAM,WAAW;AACjB,oBAAQ,QAAQ;AAChB,iBAAK,EAAE,MAAM,SAAS,OAAO,KAAK,QAAQ;AAC1C;AAAA;AAIF,iBAAM,SAAS,OAAM,OAAO,MAAM,GAAG,CAAC,KAAK,OAAO;AAGlD,eAAK,OAAO;AACZ,eAAK,SAAS,SAAS;AACvB,eAAK,SAAS;AAGd,iBAAM,UAAU,KAAK;AACrB,iBAAM,WAAW;AACjB,kBAAQ;AACR;AAAA;AAGF,cAAM,QAAQ,EAAE,MAAM,QAAQ,OAAO,QAAQ;AAE7C,YAAI,KAAK,SAAS,MAAM;AACtB,gBAAM,SAAS;AACf,cAAI,KAAK,SAAS,SAAS,KAAK,SAAS,SAAS;AAChD,kBAAM,SAAS,QAAQ,MAAM;AAAA;AAE/B,eAAK;AACL;AAAA;AAGF,YAAI,QAAS,MAAK,SAAS,aAAa,KAAK,SAAS,YAAY,KAAK,UAAU,MAAM;AACrF,gBAAM,SAAS;AACf,eAAK;AACL;AAAA;AAGF,YAAI,OAAM,UAAU,OAAM,SAAS,KAAK,SAAS,WAAW,KAAK,SAAS,OAAO;AAC/E,cAAI,KAAK,SAAS,OAAO;AACvB,mBAAM,UAAU;AAChB,iBAAK,UAAU;AAAA,qBAEN,KAAK,QAAQ,MAAM;AAC5B,mBAAM,UAAU;AAChB,iBAAK,UAAU;AAAA,iBAEV;AACL,mBAAM,UAAU;AAChB,iBAAK,UAAU;AAAA;AAGjB,cAAI,WAAW,KAAK;AAClB,mBAAM,UAAU;AAChB,iBAAK,UAAU;AAAA;AAAA;AAInB,aAAK;AAAA;AAGP,aAAO,OAAM,WAAW,GAAG;AACzB,YAAI,KAAK,mBAAmB;AAAM,gBAAM,IAAI,YAAY,YAAY,WAAW;AAC/E,eAAM,SAAS,MAAM,WAAW,OAAM,QAAQ;AAC9C,kBAAU;AAAA;AAGZ,aAAO,OAAM,SAAS,GAAG;AACvB,YAAI,KAAK,mBAAmB;AAAM,gBAAM,IAAI,YAAY,YAAY,WAAW;AAC/E,eAAM,SAAS,MAAM,WAAW,OAAM,QAAQ;AAC9C,kBAAU;AAAA;AAGZ,aAAO,OAAM,SAAS,GAAG;AACvB,YAAI,KAAK,mBAAmB;AAAM,gBAAM,IAAI,YAAY,YAAY,WAAW;AAC/E,eAAM,SAAS,MAAM,WAAW,OAAM,QAAQ;AAC9C,kBAAU;AAAA;AAGZ,UAAI,KAAK,kBAAkB,QAAS,MAAK,SAAS,UAAU,KAAK,SAAS,YAAY;AACpF,aAAK,EAAE,MAAM,eAAe,OAAO,IAAI,QAAQ,GAAG;AAAA;AAIpD,UAAI,OAAM,cAAc,MAAM;AAC5B,eAAM,SAAS;AAEf,mBAAW,SAAS,OAAM,QAAQ;AAChC,iBAAM,UAAU,MAAM,UAAU,OAAO,MAAM,SAAS,MAAM;AAE5D,cAAI,MAAM,QAAQ;AAChB,mBAAM,UAAU,MAAM;AAAA;AAAA;AAAA;AAK5B,aAAO;AAAA;AAST,UAAM,YAAY,CAAC,OAAO,YAAY;AACpC,YAAM,OAAO,KAAK;AAClB,YAAM,MAAM,OAAO,KAAK,cAAc,WAAW,KAAK,IAAI,YAAY,KAAK,aAAa;AACxF,YAAM,MAAM,MAAM;AAClB,UAAI,MAAM,KAAK;AACb,cAAM,IAAI,YAAY,iBAAiB,wCAAwC;AAAA;AAGjF,cAAQ,aAAa,UAAU;AAC/B,YAAM,QAAQ,MAAM,UAAU;AAG9B,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,UACE,UAAU,UAAU;AAExB,YAAM,QAAQ,KAAK,MAAM,UAAU;AACnC,YAAM,WAAW,KAAK,MAAM,gBAAgB;AAC5C,YAAM,UAAU,KAAK,UAAU,KAAK;AACpC,YAAM,SAAQ,EAAE,SAAS,OAAO,QAAQ;AACxC,UAAI,OAAO,KAAK,SAAS,OAAO,QAAQ;AAExC,UAAI,KAAK,SAAS;AAChB,eAAO,IAAI;AAAA;AAGb,YAAM,WAAW,CAAC,UAAS;AACzB,YAAI,MAAK,eAAe;AAAM,iBAAO;AACrC,eAAO,IAAI,gBAAgB,eAAe,MAAK,MAAM,aAAa;AAAA;AAGpE,YAAM,SAAS,SAAO;AACpB,gBAAQ;AAAA,eACD;AACH,mBAAO,GAAG,QAAQ,WAAW;AAAA,eAE1B;AACH,mBAAO,GAAG,cAAc,WAAW;AAAA,eAEhC;AACH,mBAAO,GAAG,QAAQ,OAAO,cAAc,WAAW;AAAA,eAE/C;AACH,mBAAO,GAAG,QAAQ,OAAO,gBAAgB,WAAW,WAAW;AAAA,eAE5D;AACH,mBAAO,QAAQ,SAAS;AAAA,eAErB;AACH,mBAAO,MAAM,QAAQ,SAAS,QAAQ,kBAAkB,WAAW,WAAW;AAAA,eAE3E;AACH,mBAAO,MAAM,QAAQ,SAAS,QAAQ,kBAAkB,WAAW,OAAO,cAAc,WAAW;AAAA,eAEhG;AACH,mBAAO,MAAM,QAAQ,SAAS,QAAQ,kBAAkB,cAAc,WAAW;AAAA,mBAE1E;AACP,kBAAM,QAAQ,iBAAiB,KAAK;AACpC,gBAAI,CAAC;AAAO;AAEZ,kBAAM,UAAS,OAAO,MAAM;AAC5B,gBAAI,CAAC;AAAQ;AAEb,mBAAO,UAAS,cAAc,MAAM;AAAA;AAAA;AAAA;AAK1C,YAAM,SAAS,MAAM,aAAa,OAAO;AACzC,UAAI,SAAS,OAAO;AAEpB,UAAI,UAAU,KAAK,kBAAkB,MAAM;AACzC,kBAAU,GAAG;AAAA;AAGf,aAAO;AAAA;AAGT,YAAO,UAAU;AAAA;AAAA;;;ACrjCjB;AAAA;AAAA;AAEA,QAAM,QAAO,QAAQ;AACrB,QAAM,OAAO;AACb,QAAM,QAAQ;AACd,QAAM,QAAQ;AACd,QAAM,YAAY;AAClB,QAAM,WAAW,SAAO,OAAO,OAAO,QAAQ,YAAY,CAAC,MAAM,QAAQ;AAwBzE,QAAM,YAAY,CAAC,MAAM,SAAS,cAAc,UAAU;AACxD,UAAI,MAAM,QAAQ,OAAO;AACvB,cAAM,MAAM,KAAK,IAAI,WAAS,UAAU,OAAO,SAAS;AACxD,cAAM,eAAe,SAAO;AAC1B,qBAAW,WAAW,KAAK;AACzB,kBAAM,SAAQ,QAAQ;AACtB,gBAAI;AAAO,qBAAO;AAAA;AAEpB,iBAAO;AAAA;AAET,eAAO;AAAA;AAGT,YAAM,UAAU,SAAS,SAAS,KAAK,UAAU,KAAK;AAEtD,UAAI,SAAS,MAAO,OAAO,SAAS,YAAY,CAAC,SAAU;AACzD,cAAM,IAAI,UAAU;AAAA;AAGtB,YAAM,OAAO,WAAW;AACxB,YAAM,QAAQ,MAAM,UAAU;AAC9B,YAAM,QAAQ,UACV,UAAU,UAAU,MAAM,WAC1B,UAAU,OAAO,MAAM,SAAS,OAAO;AAE3C,YAAM,SAAQ,MAAM;AACpB,aAAO,MAAM;AAEb,UAAI,YAAY,MAAM;AACtB,UAAI,KAAK,QAAQ;AACf,cAAM,aAAa,KAAK,SAAS,QAAQ,MAAM,SAAS,MAAM,UAAU;AACxE,oBAAY,UAAU,KAAK,QAAQ,YAAY;AAAA;AAGjD,YAAM,UAAU,CAAC,OAAO,eAAe,UAAU;AAC/C,cAAM,EAAE,SAAS,OAAO,WAAW,UAAU,KAAK,OAAO,OAAO,SAAS,EAAE,MAAM;AACjF,cAAM,SAAS,EAAE,MAAM,eAAO,OAAO,OAAO,OAAO,QAAQ,OAAO;AAElE,YAAI,OAAO,KAAK,aAAa,YAAY;AACvC,eAAK,SAAS;AAAA;AAGhB,YAAI,YAAY,OAAO;AACrB,iBAAO,UAAU;AACjB,iBAAO,eAAe,SAAS;AAAA;AAGjC,YAAI,UAAU,QAAQ;AACpB,cAAI,OAAO,KAAK,aAAa,YAAY;AACvC,iBAAK,SAAS;AAAA;AAEhB,iBAAO,UAAU;AACjB,iBAAO,eAAe,SAAS;AAAA;AAGjC,YAAI,OAAO,KAAK,YAAY,YAAY;AACtC,eAAK,QAAQ;AAAA;AAEf,eAAO,eAAe,SAAS;AAAA;AAGjC,UAAI,aAAa;AACf,gBAAQ,QAAQ;AAAA;AAGlB,aAAO;AAAA;AAoBT,cAAU,OAAO,CAAC,OAAO,OAAO,SAAS,EAAE,MAAM,UAAU,OAAO;AAChE,UAAI,OAAO,UAAU,UAAU;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,UAAU,IAAI;AAChB,eAAO,EAAE,SAAS,OAAO,QAAQ;AAAA;AAGnC,YAAM,OAAO,WAAW;AACxB,YAAM,SAAS,KAAK,UAAW,SAAQ,MAAM,iBAAiB;AAC9D,UAAI,QAAQ,UAAU;AACtB,UAAI,SAAU,SAAS,SAAU,OAAO,SAAS;AAEjD,UAAI,UAAU,OAAO;AACnB,iBAAS,SAAS,OAAO,SAAS;AAClC,gBAAQ,WAAW;AAAA;AAGrB,UAAI,UAAU,SAAS,KAAK,YAAY,MAAM;AAC5C,YAAI,KAAK,cAAc,QAAQ,KAAK,aAAa,MAAM;AACrD,kBAAQ,UAAU,UAAU,OAAO,OAAO,SAAS;AAAA,eAC9C;AACL,kBAAQ,MAAM,KAAK;AAAA;AAAA;AAIvB,aAAO,EAAE,SAAS,QAAQ,QAAQ,OAAO;AAAA;AAiB3C,cAAU,YAAY,CAAC,OAAO,MAAM,SAAS,QAAQ,MAAM,UAAU,aAAa;AAChF,YAAM,QAAQ,gBAAgB,SAAS,OAAO,UAAU,OAAO,MAAM;AACrE,aAAO,MAAM,KAAK,MAAK,SAAS;AAAA;AAoBlC,cAAU,UAAU,CAAC,KAAK,UAAU,YAAY,UAAU,UAAU,SAAS;AAgB7E,cAAU,QAAQ,CAAC,SAAS,YAAY;AACtC,UAAI,MAAM,QAAQ;AAAU,eAAO,QAAQ,IAAI,OAAK,UAAU,MAAM,GAAG;AACvE,aAAO,MAAM,SAAS,KAAK,SAAS,WAAW;AAAA;AA8BjD,cAAU,OAAO,CAAC,OAAO,YAAY,KAAK,OAAO;AAmBjD,cAAU,YAAY,CAAC,QAAQ,SAAS,eAAe,OAAO,cAAc,UAAU;AACpF,UAAI,iBAAiB,MAAM;AACzB,eAAO,OAAO;AAAA;AAGhB,YAAM,OAAO,WAAW;AACxB,YAAM,UAAU,KAAK,WAAW,KAAK;AACrC,YAAM,SAAS,KAAK,WAAW,KAAK;AAEpC,UAAI,SAAS,GAAG,aAAa,OAAO,UAAU;AAC9C,UAAI,UAAU,OAAO,YAAY,MAAM;AACrC,iBAAS,OAAO;AAAA;AAGlB,YAAM,QAAQ,UAAU,QAAQ,QAAQ;AACxC,UAAI,gBAAgB,MAAM;AACxB,cAAM,QAAQ;AAAA;AAGhB,aAAO;AAAA;AAGT,cAAU,SAAS,CAAC,OAAO,SAAS,eAAe,OAAO,cAAc,UAAU;AAChF,UAAI,CAAC,SAAS,OAAO,UAAU,UAAU;AACvC,cAAM,IAAI,UAAU;AAAA;AAGtB,YAAM,OAAO,WAAW;AACxB,UAAI,SAAS,EAAE,SAAS,OAAO,WAAW;AAC1C,UAAI,SAAS;AACb,UAAI;AAEJ,UAAI,MAAM,WAAW,OAAO;AAC1B,gBAAQ,MAAM,MAAM;AACpB,iBAAS,OAAO,SAAS;AAAA;AAG3B,UAAI,KAAK,cAAc,SAAU,OAAM,OAAO,OAAO,MAAM,OAAO,MAAM;AACtE,iBAAS,MAAM,UAAU,OAAO;AAAA;AAGlC,UAAI,WAAW,QAAW;AACxB,iBAAS,MAAM,OAAO;AACtB,eAAO,SAAS,SAAU,QAAO,UAAU;AAAA,aACtC;AACL,eAAO,SAAS;AAAA;AAGlB,aAAO,UAAU,UAAU,QAAQ,SAAS,cAAc;AAAA;AAoB5D,cAAU,UAAU,CAAC,QAAQ,YAAY;AACvC,UAAI;AACF,cAAM,OAAO,WAAW;AACxB,eAAO,IAAI,OAAO,QAAQ,KAAK,SAAU,MAAK,SAAS,MAAM;AAAA,eACtD,KAAP;AACA,YAAI,WAAW,QAAQ,UAAU;AAAM,gBAAM;AAC7C,eAAO;AAAA;AAAA;AASX,cAAU,YAAY;AAMtB,YAAO,UAAU;AAAA;AAAA;;;AClVjB;AAAA;AAAA;AAEA,YAAO,UAAU;AAAA;AAAA;;;ACFjB;AAAA;AAAA;AAEA,QAAM,MAAK,QAAQ;AACnB,QAAM,EAAE,aAAa,QAAQ;AAC7B,QAAM,UAAU,QAAQ;AACxB,QAAM,EAAE,0BAAc,QAAQ;AAC9B,QAAM,YAAY;AAElB,QAAM,WAAU,WAAU,IAAG;AAC7B,QAAM,OAAO,WAAU,IAAG;AAC1B,QAAM,QAAQ,WAAU,IAAG;AAC3B,QAAM,WAAW,WAAU,IAAG;AAW9B,QAAM,OAAO;AACb,QAAM,uBAAuB;AAC7B,QAAM,qBAAqB,oBAAI,IAAI,CAAC,UAAU,SAAS,UAAU,SAAS;AAC1E,QAAM,YAAY;AAClB,QAAM,WAAW;AACjB,QAAM,gBAAgB;AACtB,QAAM,kBAAkB;AACxB,QAAM,YAAY,CAAC,WAAW,UAAU,eAAe;AAEvD,QAAM,oBAAoB,WAAS,mBAAmB,IAAI,MAAM;AAChE,QAAM,CAAC,KAAK,OAAO,QAAQ,SAAS,KAAK,MAAM,KAAK,MAAM,GAAG,GAAG,IAAI,OAAK,OAAO,SAAS,GAAG;AAC5F,QAAM,oBAAoB,QAAQ,aAAa,WAAY,OAAM,MAAO,QAAQ,MAAM,OAAO;AAE7F,QAAM,kBAAkB,YAAU;AAChC,UAAI,WAAW;AAAW;AAC1B,UAAI,OAAO,WAAW;AAAY,eAAO;AAEzC,UAAI,OAAO,WAAW,UAAU;AAC9B,cAAM,OAAO,UAAU,OAAO;AAC9B,eAAO,WAAS,KAAK,MAAM;AAAA;AAG7B,UAAI,MAAM,QAAQ,SAAS;AACzB,cAAM,WAAW;AACjB,cAAM,WAAW;AACjB,mBAAW,QAAQ,QAAQ;AACzB,gBAAM,UAAU,KAAK;AACrB,cAAI,QAAQ,OAAO,OAAO,MAAM;AAC9B,qBAAS,KAAK,UAAU,QAAQ,MAAM;AAAA,iBACjC;AACL,qBAAS,KAAK,UAAU;AAAA;AAAA;AAI5B,YAAI,SAAS,SAAS,GAAG;AACvB,cAAI,SAAS,SAAS,GAAG;AACvB,mBAAO,WACL,SAAS,KAAK,OAAK,EAAE,MAAM,cAAc,CAAC,SAAS,KAAK,OAAK,EAAE,MAAM;AAAA;AAEzE,iBAAO,WAAS,CAAC,SAAS,KAAK,OAAK,EAAE,MAAM;AAAA;AAE9C,eAAO,WAAS,SAAS,KAAK,OAAK,EAAE,MAAM;AAAA;AAAA;AAI/C,uCAA6B,SAAS;AAAA,iBACzB,iBAAiB;AAC1B,eAAO;AAAA,UACL,MAAM;AAAA,UAEN,YAAY,CAAC,UAAS;AAAA,UACtB,iBAAiB,CAAC,UAAS;AAAA,UAE3B,MAAM;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,UACP,YAAY;AAAA;AAAA;AAAA,MAIhB,YAAY,UAAU,IAAI;AACxB,cAAM;AAAA,UACJ,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,eAAe,QAAQ,iBAAiB;AAAA;AAE1C,cAAM,OAAO,KAAK,eAAe,mBAAmB;AACpD,cAAM,EAAE,MAAM,SAAS;AAEvB,aAAK,cAAc,gBAAgB,KAAK;AACxC,aAAK,mBAAmB,gBAAgB,KAAK;AAE7C,cAAM,aAAa,KAAK,QAAQ,QAAQ;AAExC,YAAI,mBAAmB;AACrB,eAAK,QAAQ,WAAQ,WAAW,OAAM,EAAE,QAAQ;AAAA,eAC3C;AACL,eAAK,QAAQ;AAAA;AAGf,aAAK,YAAY,KAAK;AACtB,aAAK,YAAY,CAAC,UAAU,eAAe,iBAAiB,SAAS;AACrE,aAAK,aAAa,CAAC,WAAW,eAAe,iBAAiB,SAAS;AACvE,aAAK,mBAAmB,SAAS;AACjC,aAAK,QAAQ,QAAQ,QAAQ;AAC7B,aAAK,YAAa,YAAY,OAAO,CAAC,KAAK;AAC3C,aAAK,aAAa,KAAK,YAAY,WAAW;AAC9C,aAAK,aAAa,EAAE,UAAU,QAAQ,eAAe,KAAK;AAG1D,aAAK,UAAU,CAAC,KAAK,YAAY,MAAM;AACvC,aAAK,UAAU;AACf,aAAK,SAAS;AAAA;AAAA,YAGV,MAAM,OAAO;AACjB,YAAI,KAAK;AAAS;AAClB,aAAK,UAAU;AAEf,YAAI;AACF,iBAAO,CAAC,KAAK,aAAa,QAAQ,GAAG;AACnC,kBAAM,EAAE,aAAM,OAAO,QAAQ,OAAO,KAAK,UAAU;AAEnD,gBAAI,MAAM,SAAS,GAAG;AACpB,oBAAM,QAAQ,MAAM,OAAO,GAAG,OAAO,IAAI,YAAU,KAAK,aAAa,QAAQ;AAC7E,yBAAW,SAAS,MAAM,QAAQ,IAAI,QAAQ;AAC5C,oBAAI,KAAK;AAAW;AAEpB,sBAAM,YAAY,MAAM,KAAK,cAAc;AAC3C,oBAAI,cAAc,eAAe,KAAK,iBAAiB,QAAQ;AAC7D,sBAAI,SAAS,KAAK,WAAW;AAC3B,yBAAK,QAAQ,KAAK,KAAK,YAAY,MAAM,UAAU,QAAQ;AAAA;AAG7D,sBAAI,KAAK,WAAW;AAClB,yBAAK,KAAK;AACV;AAAA;AAAA,2BAEQ,eAAc,UAAU,KAAK,eAAe,WAAW,KAAK,YAAY,QAAQ;AAC1F,sBAAI,KAAK,YAAY;AACnB,yBAAK,KAAK;AACV;AAAA;AAAA;AAAA;AAAA,mBAID;AACL,oBAAM,SAAS,KAAK,QAAQ;AAC5B,kBAAI,CAAC,QAAQ;AACX,qBAAK,KAAK;AACV;AAAA;AAEF,mBAAK,SAAS,MAAM;AACpB,kBAAI,KAAK;AAAW;AAAA;AAAA;AAAA,iBAGjB,OAAP;AACA,eAAK,QAAQ;AAAA,kBACb;AACA,eAAK,UAAU;AAAA;AAAA;AAAA,YAIb,YAAY,OAAM,OAAO;AAC7B,YAAI;AACJ,YAAI;AACF,kBAAQ,MAAM,SAAQ,OAAM,KAAK;AAAA,iBAC1B,OAAP;AACA,eAAK,SAAS;AAAA;AAEhB,eAAO,EAAE,OAAO,OAAO;AAAA;AAAA,YAGnB,aAAa,QAAQ,OAAM;AAC/B,YAAI;AACJ,YAAI;AACF,gBAAM,WAAW,KAAK,YAAY,OAAO,OAAO;AAChD,gBAAM,WAAW,QAAQ,QAAQ,QAAQ,KAAK,OAAM;AACpD,kBAAQ,EAAE,MAAM,QAAQ,SAAS,KAAK,OAAO,WAAW,UAAU;AAClE,gBAAM,KAAK,cAAc,KAAK,YAAY,SAAS,MAAM,KAAK,MAAM;AAAA,iBAC7D,KAAP;AACA,eAAK,SAAS;AAAA;AAEhB,eAAO;AAAA;AAAA,MAGT,SAAS,KAAK;AACZ,YAAI,kBAAkB,QAAQ,CAAC,KAAK,WAAW;AAC7C,eAAK,KAAK,QAAQ;AAAA,eACb;AACL,eAAK,QAAQ;AAAA;AAAA;AAAA,YAIX,cAAc,OAAO;AAGzB,cAAM,QAAQ,SAAS,MAAM,KAAK;AAClC,YAAI,CAAC,OAAO;AACV;AAAA;AAEF,YAAI,MAAM,UAAU;AAClB,iBAAO;AAAA;AAET,YAAI,MAAM,eAAe;AACvB,iBAAO;AAAA;AAET,YAAI,SAAS,MAAM,kBAAkB;AACnC,gBAAM,OAAO,MAAM;AACnB,cAAI;AACF,kBAAM,gBAAgB,MAAM,SAAS;AACrC,kBAAM,qBAAqB,MAAM,MAAM;AACvC,gBAAI,mBAAmB,UAAU;AAC/B,qBAAO;AAAA;AAET,gBAAI,mBAAmB,eAAe;AACpC,oBAAM,MAAM,cAAc;AAC1B,kBAAI,KAAK,WAAW,kBAAkB,KAAK,OAAO,KAAK,OAAO,QAAQ,KAAK;AACzE,sBAAM,iBAAiB,IAAI,MACzB,+BAA+B,oBAAoB;AAErD,+BAAe,OAAO;AACtB,uBAAO,KAAK,SAAS;AAAA;AAEvB,qBAAO;AAAA;AAAA,mBAEF,OAAP;AACA,iBAAK,SAAS;AAAA;AAAA;AAAA;AAAA,MAKpB,eAAe,OAAO;AACpB,cAAM,QAAQ,SAAS,MAAM,KAAK;AAElC,eAAO,SAAS,KAAK,oBAAoB,CAAC,MAAM;AAAA;AAAA;AAoBpD,QAAM,WAAW,CAAC,MAAM,UAAU,OAAO;AACvC,UAAI,OAAO,QAAQ,aAAa,QAAQ;AACxC,UAAI,SAAS;AAAQ,eAAO;AAC5B,UAAI;AAAM,gBAAQ,OAAO;AACzB,UAAI,CAAC,MAAM;AACT,cAAM,IAAI,MAAM;AAAA,iBACP,OAAO,SAAS,UAAU;AACnC,cAAM,IAAI,UAAU;AAAA,iBACX,QAAQ,CAAC,UAAU,SAAS,OAAO;AAC5C,cAAM,IAAI,MAAM,6CAA6C,UAAU,KAAK;AAAA;AAG9E,cAAQ,OAAO;AACf,aAAO,IAAI,eAAe;AAAA;AAG5B,QAAM,kBAAkB,CAAC,MAAM,UAAU,OAAO;AAC9C,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,cAAM,QAAQ;AACd,iBAAS,MAAM,SACZ,GAAG,QAAQ,WAAS,MAAM,KAAK,QAC/B,GAAG,OAAO,MAAM,QAAQ,QACxB,GAAG,SAAS,WAAS,OAAO;AAAA;AAAA;AAInC,aAAS,UAAU;AACnB,aAAS,iBAAiB;AAC1B,aAAS,UAAU;AAEnB,YAAO,UAAU;AAAA;AAAA;;;AC9RjB;AAAA;AAOA,YAAO,UAAU,SAAS,OAAM,eAAe;AAC7C,UAAI,OAAO,UAAS,UAAU;AAC5B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,UAAS,QAAQ,UAAS;AAAK,eAAO;AAE1C,UAAI,MAAM,MAAK;AACf,UAAI,OAAO;AAAG,eAAO;AAKrB,UAAI,SAAS;AACb,UAAI,MAAM,KAAK,MAAK,OAAO,MAAM;AAC/B,YAAI,KAAK,MAAK;AACd,YAAK,QAAO,OAAO,OAAO,QAAQ,MAAK,MAAM,GAAG,OAAO,QAAQ;AAC7D,kBAAO,MAAK,MAAM;AAClB,mBAAS;AAAA;AAAA;AAIb,UAAI,OAAO,MAAK,MAAM;AACtB,UAAI,kBAAkB,SAAS,KAAK,KAAK,SAAS,OAAO,IAAI;AAC3D,aAAK;AAAA;AAEP,aAAO,SAAS,KAAK,KAAK;AAAA;AAAA;AAAA;;;ACjC5B;AAAA;AAAA;AAEA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAEtD,QAAM,YAAY;AAClB,QAAM,gBAAgB;AAOtB,QAAM,OAAO;AACb,QAAM,kBAAkB,EAAC,aAAa;AACtC,QAAM,SAAS,CAAC,SAAS,MAAM,QAAQ,QAAQ,OAAO,CAAC;AAOvD,QAAM,gBAAgB,CAAC,SAAS,YAAY;AAC1C,UAAI,OAAO,YAAY,YAAY;AACjC,eAAO;AAAA;AAET,UAAI,OAAO,YAAY,UAAU;AAC/B,cAAM,OAAO,UAAU,SAAS;AAChC,eAAO,CAAC,WAAW,YAAY,UAAU,KAAK;AAAA;AAEhD,UAAI,mBAAmB,QAAQ;AAC7B,eAAO,CAAC,WAAW,QAAQ,KAAK;AAAA;AAElC,aAAO,CAAC,WAAW;AAAA;AAUrB,QAAM,gBAAgB,CAAC,UAAU,aAAa,MAAM,gBAAgB;AAClE,YAAM,SAAS,MAAM,QAAQ;AAC7B,YAAM,QAAQ,SAAS,KAAK,KAAK;AACjC,UAAI,CAAC,UAAU,OAAO,UAAU,UAAU;AACxC,cAAM,IAAI,UAAU,qDAClB,OAAO,UAAU,SAAS,KAAK;AAAA;AAEnC,YAAM,QAAO,cAAc;AAE3B,eAAS,QAAQ,GAAG,QAAQ,YAAY,QAAQ,SAAS;AACvD,cAAM,QAAQ,YAAY;AAC1B,YAAI,MAAM,QAAO;AACf,iBAAO,cAAc,KAAK;AAAA;AAAA;AAI9B,YAAM,UAAU,UAAU,CAAC,OAAM,OAAO,KAAK,MAAM;AACnD,eAAS,QAAQ,GAAG,QAAQ,SAAS,QAAQ,SAAS;AACpD,cAAM,UAAU,SAAS;AACzB,YAAI,SAAS,QAAQ,GAAG,WAAW,QAAQ,QAAO;AAChD,iBAAO,cAAc,QAAQ;AAAA;AAAA;AAIjC,aAAO,cAAc,KAAK;AAAA;AAS5B,QAAM,WAAW,CAAC,UAAU,YAAY,UAAU,oBAAoB;AACpE,UAAI,YAAY,MAAM;AACpB,cAAM,IAAI,UAAU;AAAA;AAEtB,YAAM,OAAO,OAAO,YAAY,YAAY,EAAC,aAAa,YAAW;AACrE,YAAM,cAAc,KAAK,eAAe;AAGxC,YAAM,UAAU,OAAO;AACvB,YAAM,eAAe,QAClB,OAAO,UAAQ,OAAO,SAAS,YAAY,KAAK,OAAO,OAAO,MAC9D,IAAI,UAAQ,KAAK,MAAM,IACvB,IAAI,UAAQ,UAAU,MAAM;AAC/B,YAAM,WAAW,QACd,OAAO,UAAQ,OAAO,SAAS,YAAa,OAAO,SAAS,YAAY,KAAK,OAAO,OAAO,MAC3F,IAAI,aAAW,cAAc,SAAS;AAEzC,UAAI,cAAc,MAAM;AACtB,eAAO,CAAC,aAAY,KAAK,UAAU;AACjC,gBAAM,eAAc,OAAO,OAAO,YAAY,KAAK;AACnD,iBAAO,cAAc,UAAU,cAAc,aAAY;AAAA;AAAA;AAI7D,aAAO,cAAc,UAAU,cAAc,YAAY;AAAA;AAG3D,aAAS,UAAU;AACnB,YAAO,UAAU;AAAA;AAAA;;;ACvGjB;AAAA;AAOA,YAAO,UAAU,mBAAmB,KAAK;AACvC,UAAI,OAAO,QAAQ,YAAY,QAAQ,IAAI;AACzC,eAAO;AAAA;AAGT,UAAI;AACJ,aAAQ,QAAQ,yBAAyB,KAAK,MAAO;AACnD,YAAI,MAAM;AAAI,iBAAO;AACrB,cAAM,IAAI,MAAM,MAAM,QAAQ,MAAM,GAAG;AAAA;AAGzC,aAAO;AAAA;AAAA;AAAA;;;AClBT;AAAA;AAOA,QAAI,YAAY;AAChB,QAAI,QAAQ,EAAE,KAAK,KAAK,KAAK,KAAK,KAAK;AACvC,QAAI,cAAc;AAClB,QAAI,eAAe;AAEnB,YAAO,UAAU,gBAAgB,KAAK,SAAS;AAC7C,UAAI,OAAO,QAAQ,YAAY,QAAQ,IAAI;AACzC,eAAO;AAAA;AAGT,UAAI,UAAU,MAAM;AAClB,eAAO;AAAA;AAGT,UAAI,QAAQ;AACZ,UAAI;AAGJ,UAAI,WAAW,QAAQ,WAAW,OAAO;AACvC,gBAAQ;AAAA;AAGV,aAAQ,QAAQ,MAAM,KAAK,MAAO;AAChC,YAAI,MAAM;AAAI,iBAAO;AACrB,YAAI,MAAM,MAAM,QAAQ,MAAM,GAAG;AAIjC,YAAI,OAAO,MAAM;AACjB,YAAI,QAAQ,OAAO,MAAM,QAAQ;AACjC,YAAI,QAAQ,OAAO;AACjB,cAAI,IAAI,IAAI,QAAQ,OAAO;AAC3B,cAAI,MAAM,IAAI;AACZ,kBAAM,IAAI;AAAA;AAAA;AAId,cAAM,IAAI,MAAM;AAAA;AAElB,aAAO;AAAA;AAAA;AAAA;;;AC9CT;AAAA;AAAA;AAEA,QAAI,SAAS;AACb,QAAI,mBAAmB,QAAQ,QAAQ,MAAM;AAC7C,QAAI,UAAU,QAAQ,MAAM,eAAe;AAE3C,QAAI,QAAQ;AACZ,QAAI,YAAY;AAChB,QAAI,YAAY;AAChB,QAAI,SAAS;AACb,QAAI,UAAU;AAQd,YAAO,UAAU,oBAAoB,KAAK,MAAM;AAC9C,UAAI,UAAU,OAAO,OAAO,EAAE,iBAAiB,QAAQ;AAGvD,UAAI,QAAQ,mBAAmB,WAAW,IAAI,QAAQ,SAAS,GAAG;AAChE,cAAM,IAAI,QAAQ,WAAW;AAAA;AAI/B,UAAI,UAAU,KAAK,MAAM;AACvB,eAAO;AAAA;AAIT,aAAO;AAGP,SAAG;AACD,cAAM,iBAAiB;AAAA,eAChB,OAAO,QAAQ,OAAO,KAAK;AAGpC,aAAO,IAAI,QAAQ,SAAS;AAAA;AAAA;AAAA;;;ACxC9B;AAAA;AAAA;AAEA,YAAQ,YAAY,SAAO;AACzB,UAAI,OAAO,QAAQ,UAAU;AAC3B,eAAO,OAAO,UAAU;AAAA;AAE1B,UAAI,OAAO,QAAQ,YAAY,IAAI,WAAW,IAAI;AAChD,eAAO,OAAO,UAAU,OAAO;AAAA;AAEjC,aAAO;AAAA;AAOT,YAAQ,OAAO,CAAC,MAAM,SAAS,KAAK,MAAM,KAAK,WAAQ,MAAK,SAAS;AAMrE,YAAQ,eAAe,CAAC,KAAK,KAAK,OAAO,GAAG,UAAU;AACpD,UAAI,UAAU;AAAO,eAAO;AAC5B,UAAI,CAAC,QAAQ,UAAU,QAAQ,CAAC,QAAQ,UAAU;AAAM,eAAO;AAC/D,aAAS,QAAO,OAAO,OAAO,QAAQ,OAAO,SAAU;AAAA;AAOzD,YAAQ,aAAa,CAAC,OAAO,IAAI,GAAG,SAAS;AAC3C,UAAI,OAAO,MAAM,MAAM;AACvB,UAAI,CAAC;AAAM;AAEX,UAAK,QAAQ,KAAK,SAAS,QAAS,KAAK,SAAS,UAAU,KAAK,SAAS,SAAS;AACjF,YAAI,KAAK,YAAY,MAAM;AACzB,eAAK,QAAQ,OAAO,KAAK;AACzB,eAAK,UAAU;AAAA;AAAA;AAAA;AASrB,YAAQ,eAAe,UAAQ;AAC7B,UAAI,KAAK,SAAS;AAAS,eAAO;AAClC,UAAK,KAAK,UAAU,IAAI,KAAK,UAAU,MAAO,GAAG;AAC/C,aAAK,UAAU;AACf,eAAO;AAAA;AAET,aAAO;AAAA;AAOT,YAAQ,iBAAiB,WAAS;AAChC,UAAI,MAAM,SAAS;AAAS,eAAO;AACnC,UAAI,MAAM,YAAY,QAAQ,MAAM;AAAQ,eAAO;AACnD,UAAK,MAAM,UAAU,IAAI,MAAM,UAAU,MAAO,GAAG;AACjD,cAAM,UAAU;AAChB,eAAO;AAAA;AAET,UAAI,MAAM,SAAS,QAAQ,MAAM,UAAU,MAAM;AAC/C,cAAM,UAAU;AAChB,eAAO;AAAA;AAET,aAAO;AAAA;AAOT,YAAQ,gBAAgB,UAAQ;AAC9B,UAAI,KAAK,SAAS,UAAU,KAAK,SAAS,SAAS;AACjD,eAAO;AAAA;AAET,aAAO,KAAK,SAAS,QAAQ,KAAK,UAAU;AAAA;AAO9C,YAAQ,SAAS,WAAS,MAAM,OAAO,CAAC,KAAK,SAAS;AACpD,UAAI,KAAK,SAAS;AAAQ,YAAI,KAAK,KAAK;AACxC,UAAI,KAAK,SAAS;AAAS,aAAK,OAAO;AACvC,aAAO;AAAA,OACN;AAMH,YAAQ,UAAU,IAAI,SAAS;AAC7B,YAAM,SAAS;AACf,YAAM,OAAO,SAAO;AAClB,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,cAAI,MAAM,IAAI;AACd,gBAAM,QAAQ,OAAO,KAAK,KAAK,UAAU,QAAQ,UAAU,OAAO,KAAK;AAAA;AAEzE,eAAO;AAAA;AAET,WAAK;AACL,aAAO;AAAA;AAAA;AAAA;;;AC9GT;AAAA;AAAA;AAEA,QAAM,QAAQ;AAEd,YAAO,UAAU,CAAC,KAAK,UAAU,OAAO;AACtC,UAAI,YAAY,CAAC,MAAM,SAAS,OAAO;AACrC,YAAI,eAAe,QAAQ,iBAAiB,MAAM,eAAe;AACjE,YAAI,cAAc,KAAK,YAAY,QAAQ,QAAQ,kBAAkB;AACrE,YAAI,SAAS;AAEb,YAAI,KAAK,OAAO;AACd,cAAK,iBAAgB,gBAAgB,MAAM,cAAc,OAAO;AAC9D,mBAAO,OAAO,KAAK;AAAA;AAErB,iBAAO,KAAK;AAAA;AAGd,YAAI,KAAK,OAAO;AACd,iBAAO,KAAK;AAAA;AAGd,YAAI,KAAK,OAAO;AACd,mBAAS,SAAS,KAAK,OAAO;AAC5B,sBAAU,UAAU;AAAA;AAAA;AAGxB,eAAO;AAAA;AAGT,aAAO,UAAU;AAAA;AAAA;AAAA;;;AC7BnB;AAAA;AAOA;AAEA,YAAO,UAAU,SAAS,KAAK;AAC7B,UAAI,OAAO,QAAQ,UAAU;AAC3B,eAAO,MAAM,QAAQ;AAAA;AAEvB,UAAI,OAAO,QAAQ,YAAY,IAAI,WAAW,IAAI;AAChD,eAAO,OAAO,WAAW,OAAO,SAAS,CAAC,OAAO,SAAS,CAAC;AAAA;AAE7D,aAAO;AAAA;AAAA;AAAA;;;AChBT;AAAA;AAOA;AAEA,QAAM,WAAW;AAEjB,QAAM,eAAe,CAAC,KAAK,KAAK,YAAY;AAC1C,UAAI,SAAS,SAAS,OAAO;AAC3B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,QAAQ,UAAU,QAAQ,KAAK;AACjC,eAAO,OAAO;AAAA;AAGhB,UAAI,SAAS,SAAS,OAAO;AAC3B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,OAAO,EAAE,YAAY,SAAS;AAClC,UAAI,OAAO,KAAK,gBAAgB,WAAW;AACzC,aAAK,aAAa,KAAK,gBAAgB;AAAA;AAGzC,UAAI,QAAQ,OAAO,KAAK;AACxB,UAAI,YAAY,OAAO,KAAK;AAC5B,UAAI,UAAU,OAAO,KAAK;AAC1B,UAAI,OAAO,OAAO,KAAK;AACvB,UAAI,WAAW,MAAM,MAAM,MAAM,MAAM,QAAQ,YAAY,UAAU;AAErE,UAAI,aAAa,MAAM,eAAe,WAAW;AAC/C,eAAO,aAAa,MAAM,UAAU;AAAA;AAGtC,UAAI,IAAI,KAAK,IAAI,KAAK;AACtB,UAAI,IAAI,KAAK,IAAI,KAAK;AAEtB,UAAI,KAAK,IAAI,IAAI,OAAO,GAAG;AACzB,YAAI,SAAS,MAAM,MAAM;AACzB,YAAI,KAAK,SAAS;AAChB,iBAAO,IAAI;AAAA;AAEb,YAAI,KAAK,SAAS,OAAO;AACvB,iBAAO;AAAA;AAET,eAAO,MAAM;AAAA;AAGf,UAAI,WAAW,WAAW,QAAQ,WAAW;AAC7C,UAAI,SAAQ,EAAE,KAAK,KAAK,GAAG;AAC3B,UAAI,YAAY;AAChB,UAAI,YAAY;AAEhB,UAAI,UAAU;AACZ,eAAM,WAAW;AACjB,eAAM,SAAS,OAAO,OAAM,KAAK;AAAA;AAGnC,UAAI,IAAI,GAAG;AACT,YAAI,SAAS,IAAI,IAAI,KAAK,IAAI,KAAK;AACnC,oBAAY,gBAAgB,QAAQ,KAAK,IAAI,IAAI,QAAO;AACxD,YAAI,OAAM,IAAI;AAAA;AAGhB,UAAI,KAAK,GAAG;AACV,oBAAY,gBAAgB,GAAG,GAAG,QAAO;AAAA;AAG3C,aAAM,YAAY;AAClB,aAAM,YAAY;AAClB,aAAM,SAAS,gBAAgB,WAAW,WAAW;AAErD,UAAI,KAAK,YAAY,MAAM;AACzB,eAAM,SAAS,IAAI,OAAM;AAAA,iBAChB,KAAK,SAAS,SAAU,UAAU,SAAS,UAAU,SAAU,GAAG;AAC3E,eAAM,SAAS,MAAM,OAAM;AAAA;AAG7B,mBAAa,MAAM,YAAY;AAC/B,aAAO,OAAM;AAAA;AAGf,6BAAyB,KAAK,KAAK,SAAS;AAC1C,UAAI,eAAe,eAAe,KAAK,KAAK,KAAK,OAAO,YAAY;AACpE,UAAI,eAAe,eAAe,KAAK,KAAK,IAAI,OAAO,YAAY;AACnE,UAAI,cAAc,eAAe,KAAK,KAAK,MAAM,MAAM,YAAY;AACnE,UAAI,cAAc,aAAa,OAAO,aAAa,OAAO;AAC1D,aAAO,YAAY,KAAK;AAAA;AAG1B,2BAAuB,KAAK,KAAK;AAC/B,UAAI,QAAQ;AACZ,UAAI,QAAQ;AAEZ,UAAI,OAAO,WAAW,KAAK;AAC3B,UAAI,QAAQ,oBAAI,IAAI,CAAC;AAErB,aAAO,OAAO,QAAQ,QAAQ,KAAK;AACjC,cAAM,IAAI;AACV,iBAAS;AACT,eAAO,WAAW,KAAK;AAAA;AAGzB,aAAO,WAAW,MAAM,GAAG,SAAS;AAEpC,aAAO,MAAM,QAAQ,QAAQ,KAAK;AAChC,cAAM,IAAI;AACV,iBAAS;AACT,eAAO,WAAW,MAAM,GAAG,SAAS;AAAA;AAGtC,cAAQ,CAAC,GAAG;AACZ,YAAM,KAAK;AACX,aAAO;AAAA;AAUT,4BAAwB,OAAO,MAAM,SAAS;AAC5C,UAAI,UAAU,MAAM;AAClB,eAAO,EAAE,SAAS,OAAO,OAAO,IAAI,QAAQ;AAAA;AAG9C,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,SAAS,OAAO;AACpB,UAAI,UAAU;AACd,UAAI,QAAQ;AAEZ,eAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,YAAI,CAAC,YAAY,aAAa,OAAO;AAErC,YAAI,eAAe,WAAW;AAC5B,qBAAW;AAAA,mBAEF,eAAe,OAAO,cAAc,KAAK;AAClD,qBAAW,iBAAiB,YAAY,WAAW;AAAA,eAE9C;AACL;AAAA;AAAA;AAIJ,UAAI,OAAO;AACT,mBAAW,QAAQ,cAAc,OAAO,QAAQ;AAAA;AAGlD,aAAO,EAAE,SAAS,OAAO,CAAC,QAAQ;AAAA;AAGpC,6BAAyB,KAAK,KAAK,KAAK,SAAS;AAC/C,UAAI,SAAS,cAAc,KAAK;AAChC,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI;AAEJ,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,YAAI,OAAM,OAAO;AACjB,YAAI,MAAM,eAAe,OAAO,QAAQ,OAAO,OAAM;AACrD,YAAI,QAAQ;AAEZ,YAAI,CAAC,IAAI,YAAY,QAAQ,KAAK,YAAY,IAAI,SAAS;AACzD,cAAI,KAAK,MAAM,SAAS,GAAG;AACzB,iBAAK,MAAM;AAAA;AAGb,eAAK,MAAM,KAAK,IAAI,MAAM;AAC1B,eAAK,SAAS,KAAK,UAAU,aAAa,KAAK;AAC/C,kBAAQ,OAAM;AACd;AAAA;AAGF,YAAI,IAAI,UAAU;AAChB,kBAAQ,SAAS,MAAK,KAAK;AAAA;AAG7B,YAAI,SAAS,QAAQ,IAAI,UAAU,aAAa,IAAI;AACpD,eAAO,KAAK;AACZ,gBAAQ,OAAM;AACd,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,4BAAwB,KAAK,YAAY,QAAQ,cAAc,SAAS;AACtE,UAAI,SAAS;AAEb,eAAS,OAAO,KAAK;AACnB,YAAI,EAAE,WAAW;AAGjB,YAAI,CAAC,gBAAgB,CAAC,SAAS,YAAY,UAAU,SAAS;AAC5D,iBAAO,KAAK,SAAS;AAAA;AAIvB,YAAI,gBAAgB,SAAS,YAAY,UAAU,SAAS;AAC1D,iBAAO,KAAK,SAAS;AAAA;AAAA;AAGzB,aAAO;AAAA;AAOT,iBAAa,GAAG,GAAG;AACjB,UAAI,MAAM;AACV,eAAS,IAAI,GAAG,IAAI,EAAE,QAAQ;AAAK,YAAI,KAAK,CAAC,EAAE,IAAI,EAAE;AACrD,aAAO;AAAA;AAGT,qBAAiB,GAAG,GAAG;AACrB,aAAO,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK;AAAA;AAGlC,sBAAkB,KAAK,KAAK,KAAK;AAC/B,aAAO,IAAI,KAAK,SAAO,IAAI,SAAS;AAAA;AAGtC,wBAAoB,KAAK,KAAK;AAC5B,aAAO,OAAO,OAAO,KAAK,MAAM,GAAG,CAAC,OAAO,IAAI,OAAO;AAAA;AAGxD,wBAAoB,SAAS,OAAO;AAClC,aAAO,UAAW,UAAU,KAAK,IAAI,IAAI;AAAA;AAG3C,0BAAsB,QAAQ;AAC5B,UAAI,CAAC,QAAQ,GAAG,OAAO,MAAM;AAC7B,UAAI,QAAQ,QAAQ,GAAG;AACrB,eAAO,IAAI,QAAS,QAAO,MAAM,OAAO;AAAA;AAE1C,aAAO;AAAA;AAGT,8BAA0B,GAAG,GAAG,SAAS;AACvC,aAAO,IAAI,IAAK,IAAI,MAAM,IAAK,KAAK,MAAM;AAAA;AAG5C,wBAAoB,KAAK;AACvB,aAAO,YAAY,KAAK;AAAA;AAG1B,sBAAkB,OAAO,KAAK,SAAS;AACrC,UAAI,CAAC,IAAI,UAAU;AACjB,eAAO;AAAA;AAGT,UAAI,OAAO,KAAK,IAAI,IAAI,SAAS,OAAO,OAAO;AAC/C,UAAI,QAAQ,QAAQ,eAAe;AAEnC,cAAQ;AAAA,aACD;AACH,iBAAO;AAAA,aACJ;AACH,iBAAO,QAAQ,OAAO;AAAA,aACnB;AACH,iBAAO,QAAQ,WAAW;AAAA,iBACnB;AACP,iBAAO,QAAQ,OAAO,UAAU,KAAK;AAAA;AAAA;AAAA;AAS3C,iBAAa,QAAQ;AACrB,iBAAa,aAAa,MAAO,aAAa,QAAQ;AAMtD,YAAO,UAAU;AAAA;AAAA;;;AC/RjB;AAAA;AAOA;AAEA,QAAM,OAAO,QAAQ;AACrB,QAAM,eAAe;AAErB,QAAM,WAAW,SAAO,QAAQ,QAAQ,OAAO,QAAQ,YAAY,CAAC,MAAM,QAAQ;AAElF,QAAM,YAAY,cAAY;AAC5B,aAAO,WAAS,aAAa,OAAO,OAAO,SAAS,OAAO;AAAA;AAG7D,QAAM,eAAe,WAAS;AAC5B,aAAO,OAAO,UAAU,YAAa,OAAO,UAAU,YAAY,UAAU;AAAA;AAG9E,QAAM,WAAW,SAAO,OAAO,UAAU,CAAC;AAE1C,QAAM,QAAQ,WAAS;AACrB,UAAI,QAAQ,GAAG;AACf,UAAI,QAAQ;AACZ,UAAI,MAAM,OAAO;AAAK,gBAAQ,MAAM,MAAM;AAC1C,UAAI,UAAU;AAAK,eAAO;AAC1B,aAAO,MAAM,EAAE,WAAW;AAAI;AAC9B,aAAO,QAAQ;AAAA;AAGjB,QAAM,YAAY,CAAC,OAAO,KAAK,YAAY;AACzC,UAAI,OAAO,UAAU,YAAY,OAAO,QAAQ,UAAU;AACxD,eAAO;AAAA;AAET,aAAO,QAAQ,cAAc;AAAA;AAG/B,QAAM,MAAM,CAAC,OAAO,WAAW,aAAa;AAC1C,UAAI,YAAY,GAAG;AACjB,YAAI,OAAO,MAAM,OAAO,MAAM,MAAM;AACpC,YAAI;AAAM,kBAAQ,MAAM,MAAM;AAC9B,gBAAS,OAAO,MAAM,SAAS,OAAO,YAAY,IAAI,WAAW;AAAA;AAEnE,UAAI,aAAa,OAAO;AACtB,eAAO,OAAO;AAAA;AAEhB,aAAO;AAAA;AAGT,QAAM,WAAW,CAAC,OAAO,cAAc;AACrC,UAAI,WAAW,MAAM,OAAO,MAAM,MAAM;AACxC,UAAI,UAAU;AACZ,gBAAQ,MAAM,MAAM;AACpB;AAAA;AAEF,aAAO,MAAM,SAAS;AAAW,gBAAQ,MAAM;AAC/C,aAAO,WAAY,MAAM,QAAS;AAAA;AAGpC,QAAM,aAAa,CAAC,OAAO,YAAY;AACrC,YAAM,UAAU,KAAK,CAAC,GAAG,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI;AACxD,YAAM,UAAU,KAAK,CAAC,GAAG,MAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI;AAExD,UAAI,SAAS,QAAQ,UAAU,KAAK;AACpC,UAAI,YAAY;AAChB,UAAI,YAAY;AAChB,UAAI;AAEJ,UAAI,MAAM,UAAU,QAAQ;AAC1B,oBAAY,MAAM,UAAU,KAAK;AAAA;AAGnC,UAAI,MAAM,UAAU,QAAQ;AAC1B,oBAAY,KAAK,SAAS,MAAM,UAAU,KAAK;AAAA;AAGjD,UAAI,aAAa,WAAW;AAC1B,iBAAS,GAAG,aAAa;AAAA,aACpB;AACL,iBAAS,aAAa;AAAA;AAGxB,UAAI,QAAQ,MAAM;AAChB,eAAO,IAAI,SAAS;AAAA;AAGtB,aAAO;AAAA;AAGT,QAAM,UAAU,CAAC,GAAG,GAAG,WAAW,YAAY;AAC5C,UAAI,WAAW;AACb,eAAO,aAAa,GAAG,GAAG,EAAE,MAAM,UAAU;AAAA;AAG9C,UAAI,QAAQ,OAAO,aAAa;AAChC,UAAI,MAAM;AAAG,eAAO;AAEpB,UAAI,OAAO,OAAO,aAAa;AAC/B,aAAO,IAAI,SAAS;AAAA;AAGtB,QAAM,UAAU,CAAC,OAAO,KAAK,YAAY;AACvC,UAAI,MAAM,QAAQ,QAAQ;AACxB,YAAI,OAAO,QAAQ,SAAS;AAC5B,YAAI,SAAS,QAAQ,UAAU,KAAK;AACpC,eAAO,OAAO,IAAI,SAAS,MAAM,KAAK,UAAU,MAAM,KAAK;AAAA;AAE7D,aAAO,aAAa,OAAO,KAAK;AAAA;AAGlC,QAAM,aAAa,IAAI,SAAS;AAC9B,aAAO,IAAI,WAAW,8BAA8B,KAAK,QAAQ,GAAG;AAAA;AAGtE,QAAM,eAAe,CAAC,OAAO,KAAK,YAAY;AAC5C,UAAI,QAAQ,iBAAiB;AAAM,cAAM,WAAW,CAAC,OAAO;AAC5D,aAAO;AAAA;AAGT,QAAM,cAAc,CAAC,MAAM,YAAY;AACrC,UAAI,QAAQ,iBAAiB,MAAM;AACjC,cAAM,IAAI,UAAU,kBAAkB;AAAA;AAExC,aAAO;AAAA;AAGT,QAAM,cAAc,CAAC,OAAO,KAAK,OAAO,GAAG,UAAU,OAAO;AAC1D,UAAI,IAAI,OAAO;AACf,UAAI,IAAI,OAAO;AAEf,UAAI,CAAC,OAAO,UAAU,MAAM,CAAC,OAAO,UAAU,IAAI;AAChD,YAAI,QAAQ,iBAAiB;AAAM,gBAAM,WAAW,CAAC,OAAO;AAC5D,eAAO;AAAA;AAIT,UAAI,MAAM;AAAG,YAAI;AACjB,UAAI,MAAM;AAAG,YAAI;AAEjB,UAAI,aAAa,IAAI;AACrB,UAAI,cAAc,OAAO;AACzB,UAAI,YAAY,OAAO;AACvB,UAAI,aAAa,OAAO;AACxB,aAAO,KAAK,IAAI,KAAK,IAAI,OAAO;AAEhC,UAAI,SAAS,MAAM,gBAAgB,MAAM,cAAc,MAAM;AAC7D,UAAI,SAAS,SAAS,KAAK,IAAI,YAAY,QAAQ,UAAU,QAAQ,WAAW,UAAU;AAC1F,UAAI,WAAW,WAAW,SAAS,UAAU,OAAO,KAAK,aAAa;AACtE,UAAI,SAAS,QAAQ,aAAa,UAAU;AAE5C,UAAI,QAAQ,WAAW,SAAS,GAAG;AACjC,eAAO,QAAQ,SAAS,OAAO,SAAS,SAAS,KAAK,SAAS,MAAM;AAAA;AAGvE,UAAI,QAAQ,EAAE,WAAW,IAAI,WAAW;AACxC,UAAI,OAAO,SAAO,MAAM,MAAM,IAAI,cAAc,aAAa,KAAK,KAAK,IAAI;AAC3E,UAAI,QAAQ;AACZ,UAAI,QAAQ;AAEZ,aAAO,aAAa,KAAK,IAAI,KAAK,GAAG;AACnC,YAAI,QAAQ,YAAY,QAAQ,OAAO,GAAG;AACxC,eAAK;AAAA,eACA;AACL,gBAAM,KAAK,IAAI,OAAO,GAAG,QAAQ,QAAQ;AAAA;AAE3C,YAAI,aAAa,IAAI,OAAO,IAAI;AAChC;AAAA;AAGF,UAAI,QAAQ,YAAY,MAAM;AAC5B,eAAO,OAAO,IACV,WAAW,OAAO,WAClB,QAAQ,OAAO,MAAM,EAAE,MAAM,UAAU;AAAA;AAG7C,aAAO;AAAA;AAGT,QAAM,cAAc,CAAC,OAAO,KAAK,OAAO,GAAG,UAAU,OAAO;AAC1D,UAAK,CAAC,SAAS,UAAU,MAAM,SAAS,KAAO,CAAC,SAAS,QAAQ,IAAI,SAAS,GAAI;AAChF,eAAO,aAAa,OAAO,KAAK;AAAA;AAIlC,UAAI,SAAS,QAAQ,aAAc,UAAO,OAAO,aAAa;AAC9D,UAAI,IAAI,GAAG,QAAQ,WAAW;AAC9B,UAAI,IAAI,GAAG,MAAM,WAAW;AAE5B,UAAI,aAAa,IAAI;AACrB,UAAI,MAAM,KAAK,IAAI,GAAG;AACtB,UAAI,MAAM,KAAK,IAAI,GAAG;AAEtB,UAAI,QAAQ,WAAW,SAAS,GAAG;AACjC,eAAO,QAAQ,KAAK,KAAK,OAAO;AAAA;AAGlC,UAAI,QAAQ;AACZ,UAAI,QAAQ;AAEZ,aAAO,aAAa,KAAK,IAAI,KAAK,GAAG;AACnC,cAAM,KAAK,OAAO,GAAG;AACrB,YAAI,aAAa,IAAI,OAAO,IAAI;AAChC;AAAA;AAGF,UAAI,QAAQ,YAAY,MAAM;AAC5B,eAAO,QAAQ,OAAO,MAAM,EAAE,MAAM,OAAO;AAAA;AAG7C,aAAO;AAAA;AAGT,QAAM,OAAO,CAAC,OAAO,KAAK,MAAM,UAAU,OAAO;AAC/C,UAAI,OAAO,QAAQ,aAAa,QAAQ;AACtC,eAAO,CAAC;AAAA;AAGV,UAAI,CAAC,aAAa,UAAU,CAAC,aAAa,MAAM;AAC9C,eAAO,aAAa,OAAO,KAAK;AAAA;AAGlC,UAAI,OAAO,SAAS,YAAY;AAC9B,eAAO,KAAK,OAAO,KAAK,GAAG,EAAE,WAAW;AAAA;AAG1C,UAAI,SAAS,OAAO;AAClB,eAAO,KAAK,OAAO,KAAK,GAAG;AAAA;AAG7B,UAAI,OAAO,KAAK;AAChB,UAAI,KAAK,YAAY;AAAM,aAAK,OAAO;AACvC,aAAO,QAAQ,KAAK,QAAQ;AAE5B,UAAI,CAAC,SAAS,OAAO;AACnB,YAAI,QAAQ,QAAQ,CAAC,SAAS;AAAO,iBAAO,YAAY,MAAM;AAC9D,eAAO,KAAK,OAAO,KAAK,GAAG;AAAA;AAG7B,UAAI,SAAS,UAAU,SAAS,MAAM;AACpC,eAAO,YAAY,OAAO,KAAK,MAAM;AAAA;AAGvC,aAAO,YAAY,OAAO,KAAK,KAAK,IAAI,KAAK,IAAI,OAAO,IAAI;AAAA;AAG9D,YAAO,UAAU;AAAA;AAAA;;;ACxPjB;AAAA;AAAA;AAEA,QAAM,OAAO;AACb,QAAM,QAAQ;AAEd,QAAM,UAAU,CAAC,KAAK,UAAU,OAAO;AACrC,UAAI,OAAO,CAAC,MAAM,SAAS,OAAO;AAChC,YAAI,eAAe,MAAM,eAAe;AACxC,YAAI,cAAc,KAAK,YAAY,QAAQ,QAAQ,kBAAkB;AACrE,YAAI,UAAU,iBAAiB,QAAQ,gBAAgB;AACvD,YAAI,SAAS,QAAQ,kBAAkB,OAAO,OAAO;AACrD,YAAI,SAAS;AAEb,YAAI,KAAK,WAAW,MAAM;AACxB,iBAAO,SAAS,KAAK;AAAA;AAEvB,YAAI,KAAK,YAAY,MAAM;AACzB,iBAAO,SAAS,KAAK;AAAA;AAGvB,YAAI,KAAK,SAAS,QAAQ;AACxB,iBAAO,UAAW,SAAS,KAAK,QAAS;AAAA;AAG3C,YAAI,KAAK,SAAS,SAAS;AACzB,iBAAO,UAAW,SAAS,KAAK,QAAS;AAAA;AAG3C,YAAI,KAAK,SAAS,SAAS;AACzB,iBAAO,KAAK,KAAK,SAAS,UAAU,KAAM,UAAU,KAAK,QAAQ;AAAA;AAGnE,YAAI,KAAK,OAAO;AACd,iBAAO,KAAK;AAAA;AAGd,YAAI,KAAK,SAAS,KAAK,SAAS,GAAG;AACjC,cAAI,OAAO,MAAM,OAAO,KAAK;AAC7B,cAAI,QAAQ,KAAK,GAAG,MAAM,KAAK,SAAS,MAAM,OAAO,SAAS;AAE9D,cAAI,MAAM,WAAW,GAAG;AACtB,mBAAO,KAAK,SAAS,KAAK,MAAM,SAAS,IAAI,IAAI,WAAW;AAAA;AAAA;AAIhE,YAAI,KAAK,OAAO;AACd,mBAAS,SAAS,KAAK,OAAO;AAC5B,sBAAU,KAAK,OAAO;AAAA;AAAA;AAG1B,eAAO;AAAA;AAGT,aAAO,KAAK;AAAA;AAGd,YAAO,UAAU;AAAA;AAAA;;;ACxDjB;AAAA;AAAA;AAEA,QAAM,OAAO;AACb,QAAM,YAAY;AAClB,QAAM,QAAQ;AAEd,QAAM,SAAS,CAAC,QAAQ,IAAI,QAAQ,IAAI,UAAU,UAAU;AAC1D,UAAI,SAAS;AAEb,cAAQ,GAAG,OAAO;AAClB,cAAQ,GAAG,OAAO;AAElB,UAAI,CAAC,MAAM;AAAQ,eAAO;AAC1B,UAAI,CAAC,MAAM,QAAQ;AACjB,eAAO,UAAU,MAAM,QAAQ,OAAO,IAAI,SAAO,IAAI,UAAU;AAAA;AAGjE,eAAS,QAAQ,OAAO;AACtB,YAAI,MAAM,QAAQ,OAAO;AACvB,mBAAS,SAAS,MAAM;AACtB,mBAAO,KAAK,OAAO,OAAO,OAAO;AAAA;AAAA,eAE9B;AACL,mBAAS,OAAO,OAAO;AACrB,gBAAI,YAAY,QAAQ,OAAO,QAAQ;AAAU,oBAAM,IAAI;AAC3D,mBAAO,KAAK,MAAM,QAAQ,OAAO,OAAO,MAAM,KAAK,WAAY,OAAO;AAAA;AAAA;AAAA;AAI5E,aAAO,MAAM,QAAQ;AAAA;AAGvB,QAAM,SAAS,CAAC,KAAK,UAAU,OAAO;AACpC,UAAI,aAAa,QAAQ,eAAe,SAAS,MAAO,QAAQ;AAEhE,UAAI,OAAO,CAAC,MAAM,SAAS,OAAO;AAChC,aAAK,QAAQ;AAEb,YAAI,IAAI;AACR,YAAI,IAAI,OAAO;AAEf,eAAO,EAAE,SAAS,WAAW,EAAE,SAAS,UAAU,EAAE,QAAQ;AAC1D,cAAI,EAAE;AACN,cAAI,EAAE;AAAA;AAGR,YAAI,KAAK,WAAW,KAAK,QAAQ;AAC/B,YAAE,KAAK,OAAO,EAAE,OAAO,UAAU,MAAM;AACvC;AAAA;AAGF,YAAI,KAAK,SAAS,WAAW,KAAK,YAAY,QAAQ,KAAK,MAAM,WAAW,GAAG;AAC7E,YAAE,KAAK,OAAO,EAAE,OAAO,CAAC;AACxB;AAAA;AAGF,YAAI,KAAK,SAAS,KAAK,SAAS,GAAG;AACjC,cAAI,OAAO,MAAM,OAAO,KAAK;AAE7B,cAAI,MAAM,aAAa,GAAG,MAAM,QAAQ,MAAM,aAAa;AACzD,kBAAM,IAAI,WAAW;AAAA;AAGvB,cAAI,QAAQ,KAAK,GAAG,MAAM;AAC1B,cAAI,MAAM,WAAW,GAAG;AACtB,oBAAQ,UAAU,MAAM;AAAA;AAG1B,YAAE,KAAK,OAAO,EAAE,OAAO;AACvB,eAAK,QAAQ;AACb;AAAA;AAGF,YAAI,UAAU,MAAM,aAAa;AACjC,YAAI,QAAQ,KAAK;AACjB,YAAI,QAAQ;AAEZ,eAAO,MAAM,SAAS,WAAW,MAAM,SAAS,UAAU,MAAM,QAAQ;AACtE,kBAAQ,MAAM;AACd,kBAAQ,MAAM;AAAA;AAGhB,iBAAS,IAAI,GAAG,IAAI,KAAK,MAAM,QAAQ,KAAK;AAC1C,cAAI,QAAQ,KAAK,MAAM;AAEvB,cAAI,MAAM,SAAS,WAAW,KAAK,SAAS,SAAS;AACnD,gBAAI,MAAM;AAAG,oBAAM,KAAK;AACxB,kBAAM,KAAK;AACX;AAAA;AAGF,cAAI,MAAM,SAAS,SAAS;AAC1B,cAAE,KAAK,OAAO,EAAE,OAAO,OAAO;AAC9B;AAAA;AAGF,cAAI,MAAM,SAAS,MAAM,SAAS,QAAQ;AACxC,kBAAM,KAAK,OAAO,MAAM,OAAO,MAAM;AACrC;AAAA;AAGF,cAAI,MAAM,OAAO;AACf,iBAAK,OAAO;AAAA;AAAA;AAIhB,eAAO;AAAA;AAGT,aAAO,MAAM,QAAQ,KAAK;AAAA;AAG5B,YAAO,UAAU;AAAA;AAAA;;;AChHjB;AAAA;AAAA;AAEA,YAAO,UAAU;AAAA,MACf,YAAY,OAAO;AAAA,MAGnB,QAAQ;AAAA,MACR,QAAQ;AAAA,MAGR,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAElB,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,MAExB,eAAe;AAAA,MAGf,gBAAgB;AAAA,MAChB,SAAS;AAAA,MACT,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,sBAAsB;AAAA,MACtB,wBAAwB;AAAA,MACxB,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,uBAAuB;AAAA,MACvB,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,MACpB,WAAW;AAAA,MACX,mBAAmB;AAAA,MACnB,yBAAyB;AAAA,MACzB,uBAAuB;AAAA,MACvB,0BAA0B;AAAA,MAC1B,gBAAgB;AAAA,MAChB,qBAAqB;AAAA,MACrB,cAAc;AAAA,MACd,WAAW;AAAA,MACX,oBAAoB;AAAA,MACpB,0BAA0B;AAAA,MAC1B,wBAAwB;AAAA,MACxB,2BAA2B;AAAA,MAC3B,gBAAgB;AAAA,MAChB,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,+BAA+B;AAAA;AAAA;AAAA;;;ACvDjC;AAAA;AAAA;AAEA,QAAM,YAAY;AAMlB,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAMJ,QAAM,QAAQ,CAAC,OAAO,UAAU,OAAO;AACrC,UAAI,OAAO,UAAU,UAAU;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,OAAO,WAAW;AACtB,UAAI,MAAM,OAAO,KAAK,cAAc,WAAW,KAAK,IAAI,YAAY,KAAK,aAAa;AACtF,UAAI,MAAM,SAAS,KAAK;AACtB,cAAM,IAAI,YAAY,iBAAiB,MAAM,oCAAoC;AAAA;AAGnF,UAAI,MAAM,EAAE,MAAM,QAAQ,OAAO,OAAO;AACxC,UAAI,QAAQ,CAAC;AACb,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,WAAW;AACf,UAAI,SAAS,MAAM;AACnB,UAAI,QAAQ;AACZ,UAAI,QAAQ;AACZ,UAAI;AACJ,UAAI,OAAO;AAMX,YAAM,UAAU,MAAM,MAAM;AAC5B,YAAM,OAAO,UAAQ;AACnB,YAAI,KAAK,SAAS,UAAU,KAAK,SAAS,OAAO;AAC/C,eAAK,OAAO;AAAA;AAGd,YAAI,QAAQ,KAAK,SAAS,UAAU,KAAK,SAAS,QAAQ;AACxD,eAAK,SAAS,KAAK;AACnB;AAAA;AAGF,cAAM,MAAM,KAAK;AACjB,aAAK,SAAS;AACd,aAAK,OAAO;AACZ,eAAO;AACP,eAAO;AAAA;AAGT,WAAK,EAAE,MAAM;AAEb,aAAO,QAAQ,QAAQ;AACrB,gBAAQ,MAAM,MAAM,SAAS;AAC7B,gBAAQ;AAMR,YAAI,UAAU,iCAAiC,UAAU,qBAAqB;AAC5E;AAAA;AAOF,YAAI,UAAU,gBAAgB;AAC5B,eAAK,EAAE,MAAM,QAAQ,OAAQ,SAAQ,eAAe,QAAQ,MAAM;AAClE;AAAA;AAOF,YAAI,UAAU,2BAA2B;AACvC,eAAK,EAAE,MAAM,QAAQ,OAAO,OAAO;AACnC;AAAA;AAOF,YAAI,UAAU,0BAA0B;AACtC;AAEA,cAAI,SAAS;AACb,cAAI;AAEJ,iBAAO,QAAQ,UAAW,QAAO,YAAY;AAC3C,qBAAS;AAET,gBAAI,SAAS,0BAA0B;AACrC;AACA;AAAA;AAGF,gBAAI,SAAS,gBAAgB;AAC3B,uBAAS;AACT;AAAA;AAGF,gBAAI,SAAS,2BAA2B;AACtC;AAEA,kBAAI,aAAa,GAAG;AAClB;AAAA;AAAA;AAAA;AAKN,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,UAAU,uBAAuB;AACnC,kBAAQ,KAAK,EAAE,MAAM,SAAS,OAAO;AACrC,gBAAM,KAAK;AACX,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAGF,YAAI,UAAU,wBAAwB;AACpC,cAAI,MAAM,SAAS,SAAS;AAC1B,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAEF,kBAAQ,MAAM;AACd,eAAK,EAAE,MAAM,QAAQ;AACrB,kBAAQ,MAAM,MAAM,SAAS;AAC7B;AAAA;AAOF,YAAI,UAAU,qBAAqB,UAAU,qBAAqB,UAAU,eAAe;AACzF,cAAI,OAAO;AACX,cAAI;AAEJ,cAAI,QAAQ,eAAe,MAAM;AAC/B,oBAAQ;AAAA;AAGV,iBAAO,QAAQ,UAAW,QAAO,YAAY;AAC3C,gBAAI,SAAS,gBAAgB;AAC3B,uBAAS,OAAO;AAChB;AAAA;AAGF,gBAAI,SAAS,MAAM;AACjB,kBAAI,QAAQ,eAAe;AAAM,yBAAS;AAC1C;AAAA;AAGF,qBAAS;AAAA;AAGX,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,UAAU,uBAAuB;AACnC;AAEA,cAAI,SAAS,KAAK,SAAS,KAAK,MAAM,MAAM,QAAQ,OAAO,MAAM,WAAW;AAC5E,cAAI,QAAQ;AAAA,YACV,MAAM;AAAA,YACN,MAAM;AAAA,YACN,OAAO;AAAA,YACP;AAAA,YACA;AAAA,YACA,QAAQ;AAAA,YACR,QAAQ;AAAA,YACR,OAAO;AAAA;AAGT,kBAAQ,KAAK;AACb,gBAAM,KAAK;AACX,eAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAOF,YAAI,UAAU,wBAAwB;AACpC,cAAI,MAAM,SAAS,SAAS;AAC1B,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAGF,cAAI,OAAO;AACX,kBAAQ,MAAM;AACd,gBAAM,QAAQ;AAEd,eAAK,EAAE,MAAM;AACb;AAEA,kBAAQ,MAAM,MAAM,SAAS;AAC7B;AAAA;AAOF,YAAI,UAAU,cAAc,QAAQ,GAAG;AACrC,cAAI,MAAM,SAAS,GAAG;AACpB,kBAAM,SAAS;AACf,gBAAI,OAAO,MAAM,MAAM;AACvB,kBAAM,QAAQ,CAAC,MAAM,EAAE,MAAM,QAAQ,OAAO,UAAU;AAAA;AAGxD,eAAK,EAAE,MAAM,SAAS;AACtB,gBAAM;AACN;AAAA;AAOF,YAAI,UAAU,YAAY,QAAQ,KAAK,MAAM,WAAW,GAAG;AACzD,cAAI,WAAW,MAAM;AAErB,cAAI,UAAU,KAAK,SAAS,WAAW,GAAG;AACxC,iBAAK,EAAE,MAAM,QAAQ;AACrB;AAAA;AAGF,cAAI,KAAK,SAAS,OAAO;AACvB,kBAAM,QAAQ;AACd,iBAAK,SAAS;AACd,iBAAK,OAAO;AAEZ,gBAAI,MAAM,MAAM,WAAW,KAAK,MAAM,MAAM,WAAW,GAAG;AACxD,oBAAM,UAAU;AAChB,oBAAM,SAAS;AACf,mBAAK,OAAO;AACZ;AAAA;AAGF,kBAAM;AACN,kBAAM,OAAO;AACb;AAAA;AAGF,cAAI,KAAK,SAAS,SAAS;AACzB,qBAAS;AAET,gBAAI,SAAS,SAAS,SAAS,SAAS;AACxC,mBAAO,SAAS,KAAK,QAAQ;AAC7B,mBAAO;AACP,kBAAM;AACN;AAAA;AAGF,eAAK,EAAE,MAAM,OAAO;AACpB;AAAA;AAOF,aAAK,EAAE,MAAM,QAAQ;AAAA;AAIvB,SAAG;AACD,gBAAQ,MAAM;AAEd,YAAI,MAAM,SAAS,QAAQ;AACzB,gBAAM,MAAM,QAAQ,UAAQ;AAC1B,gBAAI,CAAC,KAAK,OAAO;AACf,kBAAI,KAAK,SAAS;AAAQ,qBAAK,SAAS;AACxC,kBAAI,KAAK,SAAS;AAAS,qBAAK,UAAU;AAC1C,kBAAI,CAAC,KAAK;AAAO,qBAAK,OAAO;AAC7B,mBAAK,UAAU;AAAA;AAAA;AAKnB,cAAI,SAAS,MAAM,MAAM,SAAS;AAClC,cAAI,SAAQ,OAAO,MAAM,QAAQ;AAEjC,iBAAO,MAAM,OAAO,QAAO,GAAG,GAAG,MAAM;AAAA;AAAA,eAElC,MAAM,SAAS;AAExB,WAAK,EAAE,MAAM;AACb,aAAO;AAAA;AAGT,YAAO,UAAU;AAAA;AAAA;;;AC5UjB;AAAA;AAAA;AAEA,QAAM,YAAY;AAClB,QAAM,UAAU;AAChB,QAAM,SAAS;AACf,QAAM,QAAQ;AAgBd,QAAM,SAAS,CAAC,OAAO,UAAU,OAAO;AACtC,UAAI,SAAS;AAEb,UAAI,MAAM,QAAQ,QAAQ;AACxB,iBAAS,WAAW,OAAO;AACzB,cAAI,SAAS,OAAO,OAAO,SAAS;AACpC,cAAI,MAAM,QAAQ,SAAS;AACzB,mBAAO,KAAK,GAAG;AAAA,iBACV;AACL,mBAAO,KAAK;AAAA;AAAA;AAAA,aAGX;AACL,iBAAS,GAAG,OAAO,OAAO,OAAO,OAAO;AAAA;AAG1C,UAAI,WAAW,QAAQ,WAAW,QAAQ,QAAQ,YAAY,MAAM;AAClE,iBAAS,CAAC,GAAG,IAAI,IAAI;AAAA;AAEvB,aAAO;AAAA;AAiBT,WAAO,QAAQ,CAAC,OAAO,UAAU,OAAO,MAAM,OAAO;AAgBrD,WAAO,YAAY,CAAC,OAAO,UAAU,OAAO;AAC1C,UAAI,OAAO,UAAU,UAAU;AAC7B,eAAO,UAAU,OAAO,MAAM,OAAO,UAAU;AAAA;AAEjD,aAAO,UAAU,OAAO;AAAA;AAkB1B,WAAO,UAAU,CAAC,OAAO,UAAU,OAAO;AACxC,UAAI,OAAO,UAAU,UAAU;AAC7B,gBAAQ,OAAO,MAAM,OAAO;AAAA;AAE9B,aAAO,QAAQ,OAAO;AAAA;AAoBxB,WAAO,SAAS,CAAC,OAAO,UAAU,OAAO;AACvC,UAAI,OAAO,UAAU,UAAU;AAC7B,gBAAQ,OAAO,MAAM,OAAO;AAAA;AAG9B,UAAI,SAAS,OAAO,OAAO;AAG3B,UAAI,QAAQ,YAAY,MAAM;AAC5B,iBAAS,OAAO,OAAO;AAAA;AAIzB,UAAI,QAAQ,YAAY,MAAM;AAC5B,iBAAS,CAAC,GAAG,IAAI,IAAI;AAAA;AAGvB,aAAO;AAAA;AAmBT,WAAO,SAAS,CAAC,OAAO,UAAU,OAAO;AACvC,UAAI,UAAU,MAAM,MAAM,SAAS,GAAG;AACpC,eAAO,CAAC;AAAA;AAGX,aAAO,QAAQ,WAAW,OACrB,OAAO,QAAQ,OAAO,WACtB,OAAO,OAAO,OAAO;AAAA;AAO3B,YAAO,UAAU;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzKjB;AAAA;AAAA,YAAO,UAAU;AAAA;AAAA;;;ACAjB;AAAA;AAAA;AACA,QAAM,QAAO,QAAQ;AACrB,QAAM,mBAAmB;AAEzB,QAAM,cAAa,IAAI,IAAI;AAE3B,YAAO,UAAU,cAAY,YAAW,IAAI,MAAK,QAAQ,UAAU,MAAM,GAAG;AAAA;AAAA;;;ACN5E;AAAA;AAAA;AAEA,QAAM,EAAC,QAAO,QAAQ;AACtB,QAAM,EAAC,wBAAY;AACnB,QAAM,MAAK,QAAQ;AAEnB,YAAQ,SAAS;AACjB,YAAQ,WAAW;AACnB,YAAQ,SAAS;AACjB,YAAQ,YAAY;AACpB,YAAQ,aAAa;AACrB,YAAQ,YAAY;AACpB,YAAQ,gBAAgB;AACxB,YAAQ,SAAS;AACjB,YAAQ,WAAW;AAEnB,YAAQ,WAAW;AACnB,YAAQ,UAAU;AAClB,YAAQ,YAAY;AAEpB,YAAQ,kBAAkB;AAC1B,YAAQ,mBAAmB;AAC3B,YAAQ,kBAAkB;AAC1B,YAAQ,gBAAgB;AACxB,YAAQ,iBAAiB;AACzB,YAAQ,kBAAkB;AAC1B,YAAQ,oBAAoB;AAC5B,YAAQ,yBAAyB;AACjC,YAAQ,uBAAuB;AAE/B,YAAQ,gBAAgB;AACxB,YAAQ,UAAU;AAClB,YAAQ,UAAU;AAClB,YAAQ,eAAe,CAAC,QAAQ,eAAe,QAAQ,SAAS,QAAQ;AAExE,YAAQ,YAAY,IAAI;AAExB,YAAQ,gBAAgB;AACxB,YAAQ,kBAAkB;AAC1B,YAAQ,yBAAyB;AACjC,YAAQ,SAAS;AACjB,YAAQ,cAAc;AAEtB,YAAQ,QAAQ;AAChB,YAAQ,cAAc;AACtB,YAAQ,cAAc;AACtB,YAAQ,OAAO;AACf,YAAQ,UAAU;AAClB,YAAQ,WAAW;AACnB,YAAQ,OAAO;AACf,YAAQ,WAAW;AACnB,YAAQ,gBAAgB;AACxB,YAAQ,iBAAiB;AACzB,YAAQ,aAAa;AACrB,YAAQ,gBAAgB,EAAC,KAAK;AAC9B,YAAQ,cAAc;AACtB,YAAQ,gBAAgB;AACxB,YAAQ,YAAY;AACpB,YAAQ,WAAW,MAAM;AAAA;AACzB,YAAQ,cAAc,SAAO;AAE7B,YAAQ,YAAY,cAAa;AACjC,YAAQ,UAAU,cAAa;AAC/B,YAAQ,UAAU,cAAa;AAC/B,YAAQ,SAAS,IAAG,WAAW;AAAA;AAAA;;;AChE/B;AAAA;AAAA;AAEA,QAAM,MAAK,QAAQ;AACnB,QAAM,UAAU,QAAQ;AACxB,QAAM,EAAE,0BAAc,QAAQ;AAC9B,QAAM,eAAe;AACrB,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,QAAM,sBAAsB;AAE5B,QAAM,OAAO,WAAU,IAAG;AAC1B,QAAM,OAAO,WAAU,IAAG;AAC1B,QAAM,QAAQ,WAAU,IAAG;AAC3B,QAAM,QAAQ,WAAU,IAAG;AAC3B,QAAM,aAAa,WAAU,IAAG;AAEhC,QAAM,cAAc,EAAE,OAAO;AAG7B,QAAM,UAAU,CAAC,KAAK,OAAO;AAC3B,UAAI,eAAe,KAAK;AACtB,YAAI,QAAQ;AAAA,aACP;AACL,WAAG;AAAA;AAAA;AAIP,QAAM,gBAAgB,CAAC,MAAM,MAAM,SAAS;AAC1C,UAAI,YAAY,KAAK;AACrB,UAAI,CAAE,sBAAqB,MAAM;AAC/B,aAAK,QAAQ,YAAY,oBAAI,IAAI,CAAC;AAAA;AAEpC,gBAAU,IAAI;AAAA;AAGhB,QAAM,YAAY,UAAQ,SAAO;AAC/B,YAAM,MAAM,KAAK;AACjB,UAAI,eAAe,KAAK;AACtB,YAAI;AAAA,aACC;AACL,eAAO,KAAK;AAAA;AAAA;AAIhB,QAAM,aAAa,CAAC,MAAM,MAAM,SAAS;AACvC,YAAM,YAAY,KAAK;AACvB,UAAI,qBAAqB,KAAK;AAC5B,kBAAU,OAAO;AAAA,iBACR,cAAc,MAAM;AAC7B,eAAO,KAAK;AAAA;AAAA;AAIhB,QAAM,aAAa,CAAC,QAAQ,eAAe,MAAM,IAAI,SAAS,IAAI,CAAC;AAuBnE,QAAM,mBAAmB,oBAAI;AAW7B,mCAA+B,OAAM,SAAS,UAAU,YAAY,SAAS;AAC3E,YAAM,cAAc,CAAC,UAAU,WAAW;AACxC,iBAAS;AACT,gBAAQ,UAAU,QAAQ,EAAC,aAAa;AAIxC,YAAI,UAAU,UAAS,QAAQ;AAC7B,2BACE,QAAQ,QAAQ,OAAM,SAAS,eAAe,QAAQ,KAAK,OAAM;AAAA;AAAA;AAIvE,UAAI;AACF,eAAO,IAAG,MAAM,OAAM,SAAS;AAAA,eACxB,OAAP;AACA,mBAAW;AAAA;AAAA;AAYf,QAAM,mBAAmB,CAAC,UAAU,MAAM,MAAM,MAAM,SAAS;AAC7D,YAAM,OAAO,iBAAiB,IAAI;AAClC,UAAI,CAAC;AAAM;AACX,cAAQ,KAAK,OAAO,CAAC,aAAa;AAChC,iBAAS,MAAM,MAAM;AAAA;AAAA;AAYzB,QAAM,qBAAqB,CAAC,OAAM,UAAU,SAAS,aAAa;AAChE,YAAM,EAAC,UAAU,YAAY,eAAc;AAC3C,UAAI,OAAO,iBAAiB,IAAI;AAGhC,UAAI;AACJ,UAAI,CAAC,QAAQ,YAAY;AACvB,kBAAU,sBACR,OAAM,SAAS,UAAU,YAAY;AAEvC,eAAO,QAAQ,MAAM,KAAK;AAAA;AAE5B,UAAI,MAAM;AACR,sBAAc,MAAM,eAAe;AACnC,sBAAc,MAAM,SAAS;AAC7B,sBAAc,MAAM,SAAS;AAAA,aACxB;AACL,kBAAU,sBACR,OACA,SACA,iBAAiB,KAAK,MAAM,UAAU,gBACtC,YACA,iBAAiB,KAAK,MAAM,UAAU;AAExC,YAAI,CAAC;AAAS;AACd,gBAAQ,GAAG,UAAU,OAAO,UAAU;AACpC,gBAAM,eAAe,iBAAiB,KAAK,MAAM,UAAU;AAC3D,eAAK,kBAAkB;AAEvB,cAAI,aAAa,MAAM,SAAS,SAAS;AACvC,gBAAI;AACF,oBAAM,KAAK,MAAM,KAAK,OAAM;AAC5B,oBAAM,MAAM;AACZ,2BAAa;AAAA,qBACN,KAAP;AAAA;AAAA,iBACG;AACL,yBAAa;AAAA;AAAA;AAGjB,eAAO;AAAA,UACL,WAAW;AAAA,UACX,aAAa;AAAA,UACb,aAAa;AAAA,UACb;AAAA;AAEF,yBAAiB,IAAI,UAAU;AAAA;AAMjC,aAAO,MAAM;AACX,mBAAW,MAAM,eAAe;AAChC,mBAAW,MAAM,SAAS;AAC1B,mBAAW,MAAM,SAAS;AAC1B,YAAI,WAAW,KAAK,YAAY;AAG9B,eAAK,QAAQ;AAEb,2BAAiB,OAAO;AACxB,uBAAa,QAAQ,UAAU;AAC/B,eAAK,UAAU;AACf,iBAAO,OAAO;AAAA;AAAA;AAAA;AASpB,QAAM,uBAAuB,oBAAI;AAWjC,QAAM,yBAAyB,CAAC,OAAM,UAAU,SAAS,aAAa;AACpE,YAAM,EAAC,UAAU,eAAc;AAC/B,UAAI,OAAO,qBAAqB,IAAI;AAGpC,UAAI,YAAY,oBAAI;AACpB,UAAI,cAAc,oBAAI;AAEtB,YAAM,QAAQ,QAAQ,KAAK;AAC3B,UAAI,SAAU,OAAM,aAAa,QAAQ,cAAc,MAAM,WAAW,QAAQ,WAAW;AAKzF,oBAAY,KAAK;AACjB,sBAAc,KAAK;AACnB,YAAG,YAAY;AACf,eAAO;AAAA;AAKT,UAAI,MAAM;AACR,sBAAc,MAAM,eAAe;AACnC,sBAAc,MAAM,SAAS;AAAA,aACxB;AAIL,eAAO;AAAA,UACL,WAAW;AAAA,UACX,aAAa;AAAA,UACb;AAAA,UACA,SAAS,IAAG,UAAU,UAAU,SAAS,CAAC,MAAM,SAAS;AACvD,oBAAQ,KAAK,aAAa,CAAC,gBAAe;AACxC,0BAAW,WAAW,UAAU,EAAC,MAAM;AAAA;AAEzC,kBAAM,YAAY,KAAK;AACvB,gBAAI,KAAK,SAAS,KAAK,QAAQ,YAAY,KAAK,WAAW,cAAc,GAAG;AAC1E,sBAAQ,KAAK,WAAW,CAAC,cAAa,UAAS,OAAM;AAAA;AAAA;AAAA;AAI3D,6BAAqB,IAAI,UAAU;AAAA;AAMrC,aAAO,MAAM;AACX,mBAAW,MAAM,eAAe;AAChC,mBAAW,MAAM,SAAS;AAC1B,YAAI,WAAW,KAAK,YAAY;AAC9B,+BAAqB,OAAO;AAC5B,cAAG,YAAY;AACf,eAAK,UAAU,KAAK,UAAU;AAC9B,iBAAO,OAAO;AAAA;AAAA;AAAA;AAQpB,8BAAoB;AAAA,MAKpB,YAAY,KAAK;AACf,aAAK,MAAM;AACX,aAAK,oBAAoB,CAAC,UAAU,IAAI,aAAa;AAAA;AAAA,MASvD,iBAAiB,OAAM,UAAU;AAC/B,cAAM,OAAO,KAAK,IAAI;AACtB,cAAM,YAAY,QAAQ,QAAQ;AAClC,cAAM,WAAW,QAAQ,SAAS;AAClC,cAAM,SAAS,KAAK,IAAI,eAAe;AACvC,eAAO,IAAI;AACX,cAAM,eAAe,QAAQ,QAAQ;AACrC,cAAM,UAAU,EAAC,YAAY,KAAK;AAClC,YAAI,CAAC;AAAU,qBAAW;AAE1B,YAAI;AACJ,YAAI,KAAK,YAAY;AACnB,kBAAQ,WAAW,KAAK,wBAAwB,aAAa,YAC3D,KAAK,iBAAiB,KAAK;AAC7B,mBAAS,uBAAuB,OAAM,cAAc,SAAS;AAAA,YAC3D;AAAA,YACA,YAAY,KAAK,IAAI;AAAA;AAAA,eAElB;AACL,mBAAS,mBAAmB,OAAM,cAAc,SAAS;AAAA,YACvD;AAAA,YACA,YAAY,KAAK;AAAA,YACjB,YAAY,KAAK,IAAI;AAAA;AAAA;AAGzB,eAAO;AAAA;AAAA,MAUT,YAAY,MAAM,OAAO,YAAY;AACnC,YAAI,KAAK,IAAI,QAAQ;AACnB;AAAA;AAEF,cAAM,UAAU,QAAQ,QAAQ;AAChC,cAAM,WAAW,QAAQ,SAAS;AAClC,cAAM,SAAS,KAAK,IAAI,eAAe;AAEvC,YAAI,YAAY;AAGhB,YAAI,OAAO,IAAI;AAAW;AAE1B,cAAM,WAAW,OAAO,OAAM,aAAa;AACzC,cAAI,CAAC,KAAK,IAAI,UAAU,qBAAqB,MAAM;AAAI;AACvD,cAAI,CAAC,YAAY,SAAS,YAAY,GAAG;AACvC,gBAAI;AACF,oBAAM,YAAW,MAAM,KAAK;AAC5B,kBAAI,KAAK,IAAI;AAAQ;AAErB,oBAAM,KAAK,UAAS;AACpB,oBAAM,KAAK,UAAS;AACpB,kBAAI,CAAC,MAAM,MAAM,MAAM,OAAO,UAAU,SAAS;AAC/C,qBAAK,IAAI,MAAM,WAAW,MAAM;AAAA;AAElC,kBAAI,WAAW,UAAU,QAAQ,UAAS,KAAK;AAC7C,qBAAK,IAAI,WAAW;AACpB,4BAAY;AACZ,qBAAK,IAAI,eAAe,OAAM,KAAK,iBAAiB,MAAM;AAAA,qBACrD;AACL,4BAAY;AAAA;AAAA,qBAEP,OAAP;AAEA,mBAAK,IAAI,QAAQ,SAAS;AAAA;AAAA,qBAGnB,OAAO,IAAI,WAAW;AAE/B,kBAAM,KAAK,SAAS;AACpB,kBAAM,KAAK,SAAS;AACpB,gBAAI,CAAC,MAAM,MAAM,MAAM,OAAO,UAAU,SAAS;AAC/C,mBAAK,IAAI,MAAM,WAAW,MAAM;AAAA;AAElC,wBAAY;AAAA;AAAA;AAIhB,cAAM,SAAS,KAAK,iBAAiB,MAAM;AAG3C,YAAI,CAAE,eAAc,KAAK,IAAI,QAAQ,kBAAkB,KAAK,IAAI,aAAa,OAAO;AAClF,cAAI,CAAC,KAAK,IAAI,UAAU,QAAQ,MAAM;AAAI;AAC1C,eAAK,IAAI,MAAM,QAAQ,MAAM;AAAA;AAG/B,eAAO;AAAA;AAAA,YAWH,eAAe,OAAO,WAAW,OAAM,MAAM;AACjD,YAAI,KAAK,IAAI,QAAQ;AACnB;AAAA;AAEF,cAAM,OAAO,MAAM;AACnB,cAAM,MAAM,KAAK,IAAI,eAAe;AAEpC,YAAI,CAAC,KAAK,IAAI,QAAQ,gBAAgB;AAEpC,eAAK,IAAI;AACT,gBAAM,WAAW,MAAM,WAAW;AAClC,cAAI,KAAK,IAAI;AAAQ;AACrB,cAAI,IAAI,IAAI,OAAO;AACjB,gBAAI,KAAK,IAAI,cAAc,IAAI,UAAU,UAAU;AACjD,mBAAK,IAAI,cAAc,IAAI,MAAM;AACjC,mBAAK,IAAI,MAAM,WAAW,OAAM,MAAM;AAAA;AAAA,iBAEnC;AACL,gBAAI,IAAI;AACR,iBAAK,IAAI,cAAc,IAAI,MAAM;AACjC,iBAAK,IAAI,MAAM,QAAQ,OAAM,MAAM;AAAA;AAErC,eAAK,IAAI;AACT,iBAAO;AAAA;AAIT,YAAI,KAAK,IAAI,cAAc,IAAI,OAAO;AACpC,iBAAO;AAAA;AAGT,aAAK,IAAI,cAAc,IAAI,MAAM;AAAA;AAAA,MAGnC,YAAY,WAAW,YAAY,IAAI,QAAQ,KAAK,OAAO,WAAW;AAEpE,oBAAY,QAAQ,KAAK,WAAW;AAEpC,YAAI,CAAC,GAAG,SAAS;AACf,sBAAY,KAAK,IAAI,UAAU,WAAW,WAAW;AACrD,cAAI,CAAC;AAAW;AAAA;AAGlB,cAAM,WAAW,KAAK,IAAI,eAAe,GAAG;AAC5C,cAAM,UAAU,oBAAI;AAEpB,YAAI,SAAS,KAAK,IAAI,UAAU,WAAW;AAAA,UACzC,YAAY,WAAS,GAAG,WAAW;AAAA,UACnC,iBAAiB,WAAS,GAAG,UAAU;AAAA,UACvC,OAAO;AAAA,WACN,GAAG,UAAU,OAAO,UAAU;AAC/B,cAAI,KAAK,IAAI,QAAQ;AACnB,qBAAS;AACT;AAAA;AAEF,gBAAM,OAAO,MAAM;AACnB,cAAI,QAAO,QAAQ,KAAK,WAAW;AACnC,kBAAQ,IAAI;AAEZ,cAAI,MAAM,MAAM,oBAAoB,MAAM,KAAK,eAAe,OAAO,WAAW,OAAM,OAAO;AAC3F;AAAA;AAGF,cAAI,KAAK,IAAI,QAAQ;AACnB,qBAAS;AACT;AAAA;AAKF,cAAI,SAAS,UAAU,CAAC,UAAU,CAAC,SAAS,IAAI,OAAO;AACrD,iBAAK,IAAI;AAGT,oBAAO,QAAQ,KAAK,KAAK,QAAQ,SAAS,KAAK;AAE/C,iBAAK,aAAa,OAAM,YAAY,IAAI,QAAQ;AAAA;AAAA,WAEjD,GAAG,UAAU,KAAK;AAErB,eAAO,IAAI,QAAQ,aACjB,OAAO,KAAK,SAAS,MAAM;AACzB,cAAI,KAAK,IAAI,QAAQ;AACnB,qBAAS;AACT;AAAA;AAEF,gBAAM,eAAe,YAAY,UAAU,UAAU;AAErD;AAKA,mBAAS,cAAc,OAAO,CAAC,SAAS;AACtC,mBAAO,SAAS,aACd,CAAC,QAAQ,IAAI,SAIZ,EAAC,GAAG,WAAW,GAAG,WAAW;AAAA,cAC5B,UAAU,QAAQ,QAAQ,WAAW;AAAA;AAAA,aAExC,QAAQ,CAAC,SAAS;AACnB,iBAAK,IAAI,QAAQ,WAAW;AAAA;AAG9B,mBAAS;AAGT,cAAI;AAAc,iBAAK,YAAY,WAAW,OAAO,IAAI,QAAQ,KAAK,OAAO;AAAA;AAAA;AAAA,YAgB7E,WAAW,KAAK,OAAO,YAAY,OAAO,QAAQ,IAAI,UAAU;AACpE,cAAM,YAAY,KAAK,IAAI,eAAe,QAAQ,QAAQ;AAC1D,cAAM,UAAU,UAAU,IAAI,QAAQ,SAAS;AAC/C,YAAI,CAAE,eAAc,KAAK,IAAI,QAAQ,kBAAkB,CAAC,UAAU,CAAC,SAAS;AAC1E,cAAI,CAAC,GAAG,WAAW,GAAG,WAAW;AAAM,iBAAK,IAAI,MAAM,YAAY,KAAK;AAAA;AAIzE,kBAAU,IAAI,QAAQ,SAAS;AAC/B,aAAK,IAAI,eAAe;AACxB,YAAI;AACJ,YAAI;AAEJ,cAAM,SAAS,KAAK,IAAI,QAAQ;AAChC,YAAK,WAAU,QAAQ,SAAS,WAAW,CAAC,KAAK,IAAI,cAAc,IAAI,WAAW;AAChF,cAAI,CAAC,QAAQ;AACX,kBAAM,KAAK,YAAY,KAAK,YAAY,IAAI,QAAQ,KAAK,OAAO;AAChE,gBAAI,KAAK,IAAI;AAAQ;AAAA;AAGvB,mBAAS,KAAK,iBAAiB,KAAK,CAAC,SAAS,WAAU;AAEtD,gBAAI,UAAS,OAAM,YAAY;AAAG;AAElC,iBAAK,YAAY,SAAS,OAAO,IAAI,QAAQ,KAAK,OAAO;AAAA;AAAA;AAG7D,eAAO;AAAA;AAAA,YAaH,aAAa,OAAM,YAAY,SAAS,OAAO,QAAQ;AAC3D,cAAM,QAAQ,KAAK,IAAI;AACvB,YAAI,KAAK,IAAI,WAAW,UAAS,KAAK,IAAI,QAAQ;AAChD;AACA,iBAAO;AAAA;AAGT,cAAM,KAAK,KAAK,IAAI,iBAAiB,OAAM;AAC3C,YAAI,CAAC,GAAG,WAAW,SAAS;AAC1B,aAAG,UAAU,QAAQ;AACrB,aAAG,aAAa,QAAQ;AACxB,aAAG,aAAa,WAAS,QAAQ,WAAW;AAC5C,aAAG,YAAY,WAAS,QAAQ,UAAU;AAAA;AAI5C,YAAI;AACF,gBAAM,QAAQ,MAAM,YAAY,GAAG,YAAY,GAAG;AAClD,cAAI,KAAK,IAAI;AAAQ;AACrB,cAAI,KAAK,IAAI,WAAW,GAAG,WAAW,QAAQ;AAC5C;AACA,mBAAO;AAAA;AAGT,gBAAM,SAAS,KAAK,IAAI,QAAQ,kBAAkB,CAAC,MAAK,SAAS,SAAS,CAAC,MAAK,SAAS;AACzF,cAAI;AACJ,cAAI,MAAM,eAAe;AACvB,kBAAM,UAAU,QAAQ,QAAQ;AAChC,kBAAM,aAAa,SAAS,MAAM,WAAW,SAAQ;AACrD,gBAAI,KAAK,IAAI;AAAQ;AACrB,qBAAS,MAAM,KAAK,WAAW,GAAG,WAAW,OAAO,YAAY,OAAO,QAAQ,IAAI;AACnF,gBAAI,KAAK,IAAI;AAAQ;AAErB,gBAAI,YAAY,cAAc,eAAe,QAAW;AACtD,mBAAK,IAAI,cAAc,IAAI,SAAS;AAAA;AAAA,qBAE7B,MAAM,kBAAkB;AACjC,kBAAM,aAAa,SAAS,MAAM,WAAW,SAAQ;AACrD,gBAAI,KAAK,IAAI;AAAQ;AACrB,kBAAM,SAAS,QAAQ,QAAQ,GAAG;AAClC,iBAAK,IAAI,eAAe,QAAQ,IAAI,GAAG;AACvC,iBAAK,IAAI,MAAM,QAAQ,GAAG,WAAW;AACrC,qBAAS,MAAM,KAAK,WAAW,QAAQ,OAAO,YAAY,OAAO,OAAM,IAAI;AAC3E,gBAAI,KAAK,IAAI;AAAQ;AAGrB,gBAAI,eAAe,QAAW;AAC5B,mBAAK,IAAI,cAAc,IAAI,QAAQ,QAAQ,QAAO;AAAA;AAAA,iBAE/C;AACL,qBAAS,KAAK,YAAY,GAAG,WAAW,OAAO;AAAA;AAEjD;AAEA,eAAK,IAAI,eAAe,OAAM;AAC9B,iBAAO;AAAA,iBAEA,OAAP;AACA,cAAI,KAAK,IAAI,aAAa,QAAQ;AAChC;AACA,mBAAO;AAAA;AAAA;AAAA;AAAA;AAOb,YAAO,UAAU;AAAA;AAAA;;;ACroBjB;AAAA;AAAA;AAEA,QAAM,MAAK,QAAQ;AACnB,QAAM,UAAU,QAAQ;AACxB,QAAM,EAAE,0BAAc,QAAQ;AAE9B,QAAI;AACJ,QAAI;AACF,iBAAW,QAAQ;AAAA,aACZ,OAAP;AACA,UAAI,QAAQ,IAAI;AAAuC,gBAAQ,MAAM;AAAA;AAGvE,QAAI,UAAU;AAEZ,YAAM,OAAO,QAAQ,QAAQ,MAAM;AACnC,UAAI,QAAQ,KAAK,MAAM,KAAK,IAAI;AAC9B,cAAM,MAAM,OAAO,SAAS,KAAK,IAAI;AACrC,cAAM,MAAM,OAAO,SAAS,KAAK,IAAI;AACrC,YAAI,QAAQ,KAAK,MAAM,IAAI;AACzB,qBAAW;AAAA;AAAA;AAAA;AAKjB,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,QAAM,QAAQ,CAAC,UAAU,MAAM,SAAS,KAAK,EAAC,OAAO;AAErD,QAAM,OAAO,WAAU,IAAG;AAC1B,QAAM,QAAQ,WAAU,IAAG;AAC3B,QAAM,WAAW,WAAU,IAAG;AAE9B,QAAM,cAAc,EAAE,MAAM;AAkB5B,QAAM,mBAAmB,oBAAI;AAI7B,QAAM,wBAAwB;AAE9B,QAAM,kBAAkB,oBAAI,IAAI;AAAA,MAC9B;AAAA,MAAO;AAAA,MAAO;AAAA,MAAO;AAAA,MAAO;AAAA,MAAO;AAAA,MAAQ;AAAA,MAAQ;AAAA;AASrD,QAAM,yBAAyB,CAAC,OAAM,aAAa;AACjD,YAAM,OAAO,SAAS,MAAM,OAAM;AAClC,aAAO,EAAC;AAAA;AAYV,iCAA6B,OAAM,UAAU,UAAU,YAAY;AACjE,UAAI,YAAY,QAAQ,QAAQ,YAAY,QAAQ,QAAQ,YAAY;AAExE,YAAM,aAAa,QAAQ,QAAQ;AACnC,UAAI,OAAO,iBAAiB,IAAI;AAMhC,UAAI,iBAAiB,aAAa;AAChC,oBAAY;AAAA;AAGd,YAAM,eAAe,QAAQ,QAAQ;AACrC,YAAM,aAAa,iBAAiB;AAEpC,YAAM,mBAAmB,CAAC,UAAU,OAAO,SAAS;AAClD,YAAI;AAAY,qBAAW,SAAS,QAAQ,UAAU;AACtD,YACE,aAAa,gBACb,CAAC,SAAS,QAAQ,eAAe,QAAQ;AACzC,mBAAS,UAAU,OAAO;AAAA;AAK9B,UAAI,gBAAgB;AACpB,iBAAW,eAAe,iBAAiB,QAAQ;AACjD,YAAI,SAAS,QAAQ,QAAQ,QAAQ,eAAe,QAAQ,SAAS,GAAG;AACtE,sBAAY;AACZ,iBAAO,iBAAiB,IAAI;AAC5B,0BAAgB;AAChB;AAAA;AAAA;AAIJ,UAAI,QAAQ,eAAe;AACzB,aAAK,UAAU,IAAI;AAAA,aACd;AACL,eAAO;AAAA,UACL,WAAW,oBAAI,IAAI,CAAC;AAAA,UACpB;AAAA,UACA,SAAS,uBAAuB,WAAW,CAAC,UAAU,UAAU;AAC9D,gBAAI,CAAC,KAAK,UAAU;AAAM;AAC1B,kBAAM,OAAO,SAAS,QAAQ,UAAU;AACxC,iBAAK,UAAU,QAAQ,UAAQ;AAC7B,mBAAK,UAAU,OAAO;AAAA;AAGxB,iBAAK,WAAW,KAAK,OAAO,UAAU;AAAA;AAAA;AAG1C,yBAAiB,IAAI,WAAW;AAAA;AAKlC,aAAO,MAAM;AACX,cAAM,MAAM,KAAK;AAEjB,YAAI,OAAO;AACX,YAAI,CAAC,IAAI,MAAM;AACb,2BAAiB,OAAO;AACxB,cAAI,KAAK;AAAS,mBAAO,KAAK,QAAQ,OAAO,KAAK,MAAM;AACtD,mBAAK,aAAa,KAAK,UAAU;AACjC,qBAAO,OAAO;AAAA;AAAA;AAAA;AAAA;AAQtB,QAAM,mBAAmB,CAAC,UAAS;AACjC,UAAI,QAAQ;AACZ,iBAAW,aAAa,iBAAiB,QAAQ;AAC/C,YAAI,UAAU,QAAQ,WAAU,GAAG;AACjC;AACA,cAAI,SAAS,uBAAuB;AAClC,mBAAO;AAAA;AAAA;AAAA;AAKb,aAAO;AAAA;AAIT,QAAM,SAAS,MAAM,YAAY,iBAAiB,OAAO;AAGzD,QAAM,YAAY,CAAC,OAAM,SAAS;AAChC,UAAI,IAAI;AACR,aAAO,CAAC,MAAK,QAAQ,SAAU,SAAO,QAAQ,QAAQ,YAAW;AAAM;AACvE,aAAO;AAAA;AAKT,QAAM,YAAY,CAAC,MAAM,UACvB,KAAK,SAAS,0BAA0B,MAAM,iBAC9C,KAAK,SAAS,wBAAwB,MAAM,oBAC5C,KAAK,SAAS,qBAAqB,MAAM;AAM3C,gCAAsB;AAAA,MAKtB,YAAY,KAAK;AACf,aAAK,MAAM;AAAA;AAAA,MAEb,aAAa,OAAM,OAAO;AACxB,cAAM,SAAS,KAAK,IAAI;AACxB,YAAI,KAAK,IAAI,WAAW,OAAM,QAAQ;AACpC,iBAAO,IAAI;AACX,cAAI,SAAS,MAAM,eAAe;AAChC,mBAAO,IAAI,QAAO;AAAA;AAEpB,iBAAO;AAAA;AAGT,eAAO,OAAO;AACd,eAAO,OAAO,QAAO;AAAA;AAAA,MAGvB,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM,MAAM;AAC1E,cAAM,QAAQ,WAAW,IAAI,QAAQ,YAAY;AACjD,aAAK,YAAY,OAAO,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA,YAG9E,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM,MAAM;AAChF,YAAI;AACF,gBAAM,QAAQ,MAAM,KAAK;AACzB,cAAI,KAAK,IAAI;AAAQ;AACrB,cAAI,UAAU,MAAM,QAAQ;AAC1B,iBAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA,iBACtE;AACL,iBAAK,YAAY,WAAW,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA,iBAEjF,OAAP;AACA,cAAI,MAAM,SAAS,UAAU;AAC3B,iBAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA,iBACtE;AACL,iBAAK,YAAY,WAAW,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA,MAK5F,YAAY,OAAO,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM,MAAM;AACjF,YAAI,KAAK,IAAI,UAAU,KAAK,aAAa;AAAO;AAEhD,YAAI,UAAU,WAAW;AACvB,gBAAM,cAAc,KAAK,SAAS;AAElC,cAAI,eAAe,WAAW,IAAI,OAAO;AACvC,iBAAK,IAAI,QAAQ,QAAQ,MAAM;AAAA;AAAA,eAE5B;AACL,cAAI,UAAU,QAAQ;AAEpB,gBAAI,KAAK,SAAS;AAAwB,mBAAK,IAAI,eAAe;AAElE,gBAAI,KAAK,SAAS,wBAAwB,KAAK,gBAAgB;AAE7D,oBAAM,WAAW,KAAK,UAAU,SAC9B,SAAY,UAAU,UAAU,YAAY;AAC9C,qBAAO,KAAK,eAAe,OAAM,OAAO,MAAM;AAAA;AAKhD,iBAAK,IAAI,eAAe,QAAQ,IAAI;AAAA;AAKtC,gBAAM,YAAY,KAAK,SAAS,yBAAyB,QAAQ,aAAa;AAC9E,eAAK,IAAI,MAAM,WAAW;AAC1B,cAAI,cAAc;AAAY,iBAAK,eAAe,OAAM,OAAO;AAAA;AAAA;AAAA,MAYnE,mBAAmB,WAAW,UAAU,WAAW,YAAY;AAC7D,YAAI,KAAK,IAAI,UAAU,KAAK,IAAI,WAAW;AAAY;AACvD,cAAM,OAAO,KAAK,IAAI;AACtB,cAAM,gBAAgB,OAAO,UAAU,OAAO,SAAS;AACrD,cAAI,KAAK,IAAI;AAAQ;AACrB,cACE,KAAK,UAAU,UACf,UAAU,UAAU,YAAY,KAAK;AACrC;AACF,gBAAM,QAAO,UAAU,QAAQ,KAC7B,WAAW,QAAQ,SAAS,WAAW;AAEzC,cAAI,cAAc,CAAC,WAAW;AAAO;AAErC,gBAAM,SAAS,QAAQ,QAAQ;AAC/B,gBAAM,OAAO,QAAQ,SAAS;AAC9B,gBAAM,aAAa,KAAK,IAAI,eAC1B,KAAK,SAAS,yBAAyB,QAAO;AAIhD,cAAI,gBAAgB,IAAI,UAAU,KAAK,UAAU,iBAAiB;AAChE,gBAAI,OAAO,KAAK,YAAY,eAAe;AACzC,kBAAI;AACJ,kBAAI;AACF,wBAAQ,MAAM,KAAK;AAAA,uBACZ,OAAP;AAAA;AACF,kBAAI,KAAK,IAAI;AAAQ;AACrB,kBAAI,KAAK,aAAa,OAAM;AAAQ;AACpC,kBAAI,UAAU,MAAM,QAAQ;AAC1B,qBAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA,qBACtE;AACL,qBAAK,YAAY,WAAW,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA,mBAEnF;AACL,mBAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA,iBAExE;AACL,oBAAQ,KAAK;AAAA,mBACR;AAAA,mBACA;AACH,uBAAO,KAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA,mBAC/E;AAAA,mBACA;AACH,uBAAO,KAAK,YAAY,OAAM,UAAU,UAAU,QAAQ,YAAY,MAAM,MAAM;AAAA;AAAA;AAAA;AAKxF,cAAM,SAAS,oBACb,WACA,UACA,eACA,KAAK,IAAI;AAGX,aAAK,IAAI;AACT,eAAO;AAAA;AAAA,YAWH,uBAAuB,UAAU,UAAU,WAAW,UAAU;AAEpE,YAAI,KAAK,IAAI,UAAU,KAAK,IAAI,cAAc,IAAI;AAAW;AAE7D,aAAK,IAAI,cAAc,IAAI,UAAU;AACrC,aAAK,IAAI;AAET,YAAI;AACF,gBAAM,aAAa,MAAM,SAAS;AAClC,cAAI,KAAK,IAAI;AAAQ;AACrB,cAAI,KAAK,IAAI,WAAW,aAAa;AACnC,mBAAO,KAAK,IAAI;AAAA;AAGlB,eAAK,IAAI;AAIT,eAAK,eAAe,cAAc,UAAU,CAAC,UAAS;AACpD,gBAAI,cAAc;AAClB,gBAAI,cAAc,eAAe,WAAW;AAC1C,4BAAc,MAAK,QAAQ,YAAY;AAAA,uBAC9B,UAAS,WAAW;AAC7B,4BAAc,QAAQ,KAAK,UAAU;AAAA;AAEvC,mBAAO,UAAU;AAAA,aAChB,OAAO;AAAA,iBACJ,OAAN;AACA,cAAI,KAAK,IAAI,aAAa,QAAQ;AAChC,mBAAO,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA,MAUtB,QAAQ,SAAS,OAAO,aAAa,MAAM,UAAU;AACnD,cAAM,KAAK,YAAY;AACvB,cAAM,QAAQ,MAAM;AACpB,cAAM,SAAS,KAAK,IAAI,eAAe,QAAQ,QAAQ;AACvD,cAAM,OAAO,QAAQ,SAAS;AAG9B,YAAI;AAAO,eAAK,IAAI,eAAe;AACnC,YAAI,OAAO,IAAI;AAAO;AACtB,eAAO,IAAI;AAEX,YAAI,CAAC,KAAK,iBAAiB,aAAa,MAAM;AAC5C,eAAK,IAAI,MAAM,QAAQ,aAAa,QAAQ,IAAI;AAAA;AAAA;AAAA,MAIpD,UAAU,UAAU,OAAM,IAAI,aAAa;AACzC,YAAI,KAAK,IAAI;AAAQ;AACrB,cAAM,SAAS,KAAK,mBAClB,GAAG,WACH,QAAQ,QAAQ,YAAY,GAAG,YAC/B,aACA,GAAG;AAEL,aAAK,IAAI,eAAe,OAAM;AAAA;AAAA,YAW1B,eAAe,OAAM,WAAW,UAAU,YAAY;AAC1D,YAAI,KAAK,IAAI,QAAQ;AACnB;AAAA;AAEF,cAAM,OAAO,KAAK,IAAI;AACtB,cAAM,cAAc,OAAO,cAAc,gBAAgB,YAAY;AAErE,cAAM,KAAK,KAAK,IAAI,iBAAiB;AAGrC,YAAI;AACF,gBAAM,QAAQ,MAAM,YAAY,GAAG,YAAY,GAAG;AAClD,cAAI,KAAK,IAAI;AAAQ;AACrB,cAAI,KAAK,IAAI,WAAW,GAAG,WAAW,QAAQ;AAC5C,kBAAM;AAAA;AAER,cAAI,MAAM,eAAe;AAEvB,gBAAI,CAAC,GAAG;AAAY,mBAAK,QAAQ,YAAY,QAAO,OAAO,aAAa,MAAM;AAG9E,gBAAI,cAAc,aAAa,KAAK;AAAO;AAG3C,iBAAK,IAAI,UAAU,GAAG,WAAW;AAAA,cAC/B,YAAY,WAAS,GAAG,WAAW;AAAA,cACnC,iBAAiB,WAAS,GAAG,UAAU;AAAA,iBACpC,MAAM,KAAK,QAAS,eAAc;AAAA,eACpC,GAAG,UAAU,CAAC,UAAU;AAEzB,kBAAI,KAAK,IAAI,QAAQ;AACnB;AAAA;AAEF,kBAAI,MAAM,MAAM,iBAAiB,CAAC,GAAG,WAAW;AAAQ;AAExD,oBAAM,aAAa,QAAQ,KAAK,GAAG,WAAW,MAAM;AACpD,oBAAM,EAAC,aAAY;AAEnB,kBAAI,GAAG,kBAAkB,MAAM,MAAM,kBAAkB;AAGrD,sBAAM,WAAW,KAAK,UAAU,SAC9B,SAAY,UAAU,YAAY,QAAQ,QAAQ,GAAG,cAAc;AAErE,qBAAK,uBAAuB,YAAY,UAAU,aAAa;AAAA,qBAC1D;AACL,qBAAK,QAAQ,YAAY,MAAM,OAAO,aAAa,MAAM;AAAA;AAAA,eAE1D,GAAG,UAAU,UAAU,GAAG,SAAS,MAAM;AAC1C,mBAAK,IAAI;AAAA;AAAA,iBAEN;AACL,iBAAK,QAAQ,GAAG,WAAW,OAAO,aAAa,MAAM;AACrD,iBAAK,IAAI;AAAA;AAAA,iBAEJ,OAAP;AACA,cAAI,CAAC,SAAS,KAAK,IAAI,aAAa,QAAQ;AAE1C,iBAAK,IAAI;AACT,iBAAK,IAAI;AAAA;AAAA;AAIb,YAAI,KAAK,cAAc,aAAa,MAAM;AACxC,cAAI,OAAO,cAAc,eAAe;AAEtC,iBAAK,UAAU,QAAW,OAAM,IAAI;AAAA,iBAC/B;AACL,gBAAI;AACJ,gBAAI;AACF,yBAAW,MAAM,SAAS,GAAG;AAAA,qBACtB,GAAP;AAAA;AACF,iBAAK,UAAU,UAAU,OAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAOzC,YAAO,UAAU;AACjB,YAAO,QAAQ,SAAS;AAAA;AAAA;;;AC3gBxB;AAAA;AAAA;AAEA,QAAM,EAAE,iBAAiB,QAAQ;AACjC,QAAM,MAAK,QAAQ;AACnB,QAAM,UAAU,QAAQ;AACxB,QAAM,EAAE,0BAAc,QAAQ;AAC9B,QAAM,WAAW;AACjB,QAAM,WAAW,mBAAoB;AACrC,QAAM,aAAa;AACnB,QAAM,SAAS;AACf,QAAM,SAAS;AACf,QAAM,gBAAgB;AAEtB,QAAM,gBAAgB;AACtB,QAAM,kBAAkB;AACxB,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,QAAM,OAAO,WAAU,IAAG;AAC1B,QAAM,WAAU,WAAU,IAAG;AAsB7B,QAAM,SAAS,CAAC,QAAQ,OAAO,MAAM,QAAQ,SAAS,QAAQ,CAAC;AAC/D,QAAM,UAAU,CAAC,MAAM,SAAS,OAAO;AACrC,WAAK,QAAQ,UAAQ;AACnB,YAAI,MAAM,QAAQ,OAAO;AACvB,kBAAQ,MAAM;AAAA,eACT;AACL,iBAAO,KAAK;AAAA;AAAA;AAGhB,aAAO;AAAA;AAGT,QAAM,aAAa,CAAC,WAAW;AAI7B,YAAM,QAAQ,QAAQ,OAAO;AAC7B,UAAI,CAAC,MAAM,MAAM,OAAK,OAAO,MAAM,cAAc;AAC/C,cAAM,IAAI,UAAU,sCAAsC;AAAA;AAE5D,aAAO,MAAM,IAAI;AAAA;AAKnB,QAAM,SAAS,CAAC,WAAW;AACzB,UAAI,MAAM,OAAO,QAAQ,eAAe;AACxC,UAAI,UAAU;AACd,UAAI,IAAI,WAAW,cAAc;AAC/B,kBAAU;AAAA;AAEZ,aAAO,IAAI,MAAM,kBAAkB;AACjC,cAAM,IAAI,QAAQ,iBAAiB;AAAA;AAErC,UAAI,SAAS;AACX,cAAM,QAAQ;AAAA;AAEhB,aAAO;AAAA;AAKT,QAAM,sBAAsB,CAAC,UAAS,OAAO,QAAQ,UAAU,OAAO;AAEtE,QAAM,mBAAmB,CAAC,MAAM,cAAc,CAAC,UAAS;AACtD,UAAI,OAAO,UAAS;AAAa,eAAO;AACxC,aAAO,oBAAoB,QAAQ,WAAW,SAAQ,QAAO,QAAQ,KAAK,KAAK;AAAA;AAGjF,QAAM,kBAAkB,CAAC,OAAM,QAAQ;AACrC,UAAI,QAAQ,WAAW,QAAO;AAC5B,eAAO;AAAA;AAET,UAAI,MAAK,WAAW,OAAO;AACzB,eAAO,OAAO,QAAQ,KAAK,KAAK,MAAK,MAAM;AAAA;AAE7C,aAAO,QAAQ,KAAK,KAAK;AAAA;AAG3B,QAAM,QAAQ,CAAC,MAAM,QAAQ,KAAK,SAAS;AAO3C,yBAAe;AAAA,MAKb,YAAY,KAAK,eAAe;AAC9B,aAAK,OAAO;AACZ,aAAK,iBAAiB;AAEtB,aAAK,QAAQ,oBAAI;AAAA;AAAA,MAGnB,IAAI,MAAM;AACR,cAAM,EAAC,UAAS;AAChB,YAAI,CAAC;AAAO;AACZ,YAAI,SAAS,WAAW,SAAS;AAAU,gBAAM,IAAI;AAAA;AAAA,YAGjD,OAAO,MAAM;AACjB,cAAM,EAAC,UAAS;AAChB,YAAI,CAAC;AAAO;AACZ,cAAM,OAAO;AACb,YAAI,MAAM,OAAO;AAAG;AAEpB,cAAM,MAAM,KAAK;AACjB,YAAI;AACF,gBAAM,SAAQ;AAAA,iBACP,KAAP;AACA,cAAI,KAAK,gBAAgB;AACvB,iBAAK,eAAe,QAAQ,QAAQ,MAAM,QAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,MAKjE,IAAI,MAAM;AACR,cAAM,EAAC,UAAS;AAChB,YAAI,CAAC;AAAO;AACZ,eAAO,MAAM,IAAI;AAAA;AAAA,MAMnB,cAAc;AACZ,cAAM,EAAC,UAAS;AAChB,YAAI,CAAC;AAAO;AACZ,eAAO,CAAC,GAAG,MAAM;AAAA;AAAA,MAGnB,UAAU;AACR,aAAK,MAAM;AACX,eAAO,KAAK;AACZ,eAAO,KAAK;AACZ,eAAO,KAAK;AACZ,eAAO,OAAO;AAAA;AAAA;AAIlB,QAAM,gBAAgB;AACtB,QAAM,gBAAgB;AACtB,4BAAkB;AAAA,MAChB,YAAY,OAAM,WAAW,QAAQ,KAAK;AACxC,aAAK,MAAM;AACX,aAAK,OAAO,QAAO,MAAK,QAAQ,aAAa;AAC7C,aAAK,YAAY;AACjB,aAAK,gBAAgB,QAAQ,QAAQ;AACrC,aAAK,UAAU,cAAc;AAE7B,YAAI,UAAS;AAAW,eAAK,UAAU;AACvC,aAAK,cAAc,KAAK,WAAW,SAAS,SAAY;AACxD,aAAK,aAAa,KAAK,UAAU,SAAS,OAAM,QAAW,iBAAiB;AAC5E,aAAK,WAAW,KAAK,YAAY;AACjC,aAAK,SAAS,QAAQ,CAAC,UAAU;AAC/B,cAAI,MAAM,SAAS;AAAG,kBAAM;AAAA;AAE9B,aAAK,iBAAiB;AACtB,aAAK,aAAa,SAAS,gBAAgB;AAAA;AAAA,MAG7C,iBAAiB,OAAO;AAGtB,YAAI,KAAK,gBAAgB,QAAW;AAClC,eAAK,cAAc,MAAM,kBAAkB,KAAK,gBAC9C,QAAQ,EAAC,UAAU,MAAM,eAAe,UAAU,KAAK;AAAA;AAG3D,YAAI,KAAK,aAAa;AACpB,iBAAO,MAAM,SAAS,QAAQ,KAAK,YAAY,UAAU,KAAK,YAAY;AAAA;AAG5E,eAAO,MAAM;AAAA;AAAA,MAGf,UAAU,OAAO;AACf,eAAO,QAAQ,KAAK,KAAK,WACvB,QAAQ,SAAS,KAAK,WAAW,KAAK,iBAAiB;AAAA;AAAA,MAI3D,WAAW,OAAO;AAChB,cAAM,EAAC,UAAS;AAChB,YAAI,SAAS,MAAM;AAAkB,iBAAO,KAAK,UAAU;AAC3D,cAAM,eAAe,KAAK,UAAU;AACpC,cAAM,cAAc,KAAK,WAAW,OAAO,KAAK,eAAe,gBAC7D,KAAK,WAAW,gBAAgB;AAClC,eAAO,eACL,KAAK,IAAI,aAAa,cAAc,UACpC,KAAK,IAAI,oBAAoB;AAAA;AAAA,MAGjC,YAAY,OAAM;AAChB,YAAI,CAAC,KAAK;AAAS,iBAAO;AAC1B,cAAM,QAAQ;AACd,cAAM,eAAe,MAAK,SAAS,eAAe,OAAO,OAAO,SAAQ,CAAC;AACzE,qBAAa,QAAQ,CAAC,UAAS;AAC7B,gBAAM,KAAK,QAAQ,SAAS,KAAK,WAAW,OAAM,MAAM;AAAA;AAE1D,eAAO;AAAA;AAAA,MAGT,UAAU,OAAO;AACf,YAAI,KAAK,SAAS;AAChB,gBAAM,aAAa,KAAK,YAAY,KAAK,iBAAiB;AAC1D,cAAI,WAAW;AACf,eAAK,gBAAgB,CAAC,KAAK,SAAS,KAAK,CAAC,UAAU;AAClD,mBAAO,MAAM,MAAM,CAAC,MAAM,MAAM;AAC9B,kBAAI,SAAS;AAAU,2BAAW;AAClC,qBAAO,YAAY,CAAC,WAAW,GAAG,MAAM,SAAS,MAAM,WAAW,GAAG,IAAI;AAAA;AAAA;AAAA;AAI/E,eAAO,CAAC,KAAK,iBAAiB,KAAK,IAAI,aAAa,KAAK,UAAU,QAAQ,MAAM;AAAA;AAAA;AAYrF,kCAAwB,aAAa;AAAA,MAErC,YAAY,OAAO;AACjB;AAEA,cAAM,OAAO;AACb,YAAI;AAAO,iBAAO,OAAO,MAAM;AAG/B,aAAK,WAAW,oBAAI;AAEpB,aAAK,WAAW,oBAAI;AAEpB,aAAK,gBAAgB,oBAAI;AAGzB,aAAK,aAAa,oBAAI;AAGtB,aAAK,gBAAgB,oBAAI;AAEzB,aAAK,WAAW,oBAAI;AACpB,aAAK,SAAS;AAGd,YAAI,MAAM,MAAM;AAAe,eAAK,aAAa;AACjD,YAAI,MAAM,MAAM;AAAkB,eAAK,gBAAgB;AACvD,YAAI,MAAM,MAAM;AAA2B,eAAK,yBAAyB;AACzE,YAAI,MAAM,MAAM;AAAa,eAAK,WAAW;AAC7C,YAAI,MAAM,MAAM;AAAmB,eAAK,iBAAiB;AACzD,YAAI,MAAM,MAAM;AAAoB,eAAK,kBAAkB;AAC3D,aAAK,uBAAuB,KAAK,mBAAmB,KAAK;AAGzD,YAAI,MAAM,MAAM;AAAgB,eAAK,cAAc,CAAC,KAAK;AAGzD,cAAM,iBAAiB,gBAAgB;AACvC,YAAI,CAAC;AAAgB,eAAK,cAAc;AAIxC,YAAI,MAAM,MAAM,iBAAiB,CAAC,KAAK,aAAa;AAClD,eAAK,aAAa;AAAA;AAIpB,YAAG,QAAQ;AACT,eAAK,aAAa;AAAA;AAKpB,cAAM,UAAU,QAAQ,IAAI;AAC5B,YAAI,YAAY,QAAW;AACzB,gBAAM,WAAW,QAAQ;AAEzB,cAAI,aAAa,WAAW,aAAa,KAAK;AAC5C,iBAAK,aAAa;AAAA,qBACT,aAAa,UAAU,aAAa,KAAK;AAClD,iBAAK,aAAa;AAAA,iBACb;AACL,iBAAK,aAAa,CAAC,CAAC;AAAA;AAAA;AAGxB,cAAM,cAAc,QAAQ,IAAI;AAChC,YAAI,aAAa;AACf,eAAK,WAAW,OAAO,SAAS,aAAa;AAAA;AAI/C,YAAI,MAAM,MAAM;AAAW,eAAK,SAAS,CAAC,KAAK,cAAc,CAAC,KAAK;AACnE,YAAI,KAAK;AAAQ,eAAK,kBAAkB,oBAAI;AAE5C,YAAI,MAAM,MAAM;AAAmB,eAAK,iBAAiB;AAEzD,YAAI,MAAM,MAAM;AAAqB,eAAK,mBAAmB;AAC7D,YAAI,KAAK,qBAAqB;AAAM,eAAK,mBAAmB;AAC5D,cAAM,MAAM,KAAK;AACjB,YAAI,KAAK;AACP,cAAI,CAAC,IAAI;AAAoB,gBAAI,qBAAqB;AACtD,cAAI,CAAC,IAAI;AAAc,gBAAI,eAAe;AAC1C,eAAK,iBAAiB,oBAAI;AAAA;AAE5B,YAAI,KAAK;AAAS,eAAK,UAAU,OAAO,KAAK;AAE7C,YAAI,aAAa;AACjB,aAAK,aAAa,MAAM;AACtB;AACA,cAAI,cAAc,KAAK,aAAa;AAClC,iBAAK,aAAa;AAClB,iBAAK,gBAAgB;AAErB,oBAAQ,SAAS,MAAM,KAAK,KAAK;AAAA;AAAA;AAGrC,aAAK,WAAW,IAAI,SAAS,KAAK,KAAK,QAAQ,GAAG;AAClD,aAAK,gBAAgB;AACrB,aAAK,UAAU;AAGf,YAAI,KAAK,aAAa;AACpB,eAAK,mBAAmB,IAAI,gBAAgB;AAAA,eACvC;AACL,eAAK,iBAAiB,IAAI,cAAc;AAAA;AAI1C,eAAO,OAAO;AAAA;AAAA,MAYhB,IAAI,QAAQ,UAAU,WAAW;AAC/B,cAAM,EAAC,KAAK,oBAAmB,KAAK;AACpC,aAAK,SAAS;AACd,YAAI,QAAQ,WAAW;AACvB,YAAI,KAAK;AACP,kBAAQ,MAAM,IAAI,CAAC,UAAS;AAC1B,kBAAM,UAAU,gBAAgB,OAAM;AAGtC,gBAAI,mBAAmB,CAAC,OAAO,QAAO;AACpC,qBAAO;AAAA;AAET,mBAAO,cAAc;AAAA;AAAA;AAKzB,gBAAQ,MAAM,OAAO,CAAC,UAAS;AAC7B,cAAI,MAAK,WAAW,OAAO;AACzB,iBAAK,cAAc,IAAI,MAAK,MAAM;AAClC,mBAAO;AAAA;AAIT,eAAK,cAAc,OAAO;AAC1B,eAAK,cAAc,OAAO,QAAO;AAIjC,eAAK,eAAe;AAEpB,iBAAO;AAAA;AAGT,YAAI,KAAK,QAAQ,eAAe,KAAK,kBAAkB;AACrD,cAAI,CAAC,KAAK;AAAa,iBAAK,cAAc,MAAM;AAChD,cAAI,KAAK,QAAQ;AAAY,iBAAK,eAAe;AACjD,gBAAM,QAAQ,CAAC,UAAS,KAAK,iBAAiB,eAAe;AAAA,eACxD;AACL,cAAI,CAAC,KAAK;AAAa,iBAAK,cAAc;AAC1C,eAAK,eAAe,MAAM;AAC1B,kBAAQ,IACN,MAAM,IAAI,OAAM,UAAQ;AACtB,kBAAM,MAAM,MAAM,KAAK,eAAe,aAAa,OAAM,CAAC,WAAW,GAAG,GAAG;AAC3E,gBAAI;AAAK,mBAAK;AACd,mBAAO;AAAA,cAET,KAAK,aAAW;AAChB,gBAAI,KAAK;AAAQ;AACjB,oBAAQ,OAAO,UAAQ,MAAM,QAAQ,UAAQ;AAC3C,mBAAK,IAAI,QAAQ,QAAQ,OAAO,QAAQ,SAAS,YAAY;AAAA;AAAA;AAAA;AAKnE,eAAO;AAAA;AAAA,MAQT,QAAQ,QAAQ;AACd,YAAI,KAAK;AAAQ,iBAAO;AACxB,cAAM,QAAQ,WAAW;AACzB,cAAM,EAAC,QAAO,KAAK;AAEnB,cAAM,QAAQ,CAAC,UAAS;AAEtB,cAAI,CAAC,QAAQ,WAAW,UAAS,CAAC,KAAK,SAAS,IAAI,QAAO;AACzD,gBAAI;AAAK,sBAAO,QAAQ,KAAK,KAAK;AAClC,oBAAO,QAAQ,QAAQ;AAAA;AAGzB,eAAK,WAAW;AAEhB,eAAK,cAAc,IAAI;AACvB,cAAI,KAAK,SAAS,IAAI,QAAO;AAC3B,iBAAK,cAAc,IAAI,QAAO;AAAA;AAKhC,eAAK,eAAe;AAAA;AAGtB,eAAO;AAAA;AAAA,MAOT,QAAQ;AACN,YAAI,KAAK;AAAQ,iBAAO,KAAK;AAC7B,aAAK,SAAS;AAGd,aAAK;AACL,cAAM,UAAU;AAChB,aAAK,SAAS,QAAQ,gBAAc,WAAW,QAAQ,YAAU;AAC/D,gBAAM,UAAU;AAChB,cAAI,mBAAmB;AAAS,oBAAQ,KAAK;AAAA;AAE/C,aAAK,SAAS,QAAQ,YAAU,OAAO;AACvC,aAAK,eAAe;AACpB,aAAK,cAAc;AACnB,aAAK,gBAAgB;AACrB,aAAK,SAAS,QAAQ,YAAU,OAAO;AACvC,SAAC,WAAW,WAAW,WAAW,gBAAgB,aAAa,QAAQ,SAAO;AAC5E,eAAK,IAAI,OAAO;AAAA;AAGlB,aAAK,gBAAgB,QAAQ,SAAS,QAAQ,IAAI,SAAS,KAAK,MAAM,UAAa,QAAQ;AAC3F,eAAO,KAAK;AAAA;AAAA,MAOd,aAAa;AACX,cAAM,YAAY;AAClB,aAAK,SAAS,QAAQ,CAAC,OAAO,QAAQ;AACpC,gBAAM,MAAM,KAAK,QAAQ,MAAM,QAAQ,SAAS,KAAK,QAAQ,KAAK,OAAO;AACzE,oBAAU,OAAO,WAAW,MAAM,cAAc;AAAA;AAElD,eAAO;AAAA;AAAA,MAGT,YAAY,OAAO,MAAM;AACvB,aAAK,KAAK,GAAG;AACb,YAAI,UAAU;AAAU,eAAK,KAAK,QAAQ,GAAG;AAAA;AAAA,YAgBzC,MAAM,OAAO,OAAM,MAAM,MAAM,MAAM;AACzC,YAAI,KAAK;AAAQ;AAEjB,cAAM,OAAO,KAAK;AAClB,YAAI;AAAW,kBAAO,QAAQ,UAAU;AACxC,YAAI,KAAK;AAAK,kBAAO,QAAQ,SAAS,KAAK,KAAK;AAEhD,cAAM,OAAO,CAAC,OAAO;AACrB,YAAI,SAAS;AAAW,eAAK,KAAK,MAAM,MAAM;AAAA,iBACrC,SAAS;AAAW,eAAK,KAAK,MAAM;AAAA,iBACpC,SAAS;AAAW,eAAK,KAAK;AAEvC,cAAM,MAAM,KAAK;AACjB,YAAI;AACJ,YAAI,OAAQ,MAAK,KAAK,eAAe,IAAI,SAAQ;AAC/C,aAAG,aAAa,IAAI;AACpB,iBAAO;AAAA;AAGT,YAAI,KAAK,QAAQ;AACf,cAAI,UAAU,WAAW;AACvB,iBAAK,gBAAgB,IAAI,OAAM;AAC/B,uBAAW,MAAM;AACf,mBAAK,gBAAgB,QAAQ,CAAC,OAAO,UAAS;AAC5C,qBAAK,KAAK,GAAG;AACb,qBAAK,KAAK,QAAQ,GAAG;AACrB,qBAAK,gBAAgB,OAAO;AAAA;AAAA,eAE7B,OAAO,KAAK,WAAW,WAAW,KAAK,SAAS;AACnD,mBAAO;AAAA;AAET,cAAI,UAAU,UAAU,KAAK,gBAAgB,IAAI,QAAO;AACtD,oBAAQ,KAAK,KAAK;AAClB,iBAAK,gBAAgB,OAAO;AAAA;AAAA;AAIhC,YAAI,OAAQ,WAAU,UAAU,UAAU,cAAc,KAAK,eAAe;AAC1E,gBAAM,UAAU,CAAC,KAAK,UAAU;AAC9B,gBAAI,KAAK;AACP,sBAAQ,KAAK,KAAK;AAClB,mBAAK,KAAK;AACV,mBAAK,YAAY,OAAO;AAAA,uBACf,OAAO;AAEhB,kBAAI,KAAK,SAAS,GAAG;AACnB,qBAAK,KAAK;AAAA,qBACL;AACL,qBAAK,KAAK;AAAA;AAEZ,mBAAK,YAAY,OAAO;AAAA;AAAA;AAI5B,eAAK,kBAAkB,OAAM,IAAI,oBAAoB,OAAO;AAC5D,iBAAO;AAAA;AAGT,YAAI,UAAU,WAAW;AACvB,gBAAM,cAAc,CAAC,KAAK,UAAU,WAAW,OAAM;AACrD,cAAI;AAAa,mBAAO;AAAA;AAG1B,YAAI,KAAK,cAAc,SAAS,UAC7B,WAAU,UAAU,UAAU,cAAc,UAAU,YACvD;AACA,gBAAM,WAAW,KAAK,MAAM,QAAQ,KAAK,KAAK,KAAK,SAAQ;AAC3D,cAAI;AACJ,cAAI;AACF,oBAAQ,MAAM,KAAK;AAAA,mBACZ,KAAP;AAAA;AAEF,cAAI,CAAC,SAAS,KAAK;AAAQ;AAC3B,eAAK,KAAK;AAAA;AAEZ,aAAK,YAAY,OAAO;AAExB,eAAO;AAAA;AAAA,MAQT,aAAa,OAAO;AAClB,cAAM,OAAO,SAAS,MAAM;AAC5B,YAAI,SAAS,SAAS,YAAY,SAAS,aACxC,EAAC,KAAK,QAAQ,0BAA2B,SAAS,WAAW,SAAS,WACvE;AACA,eAAK,KAAK,UAAU;AAAA;AAEtB,eAAO,SAAS,KAAK;AAAA;AAAA,MAUvB,UAAU,YAAY,OAAM,SAAS;AACnC,YAAI,CAAC,KAAK,WAAW,IAAI,aAAa;AACpC,eAAK,WAAW,IAAI,YAAY,oBAAI;AAAA;AAItC,cAAM,SAAS,KAAK,WAAW,IAAI;AAEnC,cAAM,aAAa,OAAO,IAAI;AAE9B,YAAI,YAAY;AACd,qBAAW;AACX,iBAAO;AAAA;AAGT,YAAI;AACJ,cAAM,SAAQ,MAAM;AAClB,gBAAM,OAAO,OAAO,IAAI;AACxB,gBAAM,QAAQ,OAAO,KAAK,QAAQ;AAClC,iBAAO,OAAO;AACd,uBAAa;AACb,cAAI;AAAM,yBAAa,KAAK;AAC5B,iBAAO;AAAA;AAET,wBAAgB,WAAW,QAAO;AAClC,cAAM,MAAM,EAAC,eAAe,eAAO,OAAO;AAC1C,eAAO,IAAI,OAAM;AACjB,eAAO;AAAA;AAAA,MAGT,kBAAkB;AAChB,eAAO,KAAK;AAAA;AAAA,MAWd,kBAAkB,OAAM,WAAW,OAAO,SAAS;AACjD,YAAI;AAEJ,YAAI,WAAW;AACf,YAAI,KAAK,QAAQ,OAAO,CAAC,QAAQ,WAAW,QAAO;AACjD,qBAAW,QAAQ,KAAK,KAAK,QAAQ,KAAK;AAAA;AAG5C,cAAM,MAAM,IAAI;AAEhB,cAAM,mBAAmB,CAAC,aAAa;AACrC,cAAG,KAAK,UAAU,CAAC,KAAK,YAAY;AAClC,gBAAI,OAAO,CAAC,KAAK,eAAe,IAAI,QAAO;AACzC,kBAAI,OAAO,IAAI,SAAS;AAAU,wBAAQ;AAC1C;AAAA;AAGF,kBAAM,OAAM,OAAO,IAAI;AAEvB,gBAAI,YAAY,QAAQ,SAAS,SAAS,MAAM;AAC9C,mBAAK,eAAe,IAAI,OAAM,aAAa;AAAA;AAE7C,kBAAM,KAAK,KAAK,eAAe,IAAI;AACnC,kBAAM,KAAK,OAAM,GAAG;AAEpB,gBAAI,MAAM,WAAW;AACnB,mBAAK,eAAe,OAAO;AAC3B,sBAAQ,QAAW;AAAA,mBACd;AACL,+BAAiB,WACf,kBACA,KAAK,QAAQ,iBAAiB,cAC9B;AAAA;AAAA;AAAA;AAMR,YAAI,CAAC,KAAK,eAAe,IAAI,QAAO;AAClC,eAAK,eAAe,IAAI,OAAM;AAAA,YAC5B,YAAY;AAAA,YACZ,YAAY,MAAM;AAChB,mBAAK,eAAe,OAAO;AAC3B,2BAAa;AACb,qBAAO;AAAA;AAAA;AAGX,2BAAiB,WACf,kBACA,KAAK,QAAQ,iBAAiB;AAAA;AAAA;AAAA,MAKpC,kBAAkB;AAChB,eAAO,CAAC,GAAG,KAAK,cAAc;AAAA;AAAA,MAShC,WAAW,OAAM,OAAO;AACtB,YAAI,KAAK,QAAQ,UAAU,OAAO,KAAK;AAAO,iBAAO;AACrD,YAAI,CAAC,KAAK,cAAc;AACtB,gBAAM,EAAC,QAAO,KAAK;AACnB,gBAAM,MAAM,KAAK,QAAQ;AAEzB,gBAAM,UAAU,OAAO,IAAI,IAAI,iBAAiB;AAChD,gBAAM,QAAQ,OAAO,SAClB,OAAO,CAAC,UAAS,OAAO,UAAS,eAAe,CAAC,OAAO,QACxD,IAAI,CAAC,UAAS,QAAO;AACxB,gBAAM,OAAO,KAAK,kBAAkB,IAAI,iBAAiB,MAAM,OAAO,SAAS;AAC/E,eAAK,eAAe,SAAS,MAAM,QAAW;AAAA;AAGhD,eAAO,KAAK,aAAa,CAAC,OAAM;AAAA;AAAA,MAGlC,aAAa,OAAM,OAAM;AACvB,eAAO,CAAC,KAAK,WAAW,OAAM;AAAA;AAAA,MAShC,iBAAiB,OAAM,OAAO;AAC5B,cAAM,YAAY,SAAS,KAAK,QAAQ,mBAAmB,CAAC,OAAO,SAAQ,QAAO,WAAW;AAC7F,cAAM,SAAS,KAAK,QAAQ;AAE5B,eAAO,IAAI,YAAY,OAAM,WAAW,QAAQ;AAAA;AAAA,MAWlD,eAAe,WAAW;AACxB,YAAI,CAAC,KAAK;AAAc,eAAK,eAAe,KAAK,QAAQ,KAAK;AAC9D,cAAM,MAAM,QAAQ,QAAQ;AAC5B,YAAI,CAAC,KAAK,SAAS,IAAI;AAAM,eAAK,SAAS,IAAI,KAAK,IAAI,SAAS,KAAK,KAAK;AAC3E,eAAO,KAAK,SAAS,IAAI;AAAA;AAAA,MAY3B,oBAAoB,OAAO;AACzB,YAAI,KAAK,QAAQ;AAAwB,iBAAO;AAGhD,cAAM,KAAK,SAAS,OAAO,SAAS,MAAM,MAAM;AAChD,cAAM,KAAK,KAAK;AAChB,cAAM,KAAK,OAAO,SAAS,GAAG,SAAS,GAAG,IAAI;AAC9C,eAAO,QAAQ,IAAI;AAAA;AAAA,MAWrB,QAAQ,WAAW,MAAM,aAAa;AAIpC,cAAM,QAAO,QAAQ,KAAK,WAAW;AACrC,cAAM,WAAW,QAAQ,QAAQ;AACjC,sBAAc,eAAe,OACzB,cACA,KAAK,SAAS,IAAI,UAAS,KAAK,SAAS,IAAI;AAIjD,YAAI,CAAC,KAAK,UAAU,UAAU,OAAM;AAAM;AAG1C,YAAI,CAAC,eAAe,CAAC,KAAK,QAAQ,eAAe,KAAK,SAAS,SAAS,GAAG;AACzE,eAAK,IAAI,WAAW,MAAM;AAAA;AAK5B,cAAM,KAAK,KAAK,eAAe;AAC/B,cAAM,0BAA0B,GAAG;AAGnC,gCAAwB,QAAQ,YAAU,KAAK,QAAQ,OAAM;AAG7D,cAAM,SAAS,KAAK,eAAe;AACnC,cAAM,aAAa,OAAO,IAAI;AAC9B,eAAO,OAAO;AAOd,YAAI,KAAK,cAAc,IAAI,WAAW;AACpC,eAAK,cAAc,OAAO;AAAA;AAI5B,YAAI,UAAU;AACd,YAAI,KAAK,QAAQ;AAAK,oBAAU,QAAQ,SAAS,KAAK,QAAQ,KAAK;AACnE,YAAI,KAAK,QAAQ,oBAAoB,KAAK,eAAe,IAAI,UAAU;AACrE,gBAAM,QAAQ,KAAK,eAAe,IAAI,SAAS;AAC/C,cAAI,UAAU;AAAQ;AAAA;AAKxB,aAAK,SAAS,OAAO;AACrB,aAAK,SAAS,OAAO;AACrB,cAAM,YAAY,cAAc,gBAAgB;AAChD,YAAI,cAAc,CAAC,KAAK,WAAW;AAAO,eAAK,MAAM,WAAW;AAGhE,YAAI,CAAC,KAAK,QAAQ,aAAa;AAC7B,eAAK,WAAW;AAAA;AAAA;AAAA,MAQpB,WAAW,OAAM;AACf,aAAK,WAAW;AAChB,cAAM,MAAM,QAAQ,QAAQ;AAC5B,aAAK,eAAe,KAAK,OAAO,QAAQ,SAAS;AAAA;AAAA,MAOnD,WAAW,OAAM;AACf,cAAM,UAAU,KAAK,SAAS,IAAI;AAClC,YAAI,CAAC;AAAS;AACd,gBAAQ,QAAQ,YAAU;AAC1B,aAAK,SAAS,OAAO;AAAA;AAAA,MAQvB,eAAe,OAAM,QAAQ;AAC3B,YAAI,CAAC;AAAQ;AACb,YAAI,OAAO,KAAK,SAAS,IAAI;AAC7B,YAAI,CAAC,MAAM;AACT,iBAAO;AACP,eAAK,SAAS,IAAI,OAAM;AAAA;AAE1B,aAAK,KAAK;AAAA;AAAA,MAGZ,UAAU,MAAM,MAAM;AACpB,YAAI,KAAK;AAAQ;AACjB,cAAM,UAAU,EAAC,MAAM,QAAQ,YAAY,MAAM,OAAO,SAAS;AACjE,YAAI,SAAS,SAAS,MAAM;AAC5B,aAAK,SAAS,IAAI;AAClB,eAAO,KAAK,WAAW,MAAM;AAC3B,mBAAS;AAAA;AAEX,eAAO,KAAK,SAAS,MAAM;AACzB,cAAI,QAAQ;AACV,iBAAK,SAAS,OAAO;AACrB,qBAAS;AAAA;AAAA;AAGb,eAAO;AAAA;AAAA;AAMT,YAAQ,YAAY;AAQpB,QAAM,SAAQ,CAAC,OAAO,YAAY;AAChC,YAAM,UAAU,IAAI,UAAU;AAC9B,cAAQ,IAAI;AACZ,aAAO;AAAA;AAGT,YAAQ,QAAQ;AAAA;AAAA;;;AC58BhB;AAAA;AAAA;AAEA,QAAI,cAAc;AAClB,YAAO,UAAU;AAEjB,kBAAc,GAAG;AACb,aAAO,IAAI,IAAI,KAAK;AAAA;AAGxB,uBAAmB,GAAG;AAElB,UAAK,IAAI,MAAO,OAAQ,KAAI,OAAO,GAAG;AAClC,eAAO,KAAK,MAAM;AAAA,aACf;AACH,eAAO,KAAK,MAAM;AAAA;AAAA;AAI1B,oCAAgC,WAAW,UAAU;AACjD,UAAI,CAAC,SAAS,UAAU;AACpB,UAAE;AAAA;AAEN,YAAM,aAAa,SAAS,WAAW,IAAI,CAAC,KAAK,IAAI,GAAG;AACxD,YAAM,aAAa,KAAK,IAAI,GAAG,aAAa;AAE5C,YAAM,YAAY,SAAS,kBAAkB,KAAK,IAAI,GAAG,SAAS,mBAAmB,KAAK,IAAI,GAAG;AACjG,YAAM,cAAc,SAAS,kBAAkB,KAAK,IAAI,GAAG,SAAS,kBAAkB,KAAK,KAAK,IAAI,GAAG,YAAY;AAEnH,aAAO,SAAS,GAAG,MAAM;AACrB,YAAI,CAAC;AAAM,iBAAO;AAElB,YAAI,IAAI,CAAC;AAET,YAAI,KAAK,cAAc;AACnB,cAAI,CAAC,OAAO,SAAS,IAAI;AACrB,kBAAM,IAAI,UAAU;AAAA;AAGxB,cAAI,KAAK,KAAK,KAAK,MAAM,KAAK,IAAI;AAClC,cAAI,IAAI,cAAc,IAAI,YAAY;AAClC,kBAAM,IAAI,UAAU;AAAA;AAGxB,iBAAO;AAAA;AAGX,YAAI,CAAC,MAAM,MAAM,KAAK,OAAO;AACzB,cAAI,UAAU;AAEd,cAAI,IAAI;AAAY,gBAAI;AACxB,cAAI,IAAI;AAAY,gBAAI;AACxB,iBAAO;AAAA;AAGX,YAAI,CAAC,OAAO,SAAS,MAAM,MAAM,GAAG;AAChC,iBAAO;AAAA;AAGX,YAAI,KAAK,KAAK,KAAK,MAAM,KAAK,IAAI;AAClC,YAAI,IAAI;AAER,YAAI,CAAC,SAAS,YAAY,KAAK,aAAa;AACxC,iBAAO,IAAI;AAAA,mBACJ,SAAS,UAAU;AAC1B,cAAI,IAAI,GAAG;AACT,iBAAK;AAAA,qBACI,MAAM,IAAI;AACnB,mBAAO;AAAA;AAAA;AAIb,eAAO;AAAA;AAAA;AAIf,gBAAY,UAAU,WAAY;AAC9B,aAAO;AAAA;AAGX,gBAAY,aAAa,SAAU,KAAK;AACpC,aAAO,CAAC,CAAC;AAAA;AAGb,gBAAY,UAAU,uBAAuB,GAAG,EAAE,UAAU;AAC5D,gBAAY,WAAW,uBAAuB,GAAG,EAAE,UAAU;AAE7D,gBAAY,WAAW,uBAAuB,IAAI,EAAE,UAAU;AAC9D,gBAAY,oBAAoB,uBAAuB,IAAI,EAAE,UAAU;AAEvE,gBAAY,UAAU,uBAAuB,IAAI,EAAE,UAAU;AAC7D,gBAAY,mBAAmB,uBAAuB,IAAI,EAAE,UAAU;AAEtE,gBAAY,eAAe,uBAAuB,IAAI,EAAE,UAAU,OAAO,iBAAiB;AAC1F,gBAAY,wBAAwB,uBAAuB,IAAI,EAAE,UAAU,MAAM,iBAAiB;AAElG,gBAAY,YAAY,SAAU,GAAG;AACjC,YAAM,IAAI,CAAC;AAEX,UAAI,CAAC,OAAO,SAAS,IAAI;AACrB,cAAM,IAAI,UAAU;AAAA;AAGxB,aAAO;AAAA;AAGX,gBAAY,yBAAyB,SAAU,GAAG;AAC9C,YAAM,IAAI,CAAC;AAEX,UAAI,MAAM,IAAI;AACV,cAAM,IAAI,UAAU;AAAA;AAGxB,aAAO;AAAA;AAIX,gBAAY,WAAW,YAAY;AACnC,gBAAY,wBAAwB,YAAY;AAEhD,gBAAY,eAAe,SAAU,GAAG,MAAM;AAC1C,UAAI,CAAC;AAAM,eAAO;AAElB,UAAI,KAAK,0BAA0B,MAAM,MAAM;AAC3C,eAAO;AAAA;AAGX,aAAO,OAAO;AAAA;AAGlB,gBAAY,gBAAgB,SAAU,GAAG,MAAM;AAC3C,YAAM,IAAI,OAAO;AACjB,UAAI,IAAI;AACR,eAAS,IAAI,GAAI,KAAI,EAAE,YAAY,QAAQ,QAAW,EAAE,GAAG;AACvD,YAAI,IAAI,KAAK;AACT,gBAAM,IAAI,UAAU;AAAA;AAAA;AAI5B,aAAO;AAAA;AAGX,gBAAY,eAAe,SAAU,GAAG;AACpC,YAAM,IAAI,OAAO;AACjB,YAAM,IAAI,EAAE;AACZ,YAAM,IAAI;AACV,eAAS,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACxB,cAAM,IAAI,EAAE,WAAW;AACvB,YAAI,IAAI,SAAU,IAAI,OAAQ;AAC1B,YAAE,KAAK,OAAO,cAAc;AAAA,mBACrB,SAAU,KAAK,KAAK,OAAQ;AACnC,YAAE,KAAK,OAAO,cAAc;AAAA,eACzB;AACH,cAAI,MAAM,IAAI,GAAG;AACb,cAAE,KAAK,OAAO,cAAc;AAAA,iBACzB;AACH,kBAAM,IAAI,EAAE,WAAW,IAAI;AAC3B,gBAAI,SAAU,KAAK,KAAK,OAAQ;AAC5B,oBAAM,IAAI,IAAI;AACd,oBAAM,IAAI,IAAI;AACd,gBAAE,KAAK,OAAO,cAAe,MAAK,MAAO,MAAK,KAAK,IAAI;AACvD,gBAAE;AAAA,mBACC;AACH,gBAAE,KAAK,OAAO,cAAc;AAAA;AAAA;AAAA;AAAA;AAM5C,aAAO,EAAE,KAAK;AAAA;AAGlB,gBAAY,UAAU,SAAU,GAAG,MAAM;AACrC,UAAI,CAAE,cAAa,OAAO;AACtB,cAAM,IAAI,UAAU;AAAA;AAExB,UAAI,MAAM,IAAI;AACV,eAAO;AAAA;AAGX,aAAO;AAAA;AAGX,gBAAY,YAAY,SAAU,GAAG,MAAM;AACvC,UAAI,CAAE,cAAa,SAAS;AACxB,YAAI,IAAI,OAAO;AAAA;AAGnB,aAAO;AAAA;AAAA;AAAA;;;AC3LX;AAAA;AAAA;AAEA,YAAO,QAAQ,QAAQ,eAAe,QAAQ,QAAQ;AACpD,YAAM,OAAO,OAAO,oBAAoB;AACxC,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AACpC,eAAO,eAAe,QAAQ,KAAK,IAAI,OAAO,yBAAyB,QAAQ,KAAK;AAAA;AAAA;AAIxF,YAAO,QAAQ,gBAAgB,OAAO;AACtC,YAAO,QAAQ,aAAa,OAAO;AAEnC,YAAO,QAAQ,iBAAiB,SAAU,MAAM;AAC9C,aAAO,KAAK,QAAO,QAAQ;AAAA;AAG7B,YAAO,QAAQ,iBAAiB,SAAU,SAAS;AACjD,aAAO,QAAQ,QAAO,QAAQ;AAAA;AAAA;AAAA;;;;;;;;;;ACjBhC;AAAA;AAAA;AAEA,QAAI,WAAW,QAAQ;AACvB,QAAI,eAAe;AAEnB,QAAI,qBAAqB;AAAA,MACvB,cAAc;AAAA,MACd,iBAAiB;AAAA;AAGnB,uBAAmB,KAAK;AACtB,aAAO,IAAI,MAAM,MAAU,IAAI,SAAU,GAAG;AAAE,eAAO,EAAE,UAAU;AAAA,SAAW,KAAK;AAAA;AAGnF,wBAAoB,KAAK;AACvB,UAAI,QAAQ;AACZ,UAAI,MAAM,aAAa,SAAS;AAEhC,aAAO,SAAS,KAAK;AACnB,YAAI,MAAM,KAAK,MAAO,SAAQ,OAAO;AAErC,YAAI,SAAS,aAAa;AAC1B,YAAI,OAAO,GAAG,MAAM,OAAO,OAAO,GAAG,MAAM,KAAK;AAC9C,iBAAO;AAAA,mBACE,OAAO,GAAG,KAAK,KAAK;AAC7B,gBAAM,MAAM;AAAA,eACP;AACL,kBAAQ,MAAM;AAAA;AAAA;AAIlB,aAAO;AAAA;AAGT,QAAI,qBAAqB;AAEzB,0BAAsB,QAAQ;AAC5B,aAAO,OAEJ,QAAQ,oBAAoB,KAE5B;AAAA;AAGL,sBAAkB,aAAa,SAAS,mBAAmB;AACzD,UAAI,WAAW;AACf,UAAI,YAAY;AAEhB,UAAI,MAAM,aAAa;AACvB,eAAS,IAAI,GAAG,IAAI,KAAK,EAAE,GAAG;AAC5B,YAAI,YAAY,YAAY,YAAY;AACxC,YAAI,SAAS,WAAW;AAExB,gBAAQ,OAAO;AAAA,eACR;AACH,uBAAW;AACX,yBAAa,OAAO,cAAc;AAClC;AAAA,eACG;AACH;AAAA,eACG;AACH,yBAAa,OAAO,cAAc,MAAM,QAAQ,OAAO;AACvD;AAAA,eACG;AACH,gBAAI,sBAAsB,mBAAmB,cAAc;AACzD,2BAAa,OAAO,cAAc,MAAM,QAAQ,OAAO;AAAA,mBAClD;AACL,2BAAa,OAAO,cAAc;AAAA;AAEpC;AAAA,eACG;AACH,yBAAa,OAAO,cAAc;AAClC;AAAA,eACG;AACH,gBAAI,SAAS;AACX,yBAAW;AACX,2BAAa,OAAO,cAAc;AAAA,mBAC7B;AACL,2BAAa,OAAO,cAAc,MAAM,QAAQ,OAAO;AAAA;AAEzD;AAAA,eACG;AACH,gBAAI,SAAS;AACX,yBAAW;AAAA;AAGb,yBAAa,OAAO,cAAc;AAClC;AAAA;AAAA;AAIN,aAAO;AAAA,QACL,QAAQ;AAAA,QACR,OAAO;AAAA;AAAA;AAIX,QAAI,sBAAsB;AAE1B,2BAAuB,OAAO,mBAAmB;AAC/C,UAAI,MAAM,OAAO,GAAG,OAAO,QAAQ;AACjC,gBAAQ,SAAS,UAAU;AAC3B,4BAAoB,mBAAmB;AAAA;AAGzC,UAAI,QAAQ;AAEZ,UAAI,UAAU,WAAW,SACpB,MAAM,OAAO,OAAO,MAAM,OAAO,OAClC,MAAM,OAAO,OAAO,MAAM,MAAM,SAAS,OAAO,OAChD,MAAM,QAAQ,SAAS,MACvB,MAAM,OAAO,yBAAyB,GAAG;AAC3C,gBAAQ;AAAA;AAGV,UAAI,MAAM,aAAa;AACvB,eAAS,IAAI,GAAG,IAAI,KAAK,EAAE,GAAG;AAC5B,YAAI,SAAS,WAAW,MAAM,YAAY;AAC1C,YAAK,eAAe,mBAAmB,gBAAgB,OAAO,OAAO,WAChE,eAAe,mBAAmB,mBAClC,OAAO,OAAO,WAAW,OAAO,OAAO,aAAc;AACxD,kBAAQ;AACR;AAAA;AAAA;AAIJ,aAAO;AAAA,QACL;AAAA,QACA;AAAA;AAAA;AAIJ,wBAAoB,aAAa,SAAS,mBAAmB;AAC3D,UAAI,SAAS,SAAS,aAAa,SAAS;AAC5C,aAAO,SAAS,UAAU,OAAO;AAEjC,UAAI,SAAS,OAAO,OAAO,MAAM;AACjC,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACtC,YAAI;AACF,cAAI,aAAa,cAAc,OAAO;AACtC,iBAAO,KAAK,WAAW;AACvB,iBAAO,QAAQ,OAAO,SAAS,WAAW;AAAA,iBACpC,GAAN;AACA,iBAAO,QAAQ;AAAA;AAAA;AAInB,aAAO;AAAA,QACL,QAAQ,OAAO,KAAK;AAAA,QACpB,OAAO,OAAO;AAAA;AAAA;AAIlB,YAAO,QAAQ,UAAU,SAAS,aAAa,SAAS,mBAAmB,iBAAiB;AAC1F,UAAI,SAAS,WAAW,aAAa,SAAS;AAC9C,UAAI,SAAS,OAAO,OAAO,MAAM;AACjC,eAAS,OAAO,IAAI,SAAS,GAAG;AAC9B,YAAI;AACF,iBAAO,SAAS,QAAQ;AAAA,iBAClB,GAAN;AACA,iBAAO,QAAQ;AACf,iBAAO;AAAA;AAAA;AAIX,UAAI,iBAAiB;AACnB,YAAI,QAAQ,OAAO,MAAM,GAAG,OAAO,SAAS,GAAG,KAAK,KAAK;AACzD,YAAI,MAAM,SAAS,OAAO,MAAM,WAAW,GAAG;AAC5C,iBAAO,QAAQ;AAAA;AAGjB,iBAAS,IAAE,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACpC,cAAI,OAAO,SAAS,MAAM,OAAO,WAAW,GAAG;AAC7C,mBAAO,QAAQ;AACf;AAAA;AAAA;AAAA;AAKN,UAAI,OAAO;AAAO,eAAO;AACzB,aAAO,OAAO,KAAK;AAAA;AAGrB,YAAO,QAAQ,YAAY,SAAS,aAAa,SAAS;AACxD,UAAI,SAAS,WAAW,aAAa,SAAS,mBAAmB;AAEjE,aAAO;AAAA,QACL,QAAQ,OAAO;AAAA,QACf,OAAO,OAAO;AAAA;AAAA;AAIlB,YAAO,QAAQ,qBAAqB;AAAA;AAAA;;;AChMpC;AAAA;AAAA;AACA,QAAM,WAAW,QAAQ;AACzB,QAAM,OAAO;AAEb,QAAM,iBAAiB;AAAA,MACrB,KAAK;AAAA,MACL,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,IAAI;AAAA,MACJ,KAAK;AAAA;AAGP,QAAM,UAAU,OAAO;AAEvB,0BAAsB,KAAK;AACzB,aAAO,SAAS,KAAK,OAAO,KAAK;AAAA;AAGnC,gBAAY,OAAO,KAAK;AACtB,YAAM,IAAI,MAAM;AAChB,aAAO,MAAM,KAAK,SAAY,OAAO,cAAc;AAAA;AAGrD,0BAAsB,GAAG;AACvB,aAAO,KAAK,MAAQ,KAAK;AAAA;AAG3B,0BAAsB,GAAG;AACvB,aAAQ,KAAK,MAAQ,KAAK,MAAU,KAAK,MAAQ,KAAK;AAAA;AAGxD,iCAA6B,GAAG;AAC9B,aAAO,aAAa,MAAM,aAAa;AAAA;AAGzC,wBAAoB,GAAG;AACrB,aAAO,aAAa,MAAO,KAAK,MAAQ,KAAK,MAAU,KAAK,MAAQ,KAAK;AAAA;AAG3E,yBAAqB,QAAQ;AAC3B,aAAO,WAAW,OAAO,OAAO,kBAAkB;AAAA;AAGpD,yBAAqB,QAAQ;AAC3B,eAAS,OAAO;AAChB,aAAO,WAAW,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAAA;AAGjF,4CAAwC,KAAK,KAAK;AAChD,aAAO,aAAa,QAAS,SAAQ,MAAM,QAAQ;AAAA;AAGrD,wCAAoC,QAAQ;AAC1C,aAAO,OAAO,WAAW,KAAK,aAAa,OAAO,YAAY,OAAQ,QAAO,OAAO,OAAO,OAAO,OAAO;AAAA;AAG3G,kDAA8C,QAAQ;AACpD,aAAO,OAAO,WAAW,KAAK,aAAa,OAAO,YAAY,OAAO,OAAO,OAAO;AAAA;AAGrF,4CAAwC,QAAQ;AAC9C,aAAO,OAAO,OAAO,iEAAiE;AAAA;AAGxF,4DAAwD,QAAQ;AAC9D,aAAO,OAAO,OAAO,+DAA+D;AAAA;AAGtF,6BAAyB,QAAQ;AAC/B,aAAO,eAAe,YAAY;AAAA;AAGpC,uBAAmB,KAAK;AACtB,aAAO,gBAAgB,IAAI;AAAA;AAG7B,yBAAqB,QAAQ;AAC3B,aAAO,eAAe;AAAA;AAGxB,2BAAuB,GAAG;AACxB,UAAI,MAAM,EAAE,SAAS,IAAI;AACzB,UAAI,IAAI,WAAW,GAAG;AACpB,cAAM,MAAM;AAAA;AAGd,aAAO,MAAM;AAAA;AAGf,+BAA2B,GAAG;AAC5B,YAAM,MAAM,IAAI,OAAO;AAEvB,UAAI,MAAM;AAEV,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,eAAO,cAAc,IAAI;AAAA;AAG3B,aAAO;AAAA;AAGT,+BAA2B,KAAK;AAC9B,YAAM,QAAQ,IAAI,OAAO;AACzB,YAAM,SAAS;AACf,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AACrC,YAAI,MAAM,OAAO,IAAI;AACnB,iBAAO,KAAK,MAAM;AAAA,mBACT,MAAM,OAAO,MAAM,WAAW,MAAM,IAAI,OAAO,WAAW,MAAM,IAAI,KAAK;AAClF,iBAAO,KAAK,SAAS,MAAM,MAAM,IAAI,GAAG,IAAI,GAAG,YAAY;AAC3D,eAAK;AAAA,eACA;AACL,iBAAO,KAAK,MAAM;AAAA;AAAA;AAGtB,aAAO,IAAI,OAAO,QAAQ;AAAA;AAG5B,sCAAkC,GAAG;AACnC,aAAO,KAAK,MAAQ,IAAI;AAAA;AAG1B,QAAM,4BAA4B,oBAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK;AAC5E,iCAA6B,GAAG;AAC9B,aAAO,yBAAyB,MAAM,0BAA0B,IAAI;AAAA;AAGtE,QAAM,gCACJ,oBAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC/C,qCAAiC,GAAG;AAClC,aAAO,oBAAoB,MAAM,8BAA8B,IAAI;AAAA;AAGrE,+BAA2B,GAAG,oBAAoB;AAChD,YAAM,OAAO,OAAO,cAAc;AAElC,UAAI,mBAAmB,IAAI;AACzB,eAAO,kBAAkB;AAAA;AAG3B,aAAO;AAAA;AAGT,6BAAyB,OAAO;AAC9B,UAAI,IAAI;AAER,UAAI,MAAM,UAAU,KAAK,MAAM,OAAO,OAAO,OAAO,MAAM,OAAO,GAAG,kBAAkB,KAAK;AACzF,gBAAQ,MAAM,UAAU;AACxB,YAAI;AAAA,iBACK,MAAM,UAAU,KAAK,MAAM,OAAO,OAAO,KAAK;AACvD,gBAAQ,MAAM,UAAU;AACxB,YAAI;AAAA;AAGN,UAAI,UAAU,IAAI;AAChB,eAAO;AAAA;AAGT,YAAM,QAAQ,MAAM,KAAK,WAAY,MAAM,KAAK,iBAAiB;AACjE,UAAI,MAAM,KAAK,QAAQ;AACrB,eAAO;AAAA;AAGT,aAAO,SAAS,OAAO;AAAA;AAGzB,uBAAmB,OAAO;AACxB,YAAM,QAAQ,MAAM,MAAM;AAC1B,UAAI,MAAM,MAAM,SAAS,OAAO,IAAI;AAClC,YAAI,MAAM,SAAS,GAAG;AACpB,gBAAM;AAAA;AAAA;AAIV,UAAI,MAAM,SAAS,GAAG;AACpB,eAAO;AAAA;AAGT,YAAM,UAAU;AAChB,iBAAW,QAAQ,OAAO;AACxB,YAAI,SAAS,IAAI;AACf,iBAAO;AAAA;AAET,cAAM,IAAI,gBAAgB;AAC1B,YAAI,MAAM,SAAS;AACjB,iBAAO;AAAA;AAGT,gBAAQ,KAAK;AAAA;AAGf,eAAS,IAAI,GAAG,IAAI,QAAQ,SAAS,GAAG,EAAE,GAAG;AAC3C,YAAI,QAAQ,KAAK,KAAK;AACpB,iBAAO;AAAA;AAAA;AAGX,UAAI,QAAQ,QAAQ,SAAS,MAAM,KAAK,IAAI,KAAK,IAAI,QAAQ,SAAS;AACpE,eAAO;AAAA;AAGT,UAAI,OAAO,QAAQ;AACnB,UAAI,UAAU;AAEd,iBAAW,KAAK,SAAS;AACvB,gBAAQ,IAAI,KAAK,IAAI,KAAK,IAAI;AAC9B,UAAE;AAAA;AAGJ,aAAO;AAAA;AAGT,2BAAuB,SAAS;AAC9B,UAAI,SAAS;AACb,UAAI,IAAI;AAER,eAAS,IAAI,GAAG,KAAK,GAAG,EAAE,GAAG;AAC3B,iBAAS,OAAO,IAAI,OAAO;AAC3B,YAAI,MAAM,GAAG;AACX,mBAAS,MAAM;AAAA;AAEjB,YAAI,KAAK,MAAM,IAAI;AAAA;AAGrB,aAAO;AAAA;AAGT,uBAAmB,OAAO;AACxB,YAAM,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AACtC,UAAI,aAAa;AACjB,UAAI,WAAW;AACf,UAAI,UAAU;AAEd,cAAQ,SAAS,KAAK,OAAO;AAE7B,UAAI,MAAM,aAAa,IAAI;AACzB,YAAI,MAAM,UAAU,OAAO,IAAI;AAC7B,iBAAO;AAAA;AAGT,mBAAW;AACX,UAAE;AACF,mBAAW;AAAA;AAGb,aAAO,UAAU,MAAM,QAAQ;AAC7B,YAAI,eAAe,GAAG;AACpB,iBAAO;AAAA;AAGT,YAAI,MAAM,aAAa,IAAI;AACzB,cAAI,aAAa,MAAM;AACrB,mBAAO;AAAA;AAET,YAAE;AACF,YAAE;AACF,qBAAW;AACX;AAAA;AAGF,YAAI,QAAQ;AACZ,YAAI,SAAS;AAEb,eAAO,SAAS,KAAK,WAAW,MAAM,WAAW;AAC/C,kBAAQ,QAAQ,KAAO,SAAS,GAAG,OAAO,UAAU;AACpD,YAAE;AACF,YAAE;AAAA;AAGJ,YAAI,MAAM,aAAa,IAAI;AACzB,cAAI,WAAW,GAAG;AAChB,mBAAO;AAAA;AAGT,qBAAW;AAEX,cAAI,aAAa,GAAG;AAClB,mBAAO;AAAA;AAGT,cAAI,cAAc;AAElB,iBAAO,MAAM,aAAa,QAAW;AACnC,gBAAI,YAAY;AAEhB,gBAAI,cAAc,GAAG;AACnB,kBAAI,MAAM,aAAa,MAAM,cAAc,GAAG;AAC5C,kBAAE;AAAA,qBACG;AACL,uBAAO;AAAA;AAAA;AAIX,gBAAI,CAAC,aAAa,MAAM,WAAW;AACjC,qBAAO;AAAA;AAGT,mBAAO,aAAa,MAAM,WAAW;AACnC,oBAAM,SAAS,SAAS,GAAG,OAAO;AAClC,kBAAI,cAAc,MAAM;AACtB,4BAAY;AAAA,yBACH,cAAc,GAAG;AAC1B,uBAAO;AAAA,qBACF;AACL,4BAAY,YAAY,KAAK;AAAA;AAE/B,kBAAI,YAAY,KAAK;AACnB,uBAAO;AAAA;AAET,gBAAE;AAAA;AAGJ,oBAAQ,cAAc,QAAQ,cAAc,MAAQ;AAEpD,cAAE;AAEF,gBAAI,gBAAgB,KAAK,gBAAgB,GAAG;AAC1C,gBAAE;AAAA;AAAA;AAIN,cAAI,gBAAgB,GAAG;AACrB,mBAAO;AAAA;AAGT;AAAA,mBACS,MAAM,aAAa,IAAI;AAChC,YAAE;AACF,cAAI,MAAM,aAAa,QAAW;AAChC,mBAAO;AAAA;AAAA,mBAEA,MAAM,aAAa,QAAW;AACvC,iBAAO;AAAA;AAGT,gBAAQ,cAAc;AACtB,UAAE;AAAA;AAGJ,UAAI,aAAa,MAAM;AACrB,YAAI,QAAQ,aAAa;AACzB,qBAAa;AACb,eAAO,eAAe,KAAK,QAAQ,GAAG;AACpC,gBAAM,OAAO,QAAQ,WAAW,QAAQ;AACxC,kBAAQ,WAAW,QAAQ,KAAK,QAAQ;AACxC,kBAAQ,cAAc;AACtB,YAAE;AACF,YAAE;AAAA;AAAA,iBAEK,aAAa,QAAQ,eAAe,GAAG;AAChD,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,2BAAuB,SAAS;AAC9B,UAAI,SAAS;AACb,YAAM,YAAY,wBAAwB;AAC1C,YAAM,WAAW,UAAU;AAC3B,UAAI,UAAU;AAEd,eAAS,aAAa,GAAG,cAAc,GAAG,EAAE,YAAY;AACtD,YAAI,WAAW,QAAQ,gBAAgB,GAAG;AACxC;AAAA,mBACS,SAAS;AAClB,oBAAU;AAAA;AAGZ,YAAI,aAAa,YAAY;AAC3B,gBAAM,YAAY,eAAe,IAAI,OAAO;AAC5C,oBAAU;AACV,oBAAU;AACV;AAAA;AAGF,kBAAU,QAAQ,YAAY,SAAS;AAEvC,YAAI,eAAe,GAAG;AACpB,oBAAU;AAAA;AAAA;AAId,aAAO;AAAA;AAGT,uBAAmB,OAAO,cAAc;AACtC,UAAI,MAAM,OAAO,KAAK;AACpB,YAAI,MAAM,MAAM,SAAS,OAAO,KAAK;AACnC,iBAAO;AAAA;AAGT,eAAO,UAAU,MAAM,UAAU,GAAG,MAAM,SAAS;AAAA;AAGrD,UAAI,CAAC,cAAc;AACjB,eAAO,gBAAgB;AAAA;AAGzB,YAAM,SAAS,kBAAkB;AACjC,YAAM,cAAc,KAAK,QAAQ,QAAQ,OAAO,KAAK,mBAAmB,iBAAiB;AACzF,UAAI,gBAAgB,MAAM;AACxB,eAAO;AAAA;AAGT,UAAI,+BAA+B,cAAc;AAC/C,eAAO;AAAA;AAGT,YAAM,WAAW,UAAU;AAC3B,UAAI,OAAO,aAAa,YAAY,aAAa,SAAS;AACxD,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,6BAAyB,OAAO;AAC9B,UAAI,+CAA+C,QAAQ;AACzD,eAAO;AAAA;AAGT,UAAI,SAAS;AACb,YAAM,UAAU,SAAS,KAAK,OAAO;AACrC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACvC,kBAAU,kBAAkB,QAAQ,IAAI;AAAA;AAE1C,aAAO;AAAA;AAGT,qCAAiC,KAAK;AACpC,UAAI,SAAS;AACb,UAAI,SAAS;AACb,UAAI,YAAY;AAChB,UAAI,UAAU;AAEd,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,YAAI,IAAI,OAAO,GAAG;AAChB,cAAI,UAAU,QAAQ;AACpB,qBAAS;AACT,qBAAS;AAAA;AAGX,sBAAY;AACZ,oBAAU;AAAA,eACL;AACL,cAAI,cAAc,MAAM;AACtB,wBAAY;AAAA;AAEd,YAAE;AAAA;AAAA;AAKN,UAAI,UAAU,QAAQ;AACpB,iBAAS;AACT,iBAAS;AAAA;AAGX,aAAO;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA;AAAA;AAIT,2BAAuB,MAAM;AAC3B,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO,cAAc;AAAA;AAIvB,UAAI,gBAAgB,OAAO;AACzB,eAAO,MAAM,cAAc,QAAQ;AAAA;AAGrC,aAAO;AAAA;AAGT,8BAA0B,KAAK;AAC7B,aAAO,IAAI,QAAQ,oDAAoD;AAAA;AAGzE,+BAA2B,KAAK;AAC9B,aAAO,IAAI,QAAQ,yBAAyB;AAAA;AAG9C,yBAAqB,KAAK;AACxB,YAAM,QAAO,IAAI;AACjB,UAAI,MAAK,WAAW,GAAG;AACrB;AAAA;AAEF,UAAI,IAAI,WAAW,UAAU,MAAK,WAAW,KAAK,+BAA+B,MAAK,KAAK;AACzF;AAAA;AAGF,YAAK;AAAA;AAGP,iCAA6B,KAAK;AAChC,aAAO,IAAI,aAAa,MAAM,IAAI,aAAa;AAAA;AAGjD,6CAAyC,KAAK;AAC5C,aAAO,IAAI,SAAS,QAAQ,IAAI,SAAS,MAAM,IAAI,oBAAoB,IAAI,WAAW;AAAA;AAGxF,4CAAwC,QAAQ;AAC9C,aAAO,cAAc,KAAK;AAAA;AAG5B,6BAAyB,OAAO,MAAM,kBAAkB,KAAK,eAAe;AAC1E,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,WAAK,OAAO,QAAQ;AACpB,WAAK,mBAAmB,oBAAoB;AAC5C,WAAK,gBAAgB;AACrB,WAAK,MAAM;AACX,WAAK,UAAU;AACf,WAAK,aAAa;AAElB,UAAI,CAAC,KAAK,KAAK;AACb,aAAK,MAAM;AAAA,UACT,QAAQ;AAAA,UACR,UAAU;AAAA,UACV,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,OAAO;AAAA,UACP,UAAU;AAAA,UAEV,kBAAkB;AAAA;AAGpB,cAAM,OAAM,iBAAiB,KAAK;AAClC,YAAI,SAAQ,KAAK,OAAO;AACtB,eAAK,aAAa;AAAA;AAEpB,aAAK,QAAQ;AAAA;AAGf,YAAM,MAAM,kBAAkB,KAAK;AACnC,UAAI,QAAQ,KAAK,OAAO;AACtB,aAAK,aAAa;AAAA;AAEpB,WAAK,QAAQ;AAEb,WAAK,QAAQ,iBAAiB;AAE9B,WAAK,SAAS;AACd,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,wBAAwB;AAE7B,WAAK,QAAQ,SAAS,KAAK,OAAO,KAAK;AAEvC,aAAO,KAAK,WAAW,KAAK,MAAM,QAAQ,EAAE,KAAK,SAAS;AACxD,cAAM,IAAI,KAAK,MAAM,KAAK;AAC1B,cAAM,OAAO,MAAM,KAAK,SAAY,OAAO,cAAc;AAGzD,cAAM,MAAM,KAAK,WAAW,KAAK,OAAO,GAAG;AAC3C,YAAI,CAAC,KAAK;AACR;AAAA,mBACS,QAAQ,SAAS;AAC1B,eAAK,UAAU;AACf;AAAA;AAAA;AAAA;AAKN,oBAAgB,UAAU,wBAAwB,0BAA0B,GAAG,MAAM;AACnF,UAAI,aAAa,IAAI;AACnB,aAAK,UAAU,KAAK;AACpB,aAAK,QAAQ;AAAA,iBACJ,CAAC,KAAK,eAAe;AAC9B,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,aAAa;AAClB,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,kBAAkB,qBAAqB,GAAG,MAAM;AACxE,UAAI,oBAAoB,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAC9D,aAAK,UAAU,KAAK;AAAA,iBACX,MAAM,IAAI;AACnB,YAAI,KAAK,eAAe;AACtB,cAAI,UAAU,KAAK,QAAQ,CAAC,gBAAgB,KAAK,SAAS;AACxD,mBAAO;AAAA;AAGT,cAAI,CAAC,UAAU,KAAK,QAAQ,gBAAgB,KAAK,SAAS;AACxD,mBAAO;AAAA;AAGT,cAAK,qBAAoB,KAAK,QAAQ,KAAK,IAAI,SAAS,SAAS,KAAK,WAAW,QAAQ;AACvF,mBAAO;AAAA;AAGT,cAAI,KAAK,IAAI,WAAW,UAAW,MAAK,IAAI,SAAS,MAAM,KAAK,IAAI,SAAS,OAAO;AAClF,mBAAO;AAAA;AAAA;AAGX,aAAK,IAAI,SAAS,KAAK;AACvB,aAAK,SAAS;AACd,YAAI,KAAK,eAAe;AACtB,iBAAO;AAAA;AAET,YAAI,KAAK,IAAI,WAAW,QAAQ;AAC9B,cAAI,KAAK,MAAM,KAAK,UAAU,OAAO,MAAM,KAAK,MAAM,KAAK,UAAU,OAAO,IAAI;AAC9E,iBAAK,aAAa;AAAA;AAEpB,eAAK,QAAQ;AAAA,mBACJ,UAAU,KAAK,QAAQ,KAAK,SAAS,QAAQ,KAAK,KAAK,WAAW,KAAK,IAAI,QAAQ;AAC5F,eAAK,QAAQ;AAAA,mBACJ,UAAU,KAAK,MAAM;AAC9B,eAAK,QAAQ;AAAA,mBACJ,KAAK,MAAM,KAAK,UAAU,OAAO,IAAI;AAC9C,eAAK,QAAQ;AACb,YAAE,KAAK;AAAA,eACF;AACL,eAAK,IAAI,mBAAmB;AAC5B,eAAK,IAAI,KAAK,KAAK;AACnB,eAAK,QAAQ;AAAA;AAAA,iBAEN,CAAC,KAAK,eAAe;AAC9B,aAAK,SAAS;AACd,aAAK,QAAQ;AACb,aAAK,UAAU;AAAA,aACV;AACL,aAAK,aAAa;AAClB,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,qBAAqB,uBAAuB,GAAG;AACvE,UAAI,KAAK,SAAS,QAAS,KAAK,KAAK,oBAAoB,MAAM,IAAK;AAClE,eAAO;AAAA,iBACE,KAAK,KAAK,oBAAoB,MAAM,IAAI;AACjD,aAAK,IAAI,SAAS,KAAK,KAAK;AAC5B,aAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,aAAK,IAAI,QAAQ,KAAK,KAAK;AAC3B,aAAK,IAAI,WAAW;AACpB,aAAK,IAAI,mBAAmB;AAC5B,aAAK,QAAQ;AAAA,iBACJ,KAAK,KAAK,WAAW,QAAQ;AACtC,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,yCAAyC,yCAAyC,GAAG;AAC7G,UAAI,MAAM,MAAM,KAAK,MAAM,KAAK,UAAU,OAAO,IAAI;AACnD,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,aAAa;AAClB,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,6BAA6B,8BAA8B,GAAG;AACtF,UAAI,MAAM,IAAI;AACZ,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,oBAAoB,uBAAuB,GAAG;AACtE,WAAK,IAAI,SAAS,KAAK,KAAK;AAC5B,UAAI,MAAM,IAAI;AACZ,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,aAAK,IAAI,QAAQ,KAAK,KAAK;AAAA,iBAClB,MAAM,IAAI;AACnB,aAAK,QAAQ;AAAA,iBACJ,MAAM,IAAI;AACnB,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,aAAK,IAAI,QAAQ;AACjB,aAAK,QAAQ;AAAA,iBACJ,MAAM,IAAI;AACnB,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,aAAK,IAAI,QAAQ,KAAK,KAAK;AAC3B,aAAK,IAAI,WAAW;AACpB,aAAK,QAAQ;AAAA,iBACJ,UAAU,KAAK,QAAQ,MAAM,IAAI;AAC1C,aAAK,aAAa;AAClB,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK,KAAK,MAAM,GAAG,KAAK,KAAK,KAAK,SAAS;AAEhE,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,0BAA0B,4BAA4B,GAAG;AACjF,UAAI,UAAU,KAAK,QAAS,OAAM,MAAM,MAAM,KAAK;AACjD,YAAI,MAAM,IAAI;AACZ,eAAK,aAAa;AAAA;AAEpB,aAAK,QAAQ;AAAA,iBACJ,MAAM,IAAI;AACnB,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,WAAW,KAAK,KAAK;AAC9B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,qCAAqC,sCAAsC,GAAG;AACtG,UAAI,MAAM,MAAM,KAAK,MAAM,KAAK,UAAU,OAAO,IAAI;AACnD,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,aAAa;AAClB,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,4CAA4C,4CAA4C,GAAG;AACnH,UAAI,MAAM,MAAM,MAAM,IAAI;AACxB,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,aAAa;AAAA;AAGpB,aAAO;AAAA;AAGT,oBAAgB,UAAU,qBAAqB,wBAAwB,GAAG,MAAM;AAC9E,UAAI,MAAM,IAAI;AACZ,aAAK,aAAa;AAClB,YAAI,KAAK,QAAQ;AACf,eAAK,SAAS,QAAQ,KAAK;AAAA;AAE7B,aAAK,SAAS;AAGd,cAAM,MAAM,aAAa,KAAK;AAC9B,iBAAS,UAAU,GAAG,UAAU,KAAK,EAAE,SAAS;AAC9C,gBAAM,YAAY,KAAK,OAAO,YAAY;AAE1C,cAAI,cAAc,MAAM,CAAC,KAAK,uBAAuB;AACnD,iBAAK,wBAAwB;AAC7B;AAAA;AAEF,gBAAM,oBAAoB,kBAAkB,WAAW;AACvD,cAAI,KAAK,uBAAuB;AAC9B,iBAAK,IAAI,YAAY;AAAA,iBAChB;AACL,iBAAK,IAAI,YAAY;AAAA;AAAA;AAGzB,aAAK,SAAS;AAAA,iBACL,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACzC,UAAU,KAAK,QAAQ,MAAM,IAAK;AAC5C,YAAI,KAAK,UAAU,KAAK,WAAW,IAAI;AACrC,eAAK,aAAa;AAClB,iBAAO;AAAA;AAET,aAAK,WAAW,aAAa,KAAK,UAAU;AAC5C,aAAK,SAAS;AACd,aAAK,QAAQ;AAAA,aACR;AACL,aAAK,UAAU;AAAA;AAGjB,aAAO;AAAA;AAGT,oBAAgB,UAAU,oBAC1B,gBAAgB,UAAU,gBAAgB,uBAAuB,GAAG,MAAM;AACxE,UAAI,KAAK,iBAAiB,KAAK,IAAI,WAAW,QAAQ;AACpD,UAAE,KAAK;AACP,aAAK,QAAQ;AAAA,iBACJ,MAAM,MAAM,CAAC,KAAK,SAAS;AACpC,YAAI,KAAK,WAAW,IAAI;AACtB,eAAK,aAAa;AAClB,iBAAO;AAAA;AAGT,cAAM,OAAO,UAAU,KAAK,QAAQ,UAAU,KAAK;AACnD,YAAI,SAAS,SAAS;AACpB,iBAAO;AAAA;AAGT,aAAK,IAAI,OAAO;AAChB,aAAK,SAAS;AACd,aAAK,QAAQ;AACb,YAAI,KAAK,kBAAkB,YAAY;AACrC,iBAAO;AAAA;AAAA,iBAEA,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACzC,UAAU,KAAK,QAAQ,MAAM,IAAK;AAC5C,UAAE,KAAK;AACP,YAAI,UAAU,KAAK,QAAQ,KAAK,WAAW,IAAI;AAC7C,eAAK,aAAa;AAClB,iBAAO;AAAA,mBACE,KAAK,iBAAiB,KAAK,WAAW,MACrC,qBAAoB,KAAK,QAAQ,KAAK,IAAI,SAAS,OAAO;AACpE,eAAK,aAAa;AAClB,iBAAO;AAAA;AAGT,cAAM,OAAO,UAAU,KAAK,QAAQ,UAAU,KAAK;AACnD,YAAI,SAAS,SAAS;AACpB,iBAAO;AAAA;AAGT,aAAK,IAAI,OAAO;AAChB,aAAK,SAAS;AACd,aAAK,QAAQ;AACb,YAAI,KAAK,eAAe;AACtB,iBAAO;AAAA;AAAA,aAEJ;AACL,YAAI,MAAM,IAAI;AACZ,eAAK,UAAU;AAAA,mBACN,MAAM,IAAI;AACnB,eAAK,UAAU;AAAA;AAEjB,aAAK,UAAU;AAAA;AAGjB,aAAO;AAAA;AAGT,oBAAgB,UAAU,gBAAgB,mBAAmB,GAAG,MAAM;AACpE,UAAI,aAAa,IAAI;AACnB,aAAK,UAAU;AAAA,iBACN,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACzC,UAAU,KAAK,QAAQ,MAAM,MAC9B,KAAK,eAAe;AAC7B,YAAI,KAAK,WAAW,IAAI;AACtB,gBAAM,OAAO,SAAS,KAAK;AAC3B,cAAI,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG;AAC9B,iBAAK,aAAa;AAClB,mBAAO;AAAA;AAET,eAAK,IAAI,OAAO,SAAS,YAAY,KAAK,IAAI,UAAU,OAAO;AAC/D,eAAK,SAAS;AAAA;AAEhB,YAAI,KAAK,eAAe;AACtB,iBAAO;AAAA;AAET,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA,aACF;AACL,aAAK,aAAa;AAClB,eAAO;AAAA;AAGT,aAAO;AAAA;AAGT,QAAM,0BAA0B,oBAAI,IAAI,CAAC,IAAI,IAAI,IAAI;AAErD,oBAAgB,UAAU,gBAAgB,mBAAmB,GAAG;AAC9D,WAAK,IAAI,SAAS;AAElB,UAAI,MAAM,MAAM,MAAM,IAAI;AACxB,YAAI,MAAM,IAAI;AACZ,eAAK,aAAa;AAAA;AAEpB,aAAK,QAAQ;AAAA,iBACJ,KAAK,SAAS,QAAQ,KAAK,KAAK,WAAW,QAAQ;AAC5D,YAAI,MAAM,IAAI;AACZ,eAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,eAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,eAAK,IAAI,QAAQ,KAAK,KAAK;AAAA,mBAClB,MAAM,IAAI;AACnB,eAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,eAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,eAAK,IAAI,QAAQ;AACjB,eAAK,QAAQ;AAAA,mBACJ,MAAM,IAAI;AACnB,eAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,eAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,eAAK,IAAI,QAAQ,KAAK,KAAK;AAC3B,eAAK,IAAI,WAAW;AACpB,eAAK,QAAQ;AAAA,eACR;AACL,cAAI,KAAK,MAAM,SAAS,KAAK,UAAU,MAAM,KACzC,CAAC,+BAA+B,GAAG,KAAK,MAAM,KAAK,UAAU,OAC5D,KAAK,MAAM,SAAS,KAAK,UAAU,KAAK,KACxC,CAAC,wBAAwB,IAAI,KAAK,MAAM,KAAK,UAAU,KAAM;AAChE,iBAAK,IAAI,OAAO,KAAK,KAAK;AAC1B,iBAAK,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,wBAAY,KAAK;AAAA,iBACZ;AACL,iBAAK,aAAa;AAAA;AAGpB,eAAK,QAAQ;AACb,YAAE,KAAK;AAAA;AAAA,aAEJ;AACL,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,sBAAsB,wBAAwB,GAAG;AACzE,UAAI,MAAM,MAAM,MAAM,IAAI;AACxB,YAAI,MAAM,IAAI;AACZ,eAAK,aAAa;AAAA;AAEpB,aAAK,QAAQ;AAAA,aACR;AACL,YAAI,KAAK,SAAS,QAAQ,KAAK,KAAK,WAAW,QAAQ;AACrD,cAAI,qCAAqC,KAAK,KAAK,KAAK,KAAK;AAC3D,iBAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK;AAAA,iBAC7B;AACL,iBAAK,IAAI,OAAO,KAAK,KAAK;AAAA;AAAA;AAG9B,aAAK,QAAQ;AACb,UAAE,KAAK;AAAA;AAGT,aAAO;AAAA;AAGT,oBAAgB,UAAU,qBAAqB,uBAAuB,GAAG,MAAM;AAC7E,UAAI,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAC5D,UAAE,KAAK;AACP,YAAI,CAAC,KAAK,iBAAiB,2BAA2B,KAAK,SAAS;AAClE,eAAK,aAAa;AAClB,eAAK,QAAQ;AAAA,mBACJ,KAAK,WAAW,IAAI;AAC7B,eAAK,IAAI,OAAO;AAChB,cAAI,KAAK,eAAe;AACtB,mBAAO;AAAA;AAET,eAAK,QAAQ;AAAA,eACR;AACL,cAAI,OAAO,UAAU,KAAK,QAAQ,UAAU,KAAK;AACjD,cAAI,SAAS,SAAS;AACpB,mBAAO;AAAA;AAET,cAAI,SAAS,aAAa;AACxB,mBAAO;AAAA;AAET,eAAK,IAAI,OAAO;AAEhB,cAAI,KAAK,eAAe;AACtB,mBAAO;AAAA;AAGT,eAAK,SAAS;AACd,eAAK,QAAQ;AAAA;AAAA,aAEV;AACL,aAAK,UAAU;AAAA;AAGjB,aAAO;AAAA;AAGT,oBAAgB,UAAU,sBAAsB,wBAAwB,GAAG;AACzE,UAAI,UAAU,KAAK,MAAM;AACvB,YAAI,MAAM,IAAI;AACZ,eAAK,aAAa;AAAA;AAEpB,aAAK,QAAQ;AAEb,YAAI,MAAM,MAAM,MAAM,IAAI;AACxB,YAAE,KAAK;AAAA;AAAA,iBAEA,CAAC,KAAK,iBAAiB,MAAM,IAAI;AAC1C,aAAK,IAAI,QAAQ;AACjB,aAAK,QAAQ;AAAA,iBACJ,CAAC,KAAK,iBAAiB,MAAM,IAAI;AAC1C,aAAK,IAAI,WAAW;AACpB,aAAK,QAAQ;AAAA,iBACJ,MAAM,QAAW;AAC1B,aAAK,QAAQ;AACb,YAAI,MAAM,IAAI;AACZ,YAAE,KAAK;AAAA;AAAA;AAIX,aAAO;AAAA;AAGT,oBAAgB,UAAU,gBAAgB,mBAAmB,GAAG;AAC9D,UAAI,MAAM,MAAM,MAAM,MAAO,UAAU,KAAK,QAAQ,MAAM,MACrD,CAAC,KAAK,iBAAkB,OAAM,MAAM,MAAM,KAAM;AACnD,YAAI,UAAU,KAAK,QAAQ,MAAM,IAAI;AACnC,eAAK,aAAa;AAAA;AAGpB,YAAI,YAAY,KAAK,SAAS;AAC5B,sBAAY,KAAK;AACjB,cAAI,MAAM,MAAM,CAAE,WAAU,KAAK,QAAQ,MAAM,KAAK;AAClD,iBAAK,IAAI,KAAK,KAAK;AAAA;AAAA,mBAEZ,YAAY,KAAK,WAAW,MAAM,MAClC,CAAE,WAAU,KAAK,QAAQ,MAAM,KAAK;AAC7C,eAAK,IAAI,KAAK,KAAK;AAAA,mBACV,CAAC,YAAY,KAAK,SAAS;AACpC,cAAI,KAAK,IAAI,WAAW,UAAU,KAAK,IAAI,KAAK,WAAW,KAAK,2BAA2B,KAAK,SAAS;AACvG,gBAAI,KAAK,IAAI,SAAS,MAAM,KAAK,IAAI,SAAS,MAAM;AAClD,mBAAK,aAAa;AAClB,mBAAK,IAAI,OAAO;AAAA;AAElB,iBAAK,SAAS,KAAK,OAAO,KAAK;AAAA;AAEjC,eAAK,IAAI,KAAK,KAAK,KAAK;AAAA;AAE1B,aAAK,SAAS;AACd,YAAI,KAAK,IAAI,WAAW,UAAW,OAAM,UAAa,MAAM,MAAM,MAAM,KAAK;AAC3E,iBAAO,KAAK,IAAI,KAAK,SAAS,KAAK,KAAK,IAAI,KAAK,OAAO,IAAI;AAC1D,iBAAK,aAAa;AAClB,iBAAK,IAAI,KAAK;AAAA;AAAA;AAGlB,YAAI,MAAM,IAAI;AACZ,eAAK,IAAI,QAAQ;AACjB,eAAK,QAAQ;AAAA;AAEf,YAAI,MAAM,IAAI;AACZ,eAAK,IAAI,WAAW;AACpB,eAAK,QAAQ;AAAA;AAAA,aAEV;AAGL,YAAI,MAAM,MACP,EAAC,WAAW,KAAK,MAAM,KAAK,UAAU,OACrC,CAAC,WAAW,KAAK,MAAM,KAAK,UAAU,MAAM;AAC9C,eAAK,aAAa;AAAA;AAGpB,aAAK,UAAU,kBAAkB,GAAG;AAAA;AAGtC,aAAO;AAAA;AAGT,oBAAgB,UAAU,qCAAqC,mCAAmC,GAAG;AACnG,UAAI,MAAM,IAAI;AACZ,aAAK,IAAI,QAAQ;AACjB,aAAK,QAAQ;AAAA,iBACJ,MAAM,IAAI;AACnB,aAAK,IAAI,WAAW;AACpB,aAAK,QAAQ;AAAA,aACR;AAEL,YAAI,CAAC,MAAM,MAAM,MAAM,IAAI;AACzB,eAAK,aAAa;AAAA;AAGpB,YAAI,MAAM,MACL,EAAC,WAAW,KAAK,MAAM,KAAK,UAAU,OACtC,CAAC,WAAW,KAAK,MAAM,KAAK,UAAU,MAAM;AAC/C,eAAK,aAAa;AAAA;AAGpB,YAAI,CAAC,MAAM,IAAI;AACb,eAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,kBAAkB,GAAG;AAAA;AAAA;AAI/D,aAAO;AAAA;AAGT,oBAAgB,UAAU,iBAAiB,oBAAoB,GAAG,MAAM;AACtE,UAAI,MAAM,MAAO,CAAC,KAAK,iBAAiB,MAAM,IAAK;AACjD,YAAI,CAAC,UAAU,KAAK,QAAQ,KAAK,IAAI,WAAW,QAAQ,KAAK,IAAI,WAAW,OAAO;AACjF,eAAK,mBAAmB;AAAA;AAG1B,cAAM,SAAS,IAAI,OAAO,KAAK;AAC/B,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACtC,cAAI,OAAO,KAAK,MAAQ,OAAO,KAAK,OAAQ,OAAO,OAAO,MAAQ,OAAO,OAAO,MAC5E,OAAO,OAAO,MAAQ,OAAO,OAAO,IAAM;AAC5C,iBAAK,IAAI,SAAS,cAAc,OAAO;AAAA,iBAClC;AACL,iBAAK,IAAI,SAAS,OAAO,cAAc,OAAO;AAAA;AAAA;AAIlD,aAAK,SAAS;AACd,YAAI,MAAM,IAAI;AACZ,eAAK,IAAI,WAAW;AACpB,eAAK,QAAQ;AAAA;AAAA,aAEV;AAEL,YAAI,MAAM,MACP,EAAC,WAAW,KAAK,MAAM,KAAK,UAAU,OACrC,CAAC,WAAW,KAAK,MAAM,KAAK,UAAU,MAAM;AAC9C,eAAK,aAAa;AAAA;AAGpB,aAAK,UAAU;AAAA;AAGjB,aAAO;AAAA;AAGT,oBAAgB,UAAU,oBAAoB,uBAAuB,GAAG;AACtE,UAAI,MAAM,IAAI;AAAA,iBACH,MAAM,GAAK;AACpB,aAAK,aAAa;AAAA,aACb;AAEL,YAAI,MAAM,MACP,EAAC,WAAW,KAAK,MAAM,KAAK,UAAU,OACrC,CAAC,WAAW,KAAK,MAAM,KAAK,UAAU,MAAM;AAC9C,eAAK,aAAa;AAAA;AAGpB,aAAK,IAAI,YAAY,kBAAkB,GAAG;AAAA;AAG5C,aAAO;AAAA;AAGT,0BAAsB,KAAK,iBAAiB;AAC1C,UAAI,SAAS,IAAI,SAAS;AAC1B,UAAI,IAAI,SAAS,MAAM;AACrB,kBAAU;AAEV,YAAI,IAAI,aAAa,MAAM,IAAI,aAAa,IAAI;AAC9C,oBAAU,IAAI;AACd,cAAI,IAAI,aAAa,IAAI;AACvB,sBAAU,MAAM,IAAI;AAAA;AAEtB,oBAAU;AAAA;AAGZ,kBAAU,cAAc,IAAI;AAE5B,YAAI,IAAI,SAAS,MAAM;AACrB,oBAAU,MAAM,IAAI;AAAA;AAAA,iBAEb,IAAI,SAAS,QAAQ,IAAI,WAAW,QAAQ;AACrD,kBAAU;AAAA;AAGZ,UAAI,IAAI,kBAAkB;AACxB,kBAAU,IAAI,KAAK;AAAA,aACd;AACL,mBAAW,UAAU,IAAI,MAAM;AAC7B,oBAAU,MAAM;AAAA;AAAA;AAIpB,UAAI,IAAI,UAAU,MAAM;AACtB,kBAAU,MAAM,IAAI;AAAA;AAGtB,UAAI,CAAC,mBAAmB,IAAI,aAAa,MAAM;AAC7C,kBAAU,MAAM,IAAI;AAAA;AAGtB,aAAO;AAAA;AAGT,6BAAyB,OAAO;AAC9B,UAAI,SAAS,MAAM,SAAS;AAC5B,gBAAU,cAAc,MAAM;AAE9B,UAAI,MAAM,SAAS,MAAM;AACvB,kBAAU,MAAM,MAAM;AAAA;AAGxB,aAAO;AAAA;AAGT,YAAO,QAAQ,eAAe;AAE9B,YAAO,QAAQ,qBAAqB,SAAU,KAAK;AAEjD,cAAQ,IAAI;AAAA,aACL;AACH,cAAI;AACF,mBAAO,QAAO,QAAQ,mBAAmB,QAAO,QAAQ,SAAS,IAAI,KAAK;AAAA,mBACnE,GAAP;AAEA,mBAAO;AAAA;AAAA,aAEN;AAAA,aACA;AAAA,aACA;AAAA,aACA;AAAA,aACA;AAAA,aACA;AACH,iBAAO,gBAAgB;AAAA,YACrB,QAAQ,IAAI;AAAA,YACZ,MAAM,IAAI;AAAA,YACV,MAAM,IAAI;AAAA;AAAA,aAET;AAEH,iBAAO;AAAA;AAGP,iBAAO;AAAA;AAAA;AAIb,YAAO,QAAQ,gBAAgB,SAAU,OAAO,SAAS;AACvD,UAAI,YAAY,QAAW;AACzB,kBAAU;AAAA;AAGZ,YAAM,MAAM,IAAI,gBAAgB,OAAO,QAAQ,SAAS,QAAQ,kBAAkB,QAAQ,KAAK,QAAQ;AACvG,UAAI,IAAI,SAAS;AACf,eAAO;AAAA;AAGT,aAAO,IAAI;AAAA;AAGb,YAAO,QAAQ,iBAAiB,SAAU,KAAK,UAAU;AACvD,UAAI,WAAW;AACf,YAAM,UAAU,SAAS,KAAK,OAAO;AACrC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACvC,YAAI,YAAY,kBAAkB,QAAQ,IAAI;AAAA;AAAA;AAIlD,YAAO,QAAQ,iBAAiB,SAAU,KAAK,UAAU;AACvD,UAAI,WAAW;AACf,YAAM,UAAU,SAAS,KAAK,OAAO;AACrC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACvC,YAAI,YAAY,kBAAkB,QAAQ,IAAI;AAAA;AAAA;AAIlD,YAAO,QAAQ,gBAAgB;AAE/B,YAAO,QAAQ,kCAAkC;AAEjD,YAAO,QAAQ,mBAAmB,SAAU,SAAS;AACnD,aAAO,OAAO;AAAA;AAGhB,YAAO,QAAQ,WAAW,SAAU,OAAO,SAAS;AAClD,UAAI,YAAY,QAAW;AACzB,kBAAU;AAAA;AAIZ,aAAO,QAAO,QAAQ,cAAc,OAAO,EAAE,SAAS,QAAQ,SAAS,kBAAkB,QAAQ;AAAA;AAAA;AAAA;;;AC/wCnG;AAAA;AAAA;AACA,QAAM,MAAM;AAEZ,YAAQ,iBAAiB,cAAc;AAAA,MACrC,YAAY,iBAAiB;AAC3B,cAAM,MAAM,gBAAgB;AAC5B,cAAM,OAAO,gBAAgB;AAE7B,YAAI,aAAa;AACjB,YAAI,SAAS,QAAW;AACtB,uBAAa,IAAI,cAAc;AAC/B,cAAI,eAAe,WAAW;AAC5B,kBAAM,IAAI,UAAU;AAAA;AAAA;AAIxB,cAAM,YAAY,IAAI,cAAc,KAAK,EAAE,SAAS;AACpD,YAAI,cAAc,WAAW;AAC3B,gBAAM,IAAI,UAAU;AAAA;AAGtB,aAAK,OAAO;AAAA;AAAA,UAKV,OAAO;AACT,eAAO,IAAI,aAAa,KAAK;AAAA;AAAA,UAG3B,KAAK,GAAG;AACV,cAAM,YAAY,IAAI,cAAc;AACpC,YAAI,cAAc,WAAW;AAC3B,gBAAM,IAAI,UAAU;AAAA;AAGtB,aAAK,OAAO;AAAA;AAAA,UAGV,SAAS;AACX,eAAO,IAAI,mBAAmB,KAAK;AAAA;AAAA,UAGjC,WAAW;AACb,eAAO,KAAK,KAAK,SAAS;AAAA;AAAA,UAGxB,SAAS,GAAG;AACd,YAAI,cAAc,IAAI,KAAK,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA,UAG1D,WAAW;AACb,eAAO,KAAK,KAAK;AAAA;AAAA,UAGf,SAAS,GAAG;AACd,YAAI,IAAI,gCAAgC,KAAK,OAAO;AAClD;AAAA;AAGF,YAAI,eAAe,KAAK,MAAM;AAAA;AAAA,UAG5B,WAAW;AACb,eAAO,KAAK,KAAK;AAAA;AAAA,UAGf,SAAS,GAAG;AACd,YAAI,IAAI,gCAAgC,KAAK,OAAO;AAClD;AAAA;AAGF,YAAI,eAAe,KAAK,MAAM;AAAA;AAAA,UAG5B,OAAO;AACT,cAAM,MAAM,KAAK;AAEjB,YAAI,IAAI,SAAS,MAAM;AACrB,iBAAO;AAAA;AAGT,YAAI,IAAI,SAAS,MAAM;AACrB,iBAAO,IAAI,cAAc,IAAI;AAAA;AAG/B,eAAO,IAAI,cAAc,IAAI,QAAQ,MAAM,IAAI,iBAAiB,IAAI;AAAA;AAAA,UAGlE,KAAK,GAAG;AACV,YAAI,KAAK,KAAK,kBAAkB;AAC9B;AAAA;AAGF,YAAI,cAAc,GAAG,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA,UAGpD,WAAW;AACb,YAAI,KAAK,KAAK,SAAS,MAAM;AAC3B,iBAAO;AAAA;AAGT,eAAO,IAAI,cAAc,KAAK,KAAK;AAAA;AAAA,UAGjC,SAAS,GAAG;AACd,YAAI,KAAK,KAAK,kBAAkB;AAC9B;AAAA;AAGF,YAAI,cAAc,GAAG,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA,UAGpD,OAAO;AACT,YAAI,KAAK,KAAK,SAAS,MAAM;AAC3B,iBAAO;AAAA;AAGT,eAAO,IAAI,iBAAiB,KAAK,KAAK;AAAA;AAAA,UAGpC,KAAK,GAAG;AACV,YAAI,IAAI,gCAAgC,KAAK,OAAO;AAClD;AAAA;AAGF,YAAI,MAAM,IAAI;AACZ,eAAK,KAAK,OAAO;AAAA,eACZ;AACL,cAAI,cAAc,GAAG,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA;AAAA,UAItD,WAAW;AACb,YAAI,KAAK,KAAK,kBAAkB;AAC9B,iBAAO,KAAK,KAAK,KAAK;AAAA;AAGxB,YAAI,KAAK,KAAK,KAAK,WAAW,GAAG;AAC/B,iBAAO;AAAA;AAGT,eAAO,MAAM,KAAK,KAAK,KAAK,KAAK;AAAA;AAAA,UAG/B,SAAS,GAAG;AACd,YAAI,KAAK,KAAK,kBAAkB;AAC9B;AAAA;AAGF,aAAK,KAAK,OAAO;AACjB,YAAI,cAAc,GAAG,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA,UAGpD,SAAS;AACX,YAAI,KAAK,KAAK,UAAU,QAAQ,KAAK,KAAK,UAAU,IAAI;AACtD,iBAAO;AAAA;AAGT,eAAO,MAAM,KAAK,KAAK;AAAA;AAAA,UAGrB,OAAO,GAAG;AAGZ,cAAM,MAAM,KAAK;AAEjB,YAAI,MAAM,IAAI;AACZ,cAAI,QAAQ;AACZ;AAAA;AAGF,cAAM,QAAQ,EAAE,OAAO,MAAM,EAAE,UAAU,KAAK;AAC9C,YAAI,QAAQ;AACZ,YAAI,cAAc,OAAO,EAAE,KAAK,eAAe;AAAA;AAAA,UAG7C,OAAO;AACT,YAAI,KAAK,KAAK,aAAa,QAAQ,KAAK,KAAK,aAAa,IAAI;AAC5D,iBAAO;AAAA;AAGT,eAAO,MAAM,KAAK,KAAK;AAAA;AAAA,UAGrB,KAAK,GAAG;AACV,YAAI,MAAM,IAAI;AACZ,eAAK,KAAK,WAAW;AACrB;AAAA;AAGF,cAAM,QAAQ,EAAE,OAAO,MAAM,EAAE,UAAU,KAAK;AAC9C,aAAK,KAAK,WAAW;AACrB,YAAI,cAAc,OAAO,EAAE,KAAK,KAAK,MAAM,eAAe;AAAA;AAAA,MAG5D,SAAS;AACP,eAAO,KAAK;AAAA;AAAA;AAAA;AAAA;;;ACrMhB;AAAA;AAAA;AAEA,QAAM,cAAc;AACpB,QAAM,QAAQ;AACd,QAAM,OAAO;AAEb,QAAM,OAAO,MAAM;AAEnB,iBAAa,KAAK;AAChB,UAAI,CAAC,QAAQ,KAAK,SAAS,CAAE,iBAAgB,MAAM;AACjD,cAAM,IAAI,UAAU;AAAA;AAEtB,UAAI,UAAU,SAAS,GAAG;AACxB,cAAM,IAAI,UAAU,8DAA8D,UAAU,SAAS;AAAA;AAEvG,YAAM,OAAO;AACb,eAAS,IAAI,GAAG,IAAI,UAAU,UAAU,IAAI,GAAG,EAAE,GAAG;AAClD,aAAK,KAAK,UAAU;AAAA;AAEtB,WAAK,KAAK,YAAY,aAAa,KAAK;AACxC,UAAI,KAAK,OAAO,QAAW;AAC3B,aAAK,KAAK,YAAY,aAAa,KAAK;AAAA;AAGxC,cAAO,QAAQ,MAAM,MAAM;AAAA;AAG7B,QAAI,UAAU,SAAS,kBAAkB;AACvC,UAAI,CAAC,QAAQ,CAAC,QAAO,QAAQ,GAAG,OAAO;AACrC,cAAM,IAAI,UAAU;AAAA;AAEtB,YAAM,OAAO;AACb,eAAS,IAAI,GAAG,IAAI,UAAU,UAAU,IAAI,GAAG,EAAE,GAAG;AAClD,aAAK,KAAK,UAAU;AAAA;AAEtB,aAAO,KAAK,MAAM,OAAO,MAAM,KAAK,OAAO;AAAA;AAE7C,WAAO,eAAe,IAAI,WAAW,QAAQ;AAAA,MAC3C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,OAAO;AAAA;AAAA,MAEpB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,QAAI,UAAU,WAAW,WAAY;AACnC,UAAI,CAAC,QAAQ,CAAC,QAAO,QAAQ,GAAG,OAAO;AACrC,cAAM,IAAI,UAAU;AAAA;AAEtB,aAAO,KAAK;AAAA;AAGd,WAAO,eAAe,IAAI,WAAW,UAAU;AAAA,MAC7C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,YAAY;AAAA,MAC/C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,WAAW;AAAA;AAAA,MAExB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,YAAY;AAAA,MAC/C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,WAAW;AAAA;AAAA,MAExB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,YAAY;AAAA,MAC/C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,WAAW;AAAA;AAAA,MAExB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,QAAQ;AAAA,MAC3C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,OAAO;AAAA;AAAA,MAEpB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,YAAY;AAAA,MAC/C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,WAAW;AAAA;AAAA,MAExB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,QAAQ;AAAA,MAC3C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,OAAO;AAAA;AAAA,MAEpB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,YAAY;AAAA,MAC/C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,WAAW;AAAA;AAAA,MAExB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,UAAU;AAAA,MAC7C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,SAAS;AAAA;AAAA,MAEtB,YAAY;AAAA,MACZ,cAAc;AAAA;AAGhB,WAAO,eAAe,IAAI,WAAW,QAAQ;AAAA,MAC3C,MAAM;AACJ,eAAO,KAAK,MAAM;AAAA;AAAA,MAEpB,IAAI,GAAG;AACL,YAAI,YAAY,aAAa;AAC7B,aAAK,MAAM,OAAO;AAAA;AAAA,MAEpB,YAAY;AAAA,MACZ,cAAc;AAAA;AAIhB,YAAO,UAAU;AAAA,MACf,GAAG,KAAK;AACN,eAAO,CAAC,CAAC,OAAO,IAAI,iBAAiB,KAAK;AAAA;AAAA,MAE5C,OAAO,iBAAiB,aAAa;AACnC,YAAI,MAAM,OAAO,OAAO,IAAI;AAC5B,aAAK,MAAM,KAAK,iBAAiB;AACjC,eAAO;AAAA;AAAA,MAET,MAAM,KAAK,iBAAiB,aAAa;AACvC,YAAI,CAAC;AAAa,wBAAc;AAChC,oBAAY,UAAU;AAEtB,YAAI,QAAQ,IAAI,KAAK,eAAe,iBAAiB;AACrD,YAAI,MAAM,MAAM,iBAAiB;AAAA;AAAA,MAEnC,WAAW;AAAA,MACX,QAAQ;AAAA,QACN,QAAQ,EAAE;AAAA,QACV,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA;;;AChMd;AAAA;AAAA;AAEA,YAAQ,MAAM,cAAiB;AAC/B,YAAQ,eAAe,4BAA+B;AACtD,YAAQ,qBAAqB,4BAA+B;AAC5D,YAAQ,gBAAgB,4BAA+B;AACvD,YAAQ,iBAAiB,4BAA+B;AACxD,YAAQ,iBAAiB,4BAA+B;AACxD,YAAQ,gBAAgB,4BAA+B;AACvD,YAAQ,mBAAmB,4BAA+B;AAC1D,YAAQ,WAAW,4BAA+B;AAAA;AAAA;;;ACVlD;AAAA;AAAA;AAEA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AAEtD,6BAA0B,IAAI;AAAE,aAAQ,MAAO,OAAO,OAAO,YAAa,aAAa,KAAM,GAAG,aAAa;AAAA;AAE7G,QAAI,SAAS,gBAAgB,QAAQ;AACrC,QAAI,OAAO,gBAAgB,QAAQ;AACnC,QAAI,MAAM,gBAAgB,QAAQ;AAClC,QAAI,YAAY,gBAAgB;AAChC,QAAI,QAAQ,gBAAgB,QAAQ;AACpC,QAAI,OAAO,gBAAgB,QAAQ;AAKnC,QAAM,WAAW,OAAO;AAExB,QAAM,SAAS,OAAO;AACtB,QAAM,OAAO,OAAO;AAEpB,qBAAW;AAAA,MACV,cAAc;AACb,aAAK,QAAQ;AAEb,cAAM,YAAY,UAAU;AAC5B,cAAM,UAAU,UAAU;AAE1B,cAAM,UAAU;AAChB,YAAI,OAAO;AAEX,YAAI,WAAW;AACd,gBAAM,IAAI;AACV,gBAAM,SAAS,OAAO,EAAE;AACxB,mBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,kBAAM,UAAU,EAAE;AAClB,gBAAI;AACJ,gBAAI,mBAAmB,QAAQ;AAC9B,uBAAS;AAAA,uBACC,YAAY,OAAO,UAAU;AACvC,uBAAS,OAAO,KAAK,QAAQ,QAAQ,QAAQ,YAAY,QAAQ;AAAA,uBACvD,mBAAmB,aAAa;AAC1C,uBAAS,OAAO,KAAK;AAAA,uBACX,mBAAmB,MAAM;AACnC,uBAAS,QAAQ;AAAA,mBACX;AACN,uBAAS,OAAO,KAAK,OAAO,YAAY,WAAW,UAAU,OAAO;AAAA;AAErE,oBAAQ,OAAO;AACf,oBAAQ,KAAK;AAAA;AAAA;AAIf,aAAK,UAAU,OAAO,OAAO;AAE7B,YAAI,OAAO,WAAW,QAAQ,SAAS,UAAa,OAAO,QAAQ,MAAM;AACzE,YAAI,QAAQ,CAAC,mBAAmB,KAAK,OAAO;AAC3C,eAAK,QAAQ;AAAA;AAAA;AAAA,UAGX,OAAO;AACV,eAAO,KAAK,QAAQ;AAAA;AAAA,UAEjB,OAAO;AACV,eAAO,KAAK;AAAA;AAAA,MAEb,OAAO;AACN,eAAO,QAAQ,QAAQ,KAAK,QAAQ;AAAA;AAAA,MAErC,cAAc;AACb,cAAM,MAAM,KAAK;AACjB,cAAM,KAAK,IAAI,OAAO,MAAM,IAAI,YAAY,IAAI,aAAa,IAAI;AACjE,eAAO,QAAQ,QAAQ;AAAA;AAAA,MAExB,SAAS;AACR,cAAM,WAAW,IAAI;AACrB,iBAAS,QAAQ,WAAY;AAAA;AAC7B,iBAAS,KAAK,KAAK;AACnB,iBAAS,KAAK;AACd,eAAO;AAAA;AAAA,MAER,WAAW;AACV,eAAO;AAAA;AAAA,MAER,QAAQ;AACP,cAAM,OAAO,KAAK;AAElB,cAAM,QAAQ,UAAU;AACxB,cAAM,MAAM,UAAU;AACtB,YAAI,eAAe;AACnB,YAAI,UAAU,QAAW;AACxB,0BAAgB;AAAA,mBACN,QAAQ,GAAG;AACrB,0BAAgB,KAAK,IAAI,OAAO,OAAO;AAAA,eACjC;AACN,0BAAgB,KAAK,IAAI,OAAO;AAAA;AAEjC,YAAI,QAAQ,QAAW;AACtB,wBAAc;AAAA,mBACJ,MAAM,GAAG;AACnB,wBAAc,KAAK,IAAI,OAAO,KAAK;AAAA,eAC7B;AACN,wBAAc,KAAK,IAAI,KAAK;AAAA;AAE7B,cAAM,OAAO,KAAK,IAAI,cAAc,eAAe;AAEnD,cAAM,SAAS,KAAK;AACpB,cAAM,eAAe,OAAO,MAAM,eAAe,gBAAgB;AACjE,cAAM,OAAO,IAAI,KAAK,IAAI,EAAE,MAAM,UAAU;AAC5C,aAAK,UAAU;AACf,eAAO;AAAA;AAAA;AAIT,WAAO,iBAAiB,KAAK,WAAW;AAAA,MACvC,MAAM,EAAE,YAAY;AAAA,MACpB,MAAM,EAAE,YAAY;AAAA,MACpB,OAAO,EAAE,YAAY;AAAA;AAGtB,WAAO,eAAe,KAAK,WAAW,OAAO,aAAa;AAAA,MACzD,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,cAAc;AAAA;AAiBf,wBAAoB,SAAS,MAAM,aAAa;AAC9C,YAAM,KAAK,MAAM;AAEjB,WAAK,UAAU;AACf,WAAK,OAAO;AAGZ,UAAI,aAAa;AACf,aAAK,OAAO,KAAK,QAAQ,YAAY;AAAA;AAIvC,YAAM,kBAAkB,MAAM,KAAK;AAAA;AAGrC,eAAW,YAAY,OAAO,OAAO,MAAM;AAC3C,eAAW,UAAU,cAAc;AACnC,eAAW,UAAU,OAAO;AAE5B,QAAI;AACJ,QAAI;AACH,gBAAU,QAAQ,YAAY;AAAA,aACtB,GAAP;AAAA;AAEF,QAAM,YAAY,OAAO;AAGzB,QAAM,cAAc,OAAO;AAW3B,kBAAc,MAAM;AACnB,UAAI,QAAQ;AAEZ,UAAI,OAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK,IAC3E,YAAY,KAAK;AAErB,UAAI,OAAO,cAAc,SAAY,IAAI;AACzC,UAAI,eAAe,KAAK;AACxB,UAAI,UAAU,iBAAiB,SAAY,IAAI;AAE/C,UAAI,QAAQ,MAAM;AAEjB,eAAO;AAAA,iBACG,kBAAkB,OAAO;AAEnC,eAAO,OAAO,KAAK,KAAK;AAAA,iBACd,OAAO;AAAO;AAAA,eAAW,OAAO,SAAS;AAAO;AAAA,eAAW,OAAO,UAAU,SAAS,KAAK,UAAU,wBAAwB;AAEtI,eAAO,OAAO,KAAK;AAAA,iBACT,YAAY,OAAO,OAAO;AAEpC,eAAO,OAAO,KAAK,KAAK,QAAQ,KAAK,YAAY,KAAK;AAAA,iBAC5C,gBAAgB;AAAQ;AAAA,WAAO;AAGzC,eAAO,OAAO,KAAK,OAAO;AAAA;AAE3B,WAAK,aAAa;AAAA,QACjB;AAAA,QACA,WAAW;AAAA,QACX,OAAO;AAAA;AAER,WAAK,OAAO;AACZ,WAAK,UAAU;AAEf,UAAI,gBAAgB,QAAQ;AAC3B,aAAK,GAAG,SAAS,SAAU,KAAK;AAC/B,gBAAM,QAAQ,IAAI,SAAS,eAAe,MAAM,IAAI,WAAW,+CAA+C,MAAM,QAAQ,IAAI,WAAW,UAAU;AACrJ,gBAAM,WAAW,QAAQ;AAAA;AAAA;AAAA;AAK5B,SAAK,YAAY;AAAA,UACZ,OAAO;AACV,eAAO,KAAK,WAAW;AAAA;AAAA,UAGpB,WAAW;AACd,eAAO,KAAK,WAAW;AAAA;AAAA,MAQxB,cAAc;AACb,eAAO,YAAY,KAAK,MAAM,KAAK,SAAU,KAAK;AACjD,iBAAO,IAAI,OAAO,MAAM,IAAI,YAAY,IAAI,aAAa,IAAI;AAAA;AAAA;AAAA,MAS/D,OAAO;AACN,YAAI,KAAK,KAAK,WAAW,KAAK,QAAQ,IAAI,mBAAmB;AAC7D,eAAO,YAAY,KAAK,MAAM,KAAK,SAAU,KAAK;AACjD,iBAAO,OAAO,OAEd,IAAI,KAAK,IAAI;AAAA,YACZ,MAAM,GAAG;AAAA,cACN;AAAA,aACF,SAAS;AAAA;AAAA;AAAA;AAAA,MAUb,OAAO;AACN,YAAI,SAAS;AAEb,eAAO,YAAY,KAAK,MAAM,KAAK,SAAU,QAAQ;AACpD,cAAI;AACH,mBAAO,KAAK,MAAM,OAAO;AAAA,mBACjB,KAAP;AACD,mBAAO,KAAK,QAAQ,OAAO,IAAI,WAAW,iCAAiC,OAAO,eAAe,IAAI,WAAW;AAAA;AAAA;AAAA;AAAA,MAUnH,OAAO;AACN,eAAO,YAAY,KAAK,MAAM,KAAK,SAAU,QAAQ;AACpD,iBAAO,OAAO;AAAA;AAAA;AAAA,MAShB,SAAS;AACR,eAAO,YAAY,KAAK;AAAA;AAAA,MASzB,gBAAgB;AACf,YAAI,SAAS;AAEb,eAAO,YAAY,KAAK,MAAM,KAAK,SAAU,QAAQ;AACpD,iBAAO,YAAY,QAAQ,OAAO;AAAA;AAAA;AAAA;AAMrC,WAAO,iBAAiB,KAAK,WAAW;AAAA,MACvC,MAAM,EAAE,YAAY;AAAA,MACpB,UAAU,EAAE,YAAY;AAAA,MACxB,aAAa,EAAE,YAAY;AAAA,MAC3B,MAAM,EAAE,YAAY;AAAA,MACpB,MAAM,EAAE,YAAY;AAAA,MACpB,MAAM,EAAE,YAAY;AAAA;AAGrB,SAAK,QAAQ,SAAU,OAAO;AAC7B,iBAAW,QAAQ,OAAO,oBAAoB,KAAK,YAAY;AAE9D,YAAI,CAAE,SAAQ,QAAQ;AACrB,gBAAM,OAAO,OAAO,yBAAyB,KAAK,WAAW;AAC7D,iBAAO,eAAe,OAAO,MAAM;AAAA;AAAA;AAAA;AAYtC,2BAAuB;AACtB,UAAI,SAAS;AAEb,UAAI,KAAK,WAAW,WAAW;AAC9B,eAAO,KAAK,QAAQ,OAAO,IAAI,UAAU,0BAA0B,KAAK;AAAA;AAGzE,WAAK,WAAW,YAAY;AAE5B,UAAI,KAAK,WAAW,OAAO;AAC1B,eAAO,KAAK,QAAQ,OAAO,KAAK,WAAW;AAAA;AAG5C,UAAI,OAAO,KAAK;AAGhB,UAAI,SAAS,MAAM;AAClB,eAAO,KAAK,QAAQ,QAAQ,OAAO,MAAM;AAAA;AAI1C,UAAI,OAAO,OAAO;AACjB,eAAO,KAAK;AAAA;AAIb,UAAI,OAAO,SAAS,OAAO;AAC1B,eAAO,KAAK,QAAQ,QAAQ;AAAA;AAI7B,UAAI,CAAE,iBAAgB,SAAS;AAC9B,eAAO,KAAK,QAAQ,QAAQ,OAAO,MAAM;AAAA;AAK1C,UAAI,QAAQ;AACZ,UAAI,aAAa;AACjB,UAAI,QAAQ;AAEZ,aAAO,IAAI,KAAK,QAAQ,SAAU,SAAS,QAAQ;AAClD,YAAI;AAGJ,YAAI,OAAO,SAAS;AACnB,uBAAa,WAAW,WAAY;AACnC,oBAAQ;AACR,mBAAO,IAAI,WAAW,0CAA0C,OAAO,aAAa,OAAO,cAAc;AAAA,aACvG,OAAO;AAAA;AAIX,aAAK,GAAG,SAAS,SAAU,KAAK;AAC/B,cAAI,IAAI,SAAS,cAAc;AAE9B,oBAAQ;AACR,mBAAO;AAAA,iBACD;AAEN,mBAAO,IAAI,WAAW,+CAA+C,OAAO,QAAQ,IAAI,WAAW,UAAU;AAAA;AAAA;AAI/G,aAAK,GAAG,QAAQ,SAAU,OAAO;AAChC,cAAI,SAAS,UAAU,MAAM;AAC5B;AAAA;AAGD,cAAI,OAAO,QAAQ,aAAa,MAAM,SAAS,OAAO,MAAM;AAC3D,oBAAQ;AACR,mBAAO,IAAI,WAAW,mBAAmB,OAAO,mBAAmB,OAAO,QAAQ;AAClF;AAAA;AAGD,wBAAc,MAAM;AACpB,gBAAM,KAAK;AAAA;AAGZ,aAAK,GAAG,OAAO,WAAY;AAC1B,cAAI,OAAO;AACV;AAAA;AAGD,uBAAa;AAEb,cAAI;AACH,oBAAQ,OAAO,OAAO,OAAO;AAAA,mBACrB,KAAP;AAED,mBAAO,IAAI,WAAW,kDAAkD,OAAO,QAAQ,IAAI,WAAW,UAAU;AAAA;AAAA;AAAA;AAAA;AAcpH,yBAAqB,QAAQ,SAAS;AACrC,UAAI,OAAO,YAAY,YAAY;AAClC,cAAM,IAAI,MAAM;AAAA;AAGjB,YAAM,KAAK,QAAQ,IAAI;AACvB,UAAI,UAAU;AACd,UAAI,KAAK;AAGT,UAAI,IAAI;AACP,cAAM,mBAAmB,KAAK;AAAA;AAI/B,YAAM,OAAO,MAAM,GAAG,MAAM;AAG5B,UAAI,CAAC,OAAO,KAAK;AAChB,cAAM,iCAAiC,KAAK;AAAA;AAI7C,UAAI,CAAC,OAAO,KAAK;AAChB,cAAM,yEAAyE,KAAK;AACpF,YAAI,CAAC,KAAK;AACT,gBAAM,yEAAyE,KAAK;AACpF,cAAI,KAAK;AACR,gBAAI;AAAA;AAAA;AAIN,YAAI,KAAK;AACR,gBAAM,gBAAgB,KAAK,IAAI;AAAA;AAAA;AAKjC,UAAI,CAAC,OAAO,KAAK;AAChB,cAAM,mCAAmC,KAAK;AAAA;AAI/C,UAAI,KAAK;AACR,kBAAU,IAAI;AAId,YAAI,YAAY,YAAY,YAAY,OAAO;AAC9C,oBAAU;AAAA;AAAA;AAKZ,aAAO,QAAQ,QAAQ,SAAS,SAAS;AAAA;AAU1C,+BAA2B,KAAK;AAE/B,UAAI,OAAO,QAAQ,YAAY,OAAO,IAAI,WAAW,cAAc,OAAO,IAAI,WAAW,cAAc,OAAO,IAAI,QAAQ,cAAc,OAAO,IAAI,WAAW,cAAc,OAAO,IAAI,QAAQ,cAAc,OAAO,IAAI,QAAQ,YAAY;AAC3O,eAAO;AAAA;AAIR,aAAO,IAAI,YAAY,SAAS,qBAAqB,OAAO,UAAU,SAAS,KAAK,SAAS,8BAA8B,OAAO,IAAI,SAAS;AAAA;AAQhJ,oBAAgB,KAAK;AACpB,aAAO,OAAO,QAAQ,YAAY,OAAO,IAAI,gBAAgB,cAAc,OAAO,IAAI,SAAS,YAAY,OAAO,IAAI,WAAW,cAAc,OAAO,IAAI,gBAAgB,cAAc,OAAO,IAAI,YAAY,SAAS,YAAY,gBAAgB,KAAK,IAAI,YAAY,SAAS,gBAAgB,KAAK,IAAI,OAAO;AAAA;AASnT,mBAAe,UAAU;AACxB,UAAI,IAAI;AACR,UAAI,OAAO,SAAS;AAGpB,UAAI,SAAS,UAAU;AACtB,cAAM,IAAI,MAAM;AAAA;AAKjB,UAAI,gBAAgB,UAAU,OAAO,KAAK,gBAAgB,YAAY;AAErE,aAAK,IAAI;AACT,aAAK,IAAI;AACT,aAAK,KAAK;AACV,aAAK,KAAK;AAEV,iBAAS,WAAW,OAAO;AAC3B,eAAO;AAAA;AAGR,aAAO;AAAA;AAYR,gCAA4B,MAAM;AACjC,UAAI,SAAS,MAAM;AAElB,eAAO;AAAA,iBACG,OAAO,SAAS,UAAU;AAEpC,eAAO;AAAA,iBACG,kBAAkB,OAAO;AAEnC,eAAO;AAAA,iBACG,OAAO,OAAO;AAExB,eAAO,KAAK,QAAQ;AAAA,iBACV,OAAO,SAAS,OAAO;AAEjC,eAAO;AAAA,iBACG,OAAO,UAAU,SAAS,KAAK,UAAU,wBAAwB;AAE3E,eAAO;AAAA,iBACG,YAAY,OAAO,OAAO;AAEpC,eAAO;AAAA,iBACG,OAAO,KAAK,gBAAgB,YAAY;AAElD,eAAO,gCAAgC,KAAK;AAAA,iBAClC,gBAAgB,QAAQ;AAGlC,eAAO;AAAA,aACD;AAEN,eAAO;AAAA;AAAA;AAaT,2BAAuB,UAAU;AAChC,YAAM,OAAO,SAAS;AAGtB,UAAI,SAAS,MAAM;AAElB,eAAO;AAAA,iBACG,OAAO,OAAO;AACxB,eAAO,KAAK;AAAA,iBACF,OAAO,SAAS,OAAO;AAEjC,eAAO,KAAK;AAAA,iBACF,QAAQ,OAAO,KAAK,kBAAkB,YAAY;AAE5D,YAAI,KAAK,qBAAqB,KAAK,kBAAkB,UAAU,KAC/D,KAAK,kBAAkB,KAAK,kBAAkB;AAE7C,iBAAO,KAAK;AAAA;AAEb,eAAO;AAAA,aACD;AAEN,eAAO;AAAA;AAAA;AAUT,2BAAuB,MAAM,UAAU;AACtC,YAAM,OAAO,SAAS;AAGtB,UAAI,SAAS,MAAM;AAElB,aAAK;AAAA,iBACK,OAAO,OAAO;AACxB,aAAK,SAAS,KAAK;AAAA,iBACT,OAAO,SAAS,OAAO;AAEjC,aAAK,MAAM;AACX,aAAK;AAAA,aACC;AAEN,aAAK,KAAK;AAAA;AAAA;AAKZ,SAAK,UAAU,OAAO;AAQtB,QAAM,oBAAoB;AAC1B,QAAM,yBAAyB;AAE/B,0BAAsB,MAAM;AAC3B,aAAO,GAAG;AACV,UAAI,kBAAkB,KAAK,SAAS,SAAS,IAAI;AAChD,cAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAIzB,2BAAuB,OAAO;AAC7B,cAAQ,GAAG;AACX,UAAI,uBAAuB,KAAK,QAAQ;AACvC,cAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAYzB,kBAAc,KAAK,MAAM;AACxB,aAAO,KAAK;AACZ,iBAAW,OAAO,KAAK;AACtB,YAAI,IAAI,kBAAkB,MAAM;AAC/B,iBAAO;AAAA;AAAA;AAGT,aAAO;AAAA;AAGR,QAAM,MAAM,OAAO;AACnB,wBAAc;AAAA,MAOb,cAAc;AACb,YAAI,QAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAE/E,aAAK,OAAO,OAAO,OAAO;AAE1B,YAAI,iBAAgB,SAAS;AAC5B,gBAAM,aAAa,MAAK;AACxB,gBAAM,cAAc,OAAO,KAAK;AAEhC,qBAAW,cAAc,aAAa;AACrC,uBAAW,SAAS,WAAW,aAAa;AAC3C,mBAAK,OAAO,YAAY;AAAA;AAAA;AAI1B;AAAA;AAKD,YAAI,SAAQ;AAAM;AAAA,iBAAW,OAAO,UAAS,UAAU;AACtD,gBAAM,SAAS,MAAK,OAAO;AAC3B,cAAI,UAAU,MAAM;AACnB,gBAAI,OAAO,WAAW,YAAY;AACjC,oBAAM,IAAI,UAAU;AAAA;AAKrB,kBAAM,QAAQ;AACd,uBAAW,QAAQ,OAAM;AACxB,kBAAI,OAAO,SAAS,YAAY,OAAO,KAAK,OAAO,cAAc,YAAY;AAC5E,sBAAM,IAAI,UAAU;AAAA;AAErB,oBAAM,KAAK,MAAM,KAAK;AAAA;AAGvB,uBAAW,QAAQ,OAAO;AACzB,kBAAI,KAAK,WAAW,GAAG;AACtB,sBAAM,IAAI,UAAU;AAAA;AAErB,mBAAK,OAAO,KAAK,IAAI,KAAK;AAAA;AAAA,iBAErB;AAEN,uBAAW,OAAO,OAAO,KAAK,QAAO;AACpC,oBAAM,QAAQ,MAAK;AACnB,mBAAK,OAAO,KAAK;AAAA;AAAA;AAAA,eAGb;AACN,gBAAM,IAAI,UAAU;AAAA;AAAA;AAAA,MAUtB,IAAI,MAAM;AACT,eAAO,GAAG;AACV,qBAAa;AACb,cAAM,MAAM,KAAK,KAAK,MAAM;AAC5B,YAAI,QAAQ,QAAW;AACtB,iBAAO;AAAA;AAGR,eAAO,KAAK,KAAK,KAAK,KAAK;AAAA;AAAA,MAU5B,QAAQ,UAAU;AACjB,YAAI,UAAU,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAElF,YAAI,QAAQ,WAAW;AACvB,YAAI,IAAI;AACR,eAAO,IAAI,MAAM,QAAQ;AACxB,cAAI,WAAW,MAAM;AACrB,gBAAM,OAAO,SAAS,IAChB,QAAQ,SAAS;AAEvB,mBAAS,KAAK,SAAS,OAAO,MAAM;AACpC,kBAAQ,WAAW;AACnB;AAAA;AAAA;AAAA,MAWF,IAAI,MAAM,OAAO;AAChB,eAAO,GAAG;AACV,gBAAQ,GAAG;AACX,qBAAa;AACb,sBAAc;AACd,cAAM,MAAM,KAAK,KAAK,MAAM;AAC5B,aAAK,KAAK,QAAQ,SAAY,MAAM,QAAQ,CAAC;AAAA;AAAA,MAU9C,OAAO,MAAM,OAAO;AACnB,eAAO,GAAG;AACV,gBAAQ,GAAG;AACX,qBAAa;AACb,sBAAc;AACd,cAAM,MAAM,KAAK,KAAK,MAAM;AAC5B,YAAI,QAAQ,QAAW;AACtB,eAAK,KAAK,KAAK,KAAK;AAAA,eACd;AACN,eAAK,KAAK,QAAQ,CAAC;AAAA;AAAA;AAAA,MAUrB,IAAI,MAAM;AACT,eAAO,GAAG;AACV,qBAAa;AACb,eAAO,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,MASlC,OAAO,MAAM;AACZ,eAAO,GAAG;AACV,qBAAa;AACb,cAAM,MAAM,KAAK,KAAK,MAAM;AAC5B,YAAI,QAAQ,QAAW;AACtB,iBAAO,KAAK,KAAK;AAAA;AAAA;AAAA,MASnB,MAAM;AACL,eAAO,KAAK;AAAA;AAAA,MAQb,OAAO;AACN,eAAO,sBAAsB,MAAM;AAAA;AAAA,MAQpC,SAAS;AACR,eAAO,sBAAsB,MAAM;AAAA;AAAA,OAUnC,OAAO,YAAY;AACnB,eAAO,sBAAsB,MAAM;AAAA;AAAA;AAGrC,YAAQ,UAAU,UAAU,QAAQ,UAAU,OAAO;AAErD,WAAO,eAAe,QAAQ,WAAW,OAAO,aAAa;AAAA,MAC5D,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,cAAc;AAAA;AAGf,WAAO,iBAAiB,QAAQ,WAAW;AAAA,MAC1C,KAAK,EAAE,YAAY;AAAA,MACnB,SAAS,EAAE,YAAY;AAAA,MACvB,KAAK,EAAE,YAAY;AAAA,MACnB,QAAQ,EAAE,YAAY;AAAA,MACtB,KAAK,EAAE,YAAY;AAAA,MACnB,QAAQ,EAAE,YAAY;AAAA,MACtB,MAAM,EAAE,YAAY;AAAA,MACpB,QAAQ,EAAE,YAAY;AAAA,MACtB,SAAS,EAAE,YAAY;AAAA;AAGxB,wBAAoB,SAAS;AAC5B,UAAI,OAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAE/E,YAAM,OAAO,OAAO,KAAK,QAAQ,MAAM;AACvC,aAAO,KAAK,IAAI,SAAS,QAAQ,SAAU,GAAG;AAC7C,eAAO,EAAE;AAAA,UACN,SAAS,UAAU,SAAU,GAAG;AACnC,eAAO,QAAQ,KAAK,GAAG,KAAK;AAAA,UACzB,SAAU,GAAG;AAChB,eAAO,CAAC,EAAE,eAAe,QAAQ,KAAK,GAAG,KAAK;AAAA;AAAA;AAIhD,QAAM,WAAW,OAAO;AAExB,mCAA+B,QAAQ,MAAM;AAC5C,YAAM,WAAW,OAAO,OAAO;AAC/B,eAAS,YAAY;AAAA,QACpB;AAAA,QACA;AAAA,QACA,OAAO;AAAA;AAER,aAAO;AAAA;AAGR,QAAM,2BAA2B,OAAO,eAAe;AAAA,MACtD,OAAO;AAEN,YAAI,CAAC,QAAQ,OAAO,eAAe,UAAU,0BAA0B;AACtE,gBAAM,IAAI,UAAU;AAAA;AAGrB,YAAI,YAAY,KAAK;AACrB,cAAM,SAAS,UAAU,QACnB,OAAO,UAAU,MACjB,QAAQ,UAAU;AAExB,cAAM,SAAS,WAAW,QAAQ;AAClC,cAAM,MAAM,OAAO;AACnB,YAAI,SAAS,KAAK;AACjB,iBAAO;AAAA,YACN,OAAO;AAAA,YACP,MAAM;AAAA;AAAA;AAIR,aAAK,UAAU,QAAQ,QAAQ;AAE/B,eAAO;AAAA,UACN,OAAO,OAAO;AAAA,UACd,MAAM;AAAA;AAAA;AAAA,OAGN,OAAO,eAAe,OAAO,eAAe,GAAG,OAAO;AAEzD,WAAO,eAAe,0BAA0B,OAAO,aAAa;AAAA,MACnE,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,cAAc;AAAA;AASf,yCAAqC,SAAS;AAC7C,YAAM,MAAM,OAAO,OAAO,EAAE,WAAW,QAAQ,QAAQ;AAIvD,YAAM,gBAAgB,KAAK,QAAQ,MAAM;AACzC,UAAI,kBAAkB,QAAW;AAChC,YAAI,iBAAiB,IAAI,eAAe;AAAA;AAGzC,aAAO;AAAA;AAUR,kCAA8B,KAAK;AAClC,YAAM,UAAU,IAAI;AACpB,iBAAW,QAAQ,OAAO,KAAK,MAAM;AACpC,YAAI,kBAAkB,KAAK,OAAO;AACjC;AAAA;AAED,YAAI,MAAM,QAAQ,IAAI,QAAQ;AAC7B,qBAAW,OAAO,IAAI,OAAO;AAC5B,gBAAI,uBAAuB,KAAK,MAAM;AACrC;AAAA;AAED,gBAAI,QAAQ,KAAK,UAAU,QAAW;AACrC,sBAAQ,KAAK,QAAQ,CAAC;AAAA,mBAChB;AACN,sBAAQ,KAAK,MAAM,KAAK;AAAA;AAAA;AAAA,mBAGhB,CAAC,uBAAuB,KAAK,IAAI,QAAQ;AACnD,kBAAQ,KAAK,QAAQ,CAAC,IAAI;AAAA;AAAA;AAG5B,aAAO;AAAA;AAGR,QAAM,cAAc,OAAO;AAG3B,QAAM,eAAe,KAAK;AAS1B,yBAAe;AAAA,MACd,cAAc;AACb,YAAI,OAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAC/E,YAAI,OAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAE/E,aAAK,KAAK,MAAM,MAAM;AAEtB,cAAM,SAAS,KAAK,UAAU;AAC9B,cAAM,UAAU,IAAI,QAAQ,KAAK;AAEjC,YAAI,QAAQ,QAAQ,CAAC,QAAQ,IAAI,iBAAiB;AACjD,gBAAM,cAAc,mBAAmB;AACvC,cAAI,aAAa;AAChB,oBAAQ,OAAO,gBAAgB;AAAA;AAAA;AAIjC,aAAK,eAAe;AAAA,UACnB,KAAK,KAAK;AAAA,UACV;AAAA,UACA,YAAY,KAAK,cAAc,aAAa;AAAA,UAC5C;AAAA,UACA,SAAS,KAAK;AAAA;AAAA;AAAA,UAIZ,MAAM;AACT,eAAO,KAAK,aAAa,OAAO;AAAA;AAAA,UAG7B,SAAS;AACZ,eAAO,KAAK,aAAa;AAAA;AAAA,UAMtB,KAAK;AACR,eAAO,KAAK,aAAa,UAAU,OAAO,KAAK,aAAa,SAAS;AAAA;AAAA,UAGlE,aAAa;AAChB,eAAO,KAAK,aAAa,UAAU;AAAA;AAAA,UAGhC,aAAa;AAChB,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,UAAU;AACb,eAAO,KAAK,aAAa;AAAA;AAAA,MAQ1B,QAAQ;AACP,eAAO,IAAI,SAAS,MAAM,OAAO;AAAA,UAChC,KAAK,KAAK;AAAA,UACV,QAAQ,KAAK;AAAA,UACb,YAAY,KAAK;AAAA,UACjB,SAAS,KAAK;AAAA,UACd,IAAI,KAAK;AAAA,UACT,YAAY,KAAK;AAAA;AAAA;AAAA;AAKpB,SAAK,MAAM,SAAS;AAEpB,WAAO,iBAAiB,SAAS,WAAW;AAAA,MAC3C,KAAK,EAAE,YAAY;AAAA,MACnB,QAAQ,EAAE,YAAY;AAAA,MACtB,IAAI,EAAE,YAAY;AAAA,MAClB,YAAY,EAAE,YAAY;AAAA,MAC1B,YAAY,EAAE,YAAY;AAAA,MAC1B,SAAS,EAAE,YAAY;AAAA,MACvB,OAAO,EAAE,YAAY;AAAA;AAGtB,WAAO,eAAe,SAAS,WAAW,OAAO,aAAa;AAAA,MAC7D,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,cAAc;AAAA;AAGf,QAAM,cAAc,OAAO;AAC3B,QAAM,MAAM,IAAI,OAAO,UAAU;AAGjC,QAAM,YAAY,IAAI;AACtB,QAAM,aAAa,IAAI;AAQvB,sBAAkB,QAAQ;AAMzB,UAAI,4BAA4B,KAAK,SAAS;AAC7C,iBAAS,IAAI,IAAI,QAAQ;AAAA;AAI1B,aAAO,UAAU;AAAA;AAGlB,QAAM,6BAA6B,aAAa,OAAO,SAAS;AAQhE,uBAAmB,OAAO;AACzB,aAAO,OAAO,UAAU,YAAY,OAAO,MAAM,iBAAiB;AAAA;AAGnE,2BAAuB,QAAQ;AAC9B,YAAM,QAAQ,UAAU,OAAO,WAAW,YAAY,OAAO,eAAe;AAC5E,aAAO,CAAC,CAAE,UAAS,MAAM,YAAY,SAAS;AAAA;AAU/C,wBAAc;AAAA,MACb,YAAY,OAAO;AAClB,YAAI,QAAO,UAAU,SAAS,KAAK,UAAU,OAAO,SAAY,UAAU,KAAK;AAE/E,YAAI;AAGJ,YAAI,CAAC,UAAU,QAAQ;AACtB,cAAI,SAAS,MAAM,MAAM;AAIxB,wBAAY,SAAS,MAAM;AAAA,iBACrB;AAEN,wBAAY,SAAS,GAAG;AAAA;AAEzB,kBAAQ;AAAA,eACF;AACN,sBAAY,SAAS,MAAM;AAAA;AAG5B,YAAI,SAAS,MAAK,UAAU,MAAM,UAAU;AAC5C,iBAAS,OAAO;AAEhB,YAAK,OAAK,QAAQ,QAAQ,UAAU,UAAU,MAAM,SAAS,SAAU,YAAW,SAAS,WAAW,SAAS;AAC9G,gBAAM,IAAI,UAAU;AAAA;AAGrB,YAAI,YAAY,MAAK,QAAQ,OAAO,MAAK,OAAO,UAAU,UAAU,MAAM,SAAS,OAAO,MAAM,SAAS;AAEzG,aAAK,KAAK,MAAM,WAAW;AAAA,UAC1B,SAAS,MAAK,WAAW,MAAM,WAAW;AAAA,UAC1C,MAAM,MAAK,QAAQ,MAAM,QAAQ;AAAA;AAGlC,cAAM,UAAU,IAAI,QAAQ,MAAK,WAAW,MAAM,WAAW;AAE7D,YAAI,aAAa,QAAQ,CAAC,QAAQ,IAAI,iBAAiB;AACtD,gBAAM,cAAc,mBAAmB;AACvC,cAAI,aAAa;AAChB,oBAAQ,OAAO,gBAAgB;AAAA;AAAA;AAIjC,YAAI,SAAS,UAAU,SAAS,MAAM,SAAS;AAC/C,YAAI,YAAY;AAAM,mBAAS,MAAK;AAEpC,YAAI,UAAU,QAAQ,CAAC,cAAc,SAAS;AAC7C,gBAAM,IAAI,UAAU;AAAA;AAGrB,aAAK,eAAe;AAAA,UACnB;AAAA,UACA,UAAU,MAAK,YAAY,MAAM,YAAY;AAAA,UAC7C;AAAA,UACA;AAAA,UACA;AAAA;AAID,aAAK,SAAS,MAAK,WAAW,SAAY,MAAK,SAAS,MAAM,WAAW,SAAY,MAAM,SAAS;AACpG,aAAK,WAAW,MAAK,aAAa,SAAY,MAAK,WAAW,MAAM,aAAa,SAAY,MAAM,WAAW;AAC9G,aAAK,UAAU,MAAK,WAAW,MAAM,WAAW;AAChD,aAAK,QAAQ,MAAK,SAAS,MAAM;AAAA;AAAA,UAG9B,SAAS;AACZ,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,MAAM;AACT,eAAO,WAAW,KAAK,aAAa;AAAA;AAAA,UAGjC,UAAU;AACb,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,WAAW;AACd,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,SAAS;AACZ,eAAO,KAAK,aAAa;AAAA;AAAA,MAQ1B,QAAQ;AACP,eAAO,IAAI,QAAQ;AAAA;AAAA;AAIrB,SAAK,MAAM,QAAQ;AAEnB,WAAO,eAAe,QAAQ,WAAW,OAAO,aAAa;AAAA,MAC5D,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,cAAc;AAAA;AAGf,WAAO,iBAAiB,QAAQ,WAAW;AAAA,MAC1C,QAAQ,EAAE,YAAY;AAAA,MACtB,KAAK,EAAE,YAAY;AAAA,MACnB,SAAS,EAAE,YAAY;AAAA,MACvB,UAAU,EAAE,YAAY;AAAA,MACxB,OAAO,EAAE,YAAY;AAAA,MACrB,QAAQ,EAAE,YAAY;AAAA;AASvB,mCAA+B,SAAS;AACvC,YAAM,YAAY,QAAQ,aAAa;AACvC,YAAM,UAAU,IAAI,QAAQ,QAAQ,aAAa;AAGjD,UAAI,CAAC,QAAQ,IAAI,WAAW;AAC3B,gBAAQ,IAAI,UAAU;AAAA;AAIvB,UAAI,CAAC,UAAU,YAAY,CAAC,UAAU,UAAU;AAC/C,cAAM,IAAI,UAAU;AAAA;AAGrB,UAAI,CAAC,YAAY,KAAK,UAAU,WAAW;AAC1C,cAAM,IAAI,UAAU;AAAA;AAGrB,UAAI,QAAQ,UAAU,QAAQ,gBAAgB,OAAO,YAAY,CAAC,4BAA4B;AAC7F,cAAM,IAAI,MAAM;AAAA;AAIjB,UAAI,qBAAqB;AACzB,UAAI,QAAQ,QAAQ,QAAQ,gBAAgB,KAAK,QAAQ,SAAS;AACjE,6BAAqB;AAAA;AAEtB,UAAI,QAAQ,QAAQ,MAAM;AACzB,cAAM,aAAa,cAAc;AACjC,YAAI,OAAO,eAAe,UAAU;AACnC,+BAAqB,OAAO;AAAA;AAAA;AAG9B,UAAI,oBAAoB;AACvB,gBAAQ,IAAI,kBAAkB;AAAA;AAI/B,UAAI,CAAC,QAAQ,IAAI,eAAe;AAC/B,gBAAQ,IAAI,cAAc;AAAA;AAI3B,UAAI,QAAQ,YAAY,CAAC,QAAQ,IAAI,oBAAoB;AACxD,gBAAQ,IAAI,mBAAmB;AAAA;AAGhC,UAAI,QAAQ,QAAQ;AACpB,UAAI,OAAO,UAAU,YAAY;AAChC,gBAAQ,MAAM;AAAA;AAGf,UAAI,CAAC,QAAQ,IAAI,iBAAiB,CAAC,OAAO;AACzC,gBAAQ,IAAI,cAAc;AAAA;AAM3B,aAAO,OAAO,OAAO,IAAI,WAAW;AAAA,QACnC,QAAQ,QAAQ;AAAA,QAChB,SAAS,4BAA4B;AAAA,QACrC;AAAA;AAAA;AAgBF,wBAAoB,SAAS;AAC3B,YAAM,KAAK,MAAM;AAEjB,WAAK,OAAO;AACZ,WAAK,UAAU;AAGf,YAAM,kBAAkB,MAAM,KAAK;AAAA;AAGrC,eAAW,YAAY,OAAO,OAAO,MAAM;AAC3C,eAAW,UAAU,cAAc;AACnC,eAAW,UAAU,OAAO;AAG5B,QAAM,gBAAgB,OAAO;AAC7B,QAAM,cAAc,IAAI;AASxB,oBAAe,KAAK,MAAM;AAGzB,UAAI,CAAC,OAAM,SAAS;AACnB,cAAM,IAAI,MAAM;AAAA;AAGjB,WAAK,UAAU,OAAM;AAGrB,aAAO,IAAI,OAAM,QAAQ,SAAU,SAAS,QAAQ;AAEnD,cAAM,UAAU,IAAI,QAAQ,KAAK;AACjC,cAAM,UAAU,sBAAsB;AAEtC,cAAM,QAAQ,SAAQ,aAAa,WAAW,QAAQ,MAAM;AAC5D,cAAM,SAAS,QAAQ;AAEvB,YAAI,WAAW;AAEf,cAAM,QAAQ,kBAAiB;AAC9B,cAAI,QAAQ,IAAI,WAAW;AAC3B,iBAAO;AACP,cAAI,QAAQ,QAAQ,QAAQ,gBAAgB,OAAO,UAAU;AAC5D,oBAAQ,KAAK,QAAQ;AAAA;AAEtB,cAAI,CAAC,YAAY,CAAC,SAAS;AAAM;AACjC,mBAAS,KAAK,KAAK,SAAS;AAAA;AAG7B,YAAI,UAAU,OAAO,SAAS;AAC7B;AACA;AAAA;AAGD,cAAM,mBAAmB,6BAA4B;AACpD;AACA;AAAA;AAID,cAAM,MAAM,MAAK;AACjB,YAAI;AAEJ,YAAI,QAAQ;AACX,iBAAO,iBAAiB,SAAS;AAAA;AAGlC,4BAAoB;AACnB,cAAI;AACJ,cAAI;AAAQ,mBAAO,oBAAoB,SAAS;AAChD,uBAAa;AAAA;AAGd,YAAI,QAAQ,SAAS;AACpB,cAAI,KAAK,UAAU,SAAU,QAAQ;AACpC,yBAAa,WAAW,WAAY;AACnC,qBAAO,IAAI,WAAW,uBAAuB,QAAQ,OAAO;AAC5D;AAAA,eACE,QAAQ;AAAA;AAAA;AAIb,YAAI,GAAG,SAAS,SAAU,KAAK;AAC9B,iBAAO,IAAI,WAAW,cAAc,QAAQ,uBAAuB,IAAI,WAAW,UAAU;AAC5F;AAAA;AAGD,YAAI,GAAG,YAAY,SAAU,KAAK;AACjC,uBAAa;AAEb,gBAAM,UAAU,qBAAqB,IAAI;AAGzC,cAAI,OAAM,WAAW,IAAI,aAAa;AAErC,kBAAM,WAAW,QAAQ,IAAI;AAG7B,kBAAM,cAAc,aAAa,OAAO,OAAO,YAAY,QAAQ,KAAK;AAGxE,oBAAQ,QAAQ;AAAA,mBACV;AACJ,uBAAO,IAAI,WAAW,0EAA0E,QAAQ,OAAO;AAC/G;AACA;AAAA,mBACI;AAEJ,oBAAI,gBAAgB,MAAM;AAEzB,sBAAI;AACH,4BAAQ,IAAI,YAAY;AAAA,2BAChB,KAAP;AAED,2BAAO;AAAA;AAAA;AAGT;AAAA,mBACI;AAEJ,oBAAI,gBAAgB,MAAM;AACzB;AAAA;AAID,oBAAI,QAAQ,WAAW,QAAQ,QAAQ;AACtC,yBAAO,IAAI,WAAW,gCAAgC,QAAQ,OAAO;AACrE;AACA;AAAA;AAKD,sBAAM,cAAc;AAAA,kBACnB,SAAS,IAAI,QAAQ,QAAQ;AAAA,kBAC7B,QAAQ,QAAQ;AAAA,kBAChB,SAAS,QAAQ,UAAU;AAAA,kBAC3B,OAAO,QAAQ;AAAA,kBACf,UAAU,QAAQ;AAAA,kBAClB,QAAQ,QAAQ;AAAA,kBAChB,MAAM,QAAQ;AAAA,kBACd,QAAQ,QAAQ;AAAA,kBAChB,SAAS,QAAQ;AAAA,kBACjB,MAAM,QAAQ;AAAA;AAIf,oBAAI,IAAI,eAAe,OAAO,QAAQ,QAAQ,cAAc,aAAa,MAAM;AAC9E,yBAAO,IAAI,WAAW,4DAA4D;AAClF;AACA;AAAA;AAID,oBAAI,IAAI,eAAe,OAAQ,KAAI,eAAe,OAAO,IAAI,eAAe,QAAQ,QAAQ,WAAW,QAAQ;AAC9G,8BAAY,SAAS;AACrB,8BAAY,OAAO;AACnB,8BAAY,QAAQ,OAAO;AAAA;AAI5B,wBAAQ,OAAM,IAAI,QAAQ,aAAa;AACvC;AACA;AAAA;AAAA;AAKH,cAAI,KAAK,OAAO,WAAY;AAC3B,gBAAI;AAAQ,qBAAO,oBAAoB,SAAS;AAAA;AAEjD,cAAI,OAAO,IAAI,KAAK,IAAI;AAExB,gBAAM,mBAAmB;AAAA,YACxB,KAAK,QAAQ;AAAA,YACb,QAAQ,IAAI;AAAA,YACZ,YAAY,IAAI;AAAA,YAChB;AAAA,YACA,MAAM,QAAQ;AAAA,YACd,SAAS,QAAQ;AAAA,YACjB,SAAS,QAAQ;AAAA;AAIlB,gBAAM,UAAU,QAAQ,IAAI;AAU5B,cAAI,CAAC,QAAQ,YAAY,QAAQ,WAAW,UAAU,YAAY,QAAQ,IAAI,eAAe,OAAO,IAAI,eAAe,KAAK;AAC3H,uBAAW,IAAI,SAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAQD,gBAAM,cAAc;AAAA,YACnB,OAAO,KAAK;AAAA,YACZ,aAAa,KAAK;AAAA;AAInB,cAAI,WAAW,UAAU,WAAW,UAAU;AAC7C,mBAAO,KAAK,KAAK,KAAK,aAAa;AACnC,uBAAW,IAAI,SAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAID,cAAI,WAAW,aAAa,WAAW,aAAa;AAGnD,kBAAM,MAAM,IAAI,KAAK,IAAI;AACzB,gBAAI,KAAK,QAAQ,SAAU,OAAO;AAEjC,kBAAK,OAAM,KAAK,QAAU,GAAM;AAC/B,uBAAO,KAAK,KAAK,KAAK;AAAA,qBAChB;AACN,uBAAO,KAAK,KAAK,KAAK;AAAA;AAEvB,yBAAW,IAAI,SAAS,MAAM;AAC9B,sBAAQ;AAAA;AAET;AAAA;AAID,cAAI,WAAW,QAAQ,OAAO,KAAK,2BAA2B,YAAY;AACzE,mBAAO,KAAK,KAAK,KAAK;AACtB,uBAAW,IAAI,SAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAID,qBAAW,IAAI,SAAS,MAAM;AAC9B,kBAAQ;AAAA;AAGT,sBAAc,KAAK;AAAA;AAAA;AASrB,WAAM,aAAa,SAAU,MAAM;AAClC,aAAO,SAAS,OAAO,SAAS,OAAO,SAAS,OAAO,SAAS,OAAO,SAAS;AAAA;AAIjF,WAAM,UAAU,OAAO;AAEvB,YAAO,UAAU,UAAU;AAC3B,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,YAAQ,UAAU;AAClB,YAAQ,UAAU;AAClB,YAAQ,UAAU;AAClB,YAAQ,WAAW;AACnB,YAAQ,aAAa;AAAA;AAAA;;;ACtoDrB;AAAA;AAAA;AAAA;AAAA,eAAwB;;;ACAxB,2BAA+B;AAC/B,UAAoB;AACpB,kBAAqB;AACrB,mBAA0B;;;ACH1B,aAAwB;AACxB,SAAoB;AACpB,kBAA0B;AAG1B,IAAM,UAAU,2BAAa;AAEtB,IAAM,gBAAgB,MAAM;AACjC,QAAM,kBAAkB;AACxB,EAAO,gBAAS,eAAe,qBAAqB,QAAW;AAAA;AAG1D,IAAM,sBAAsB,YAAY;AAC7C,MAAI;AACJ,MAAI;AACF,YAAQ,MAAM,QAAY,gBAAgB,EAAE,UAAU;AAAA,WAC/C,OAAP;AACA,UAAM,IAAI,MAAM;AAAA;AAElB,SAAO,MAAM,WAAW;AAAA;AAInB,IAAM,mBAAmB,MAAc;AAC5C,QAAM,iBAAgE,AAAO,iBAAU;AACvF,MAAI,CAAC,kBAAkB,CAAC,eAAe,QAAQ;AAE7C,WAAO;AAAA;AAIT,QAAM,gBAAwC,eAAe;AAE7D,SAAO,cAAc,IAAI;AAAA;;;AChC3B,SAAoB;AAEb,IAAM,UAAU,kBAA2B;AAE3C,IAAM,eAAe;AAKrB,IAAM,WAAgB,QAAQ,IAAI,YAAY;AAG9C,IAAM,sBAAsB;AAG5B,IAAM,iBAAyB;AAK/B,IAAM,cAA4C,AAAG;AAE5D,IAAM,cAAc;AAAA,EAClB;AAAA,EACA;AAAA,EACA;AAAA;AAIF,IAAI,CAAC,YAAY,SAAS,cAAc;AACtC,QAAM,IAAI,MAAM,MAAM;AAAA;AAGjB,IAAM,eAA8B,QAAQ,IAAI,yBAAyB;AAEzE,IAAM,sBAAuB,SAAQ,IAAI,gCAAgC,IAAI,kBAAkB;AAI/F,IAAM,qCACX,QAAQ,IAAI,+CAA+C;AAGtD,IAAM,gBAAgB,QAAQ,IAAI,0BAA0B;AAG5D,IAAM,uBAAuB,QAAQ,IAAI,iCAAiC;;;AC/CjF,cAAwB;AAExB,IAAM,WAIE;AAED,IAAM,mBAAmB,CAAC,SAAuC;AACtE,MAAI,CAAC,SAAS,OAAO;AACnB,aAAS,QAAQ,AAAO,eAAO,oBAAoB;AAAA;AAErD,SAAO,SAAS;AAAA;AASX,IAAM,YAAY,CAAC,WAAgC;AACxD,QAAM,UAAU,iBAAiB,OAAO;AACxC,UAAQ;AACR,UAAQ,OAAO,OAAO;AAAA;AAGjB,IAAM,aAAa,CAAC,gBAA8B;AACvD,QAAM,UAAU,iBAAiB;AACjC,UAAQ;AAAA;AAGH,IAAM,cAAc,CAAC,gBAA8B;AACxD,QAAM,UAAU,iBAAiB;AACjC,UAAQ;AACR,UAAQ;AAAA;;;AC/BV,IAAM,aAAa,iBAAiB;AAEpC,IAAM,SAAS,IAAI,aAA0B;AAC3C,aAAW,WAAW,UAAU;AAC9B,QAAI,OAAO,YAAY,UAAU;AAC/B,iBAAW,WAAW;AAAA,WACjB;AACL,iBAAW,WAAW;AAAA;AAAA;AAAA;AAK5B,IAAO,iBAAQ;;;AJTf,IAAM,YAAY,4BAAU;AAC5B,IAAM,kBAAkB,4BAAa;AAC9B,IAAM,gBAAgB,4BAAa;AAC1C,IAAM,iBAAiB,4BAAa;AAQpC,IAAM,mBAAmB,IAAI,UAAoB;AAC/C,QAAM,gBAAgB,sBAAK,gBAAgB,GAAG;AAC9C,iBAAO,mBAAmB;AAC1B,SAAO;AAAA;AAGF,IAAM,OAAO,CAAC,WAA4E;AAC/F,QAAM,MAAM,sBAAK,gBAAgB,OAAO,OAAO;AAC/C,iBAAO,oBAAoB,OAAO;AAClC,SAAO,UAAU,OAAO,SAAS,EAAE;AAAA;AAG9B,IAAM,SAAS,IAAI,UAAqC;AAC7D,QAAM,WAAW,iBAAiB,GAAG;AACrC,iBAAO,sBAAsB;AAC7B,SAAO,AAAG,eAAW;AAAA;AAGhB,IAAM,aAAa,IAAI,UAAoB;AAChD,QAAM,WAAW,iBAAiB,GAAG;AACrC,iBAAO,kBAAkB;AACzB,SAAO,gBAAgB;AAAA;AAGlB,IAAM,YAAW,IAAI,UAA4C;AACtE,QAAM,WAAW,iBAAiB,GAAG;AACrC,iBAAO,iBAAiB;AACxB,SAAO,cAAc,iBAAiB,GAAG,QAAQ,QAAQ,MAAM,CAAC,QAAQ;AACtE,mBAAO,uBAAuB,aAAa,IAAI;AAAA;AAAA;AAI5C,IAAM,aAAY,CAAC,SAAc,UAAmC;AACzE,QAAM,WAAW,iBAAiB,GAAG;AACrC,iBAAO,iBAAiB;AACxB,SAAO,eAAe,UAAU,MAAM,MAAM,CAAC,QAAQ;AACnD,mBAAO,sBAAsB,aAAa,IAAI;AAAA;AAAA;;;AKjClD,IAAM,IAAI;AAAA,EACR,OAAO;AAAA,EACP,MAAM;AAAA,EACN,MAAM;AAAA,EACN,SAAS;AAAA,EACT,QAAQ;AAAA;AAGV,IAAM,SAAS,CAAC,MAAmC,SAAiB;AAClE,QAAM,QAAQ,EAAE,MAAM,KAAK;AAC3B,MAAI,CAAC,OAAO;AACV,WAAO;AAAA;AAET,SAAO,MAAM;AAAA;AAIf,IAAM,gBAAgB,CAAC,YAA4B;AAtCnD;AAwCE,QAAM,UAAU,QAAQ,MAAM;AAC9B,MAAI,yCAAS,WAAT,mBAAiB,oBAAoB;AACvC,WAAO,QAAQ,OAAO,mBAAmB,MAAM,KAAK,KAAK,KAAK;AAAA;AAEhE,SAAO,QAAQ;AAAA;AAMjB,IAAM,SAAS,CAAC,SAA+B;AAC7C,QAAM,WAAW,KAAK,MAAM;AAE5B,QAAM,gBAAgB,SAAS,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE;AAC1D,QAAM,QAAQ,SAAS,MAAM;AAE7B,QAAM,SAAuB;AAAA,IAC3B,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,SAAS;AAAA;AAIX,MAAI,iBAAgC;AACpC,MAAI,OAAiB;AAErB,QAAM,oBAAoB,MAAM;AAC9B,UAAM,aAAqB,OAAO,OAAO;AACzC,QAAI,kBAAkB,CAAC,CAAC,YAAY;AAClC,aAAO,OAAO,aAAa,GAAG,UAAU;AACxC,uBAAiB;AAAA;AAAA;AAIrB,aAAW,QAAQ,OAAO;AACxB,QAAI,CAAC,KAAK,UAAU,CAAC,CAAC,EAAE,OAAO,KAAK,OAAO;AACzC;AAAA;AAGF,UAAM,SAAS,OAAO,QAAQ;AAC9B,QAAI,CAAC,CAAC,QAAQ;AACZ,YAAM,UAAU,cAAc,OAAO;AACrC,YAAM,OAAa,EAAE;AACrB,UAAI,KAAK,QAAQ;AACf,aAAK,OAAO;AACZ,eAAO;AAAA;AAET,aAAO,OAAO,KAAK;AACnB,aAAO,QAAQ,WAAW;AAC1B;AACA;AAAA;AAIF,UAAM,SAAS,OAAO,QAAQ;AAC9B,QAAI,CAAC,CAAC,QAAQ;AACZ,aAAO,KAAK;AACZ;AACA,YAAM,UAAU,cAAc,OAAO;AACrC,YAAM,OAAa,EAAE;AACrB,UAAI,KAAK,QAAQ;AACf,aAAK,OAAO;AACZ,eAAO;AAAA;AAET,aAAO,OAAO,KAAK;AACnB,aAAO,QAAQ,WAAW;AAC1B;AAAA;AAIF,UAAM,YAAY,OAAO,WAAW;AACpC,QAAI,CAAC,CAAC,WAAW;AACf,YAAM,cAAsB,UAAU,QAAQ;AAC9C,UAAI,CAAC,gBAAgB;AACnB,yBAAiB;AAAA,aACZ;AACL,0BAAkB;AAAA,EAAK;AAAA;AAEzB;AAAA;AAIF,SAAK,KAAK;AACV,WAAO,KAAK,KAAK;AAAA;AAEnB;AACA,SAAO;AAAA;AAGT,IAAO,iBAAQ;;;AC5Hf,IAAM,gBAAgB,CAAC,SAAkB,mBAA2C;AAClF,QAAM,eAAe;AACrB,QAAM,iBAAiB;AACvB,SAAO,KAAK,SAAS,QAAQ,CAAC,QAAQ;AACpC,UAAM,QAAQ,IAAI,MAAM;AACxB,QAAI,CAAC,CAAC,OAAO;AACX,YAAM,EAAE,QAAQ,WAAW,MAAM,UAAU;AAC3C,UAAI,WAAW,gBAAgB;AAC7B,cAAM,YAAY,OAAO,UAAU;AACnC,uBAAe,aAAa,QAAQ;AAAA;AAAA;AAAA;AAI1C,SAAO;AAAA;AAGT,IAAO,mBAAQ;;;ACtBf,IAAI,UAAU,IAAI;AAElB,IAAM,kBAAkB;AAEjB,IAAM,WAAW,MAAmB;AACzC,QAAM,MAAM,IAAI;AAChB,MAAI,CAAC,MAAM,CAAC,UAAU,iBAAiB;AACrC,cAAU;AACV,WAAO;AAAA;AAET,SAAO;AAAA;AAKF,IAAM,WAAW,CAAC,cAA6B,CAAC,UAAU,CAAC,YAAY;;;AChB9E,wCAA8B;AAkB9B,IAAI;AAEG,IAAM,WAAW,CAAC,gBAA+C;AACtE,iBAAO,GAAG,iBAAiB;AAC3B,aAAW,IAAI,0CAAkB,cAAc,SAAS;AACxD,cAAY;AAAA;AAGP,IAAM,aAAa,MAAY;AACpC,MAAI,UAAU;AACZ,aAAS;AAAA;AAAA;AAIN,IAAM,UAAU,CAAC,OAAc,YAAyB,iBAAsC;AACnG,MAAI,UAAU;AACZ,aAAS,uBAAuB,OAAO,YAAY;AAAA;AAAA;AAIhD,IAAM,UAAU,CAAC,WAAmB,YAAyB,iBAAsC;AACxG,MAAI,UAAU;AACZ,aAAS,mBAAmB,WAAW,YAAY;AAAA;AAAA;;;ACnChD,IAAM,mBAAmB,CAAC,QAA8B;AAC7D,MAAI,SAAS;AAAA;AACb,MAAI,OAAO,QAAQ,CAAC,SAAe;AACjC,UAAM,UAAU,KAAK,UAAU;AAAA,EAAK,KAAK;AAAA,IAAc;AACvD,UAAM,OAAO,KAAK,OAAO;AAAA,EAAK,KAAK,KAAK,KAAK;AAAA,IAAY;AACzD,UAAM,SAAS,GAAG,gBAAW,KAAK;AAAA,EAAY;AAC9C,cAAU;AAAA;AAEZ,SAAO;AAAA;;;ACMT,IAAM,kBAAkB;AAQxB,IAAM,mBAAmB,CAAC,MAAmB,cAA2D;AA3BxG;AA4BE,QAAM,mBAAmB,KAAK,OAAO;AACrC,QAAM,sBAAsB,uBAAiB,SAAjB,mBAAuB;AACnD,SAAO,OAAO,EAAE,UAAU,gBAAgD;AA9B5E;AA+BI,UAAM,YAAY;AAElB,QAAI,CAAC,WAAW;AACd;AAAA;AAGF,mBAAO;AAGP,UAAM,QAAyB,KAAK,OAAO,KAAK,CAAC,MAAM,EAAE,OAAO,SAAS,YAAY;AACrF,QAAI,CAAC,OAAO;AACV,qBAAO,iBAAiB,SAAS;AACjC;AAAA;AAEF,UAAM,OAAuB,MAAM,MAAM,KAAK,CAAC,MAAM,EAAE,OAAO,SAAS,WAAW;AAClF,QAAI,CAAC,MAAM;AACT,qBAAO,gBAAgB,SAAS;AAChC;AAAA;AAGF,cAAU,MAAM;AAEhB,QAAI;AACJ,QAAI;AACF,UAAI,UAAU,iBAAiB,OAC3B,GAAG,iBAAiB,WAAW,qDAAkB,KAAK,QACtD,iBAAiB;AAGrB,UAAI,qBAAqB;AAKvB,cAAM,SAAS,KAAK;AACpB,cAAM,SAAQ,OAAO,KAAK,CAAC,MAAM,EAAE,OAAO,SAAS;AACnD,cAAM,QAAO,iCAAO,MAAM,KAAK,CAAC,MAAM,EAAE,OAAO,SAAS;AACxD,cAAM,aAAa,sCAAM,UAAN,oBAAa;AAChC,YAAI,YAAY;AAEd,oBAAU,CAAC,SAAS,qBAAqB,YAAY,KAAK;AAAA;AAAA;AAG9D,qBAAO,YAAY;AACnB,eAAS,MAAM,KAAK,EAAE,SAAS,KAAK,iBAAiB;AAAA,aAC9C,KAAP;AACA,eAAS,EAAE,QAAQ,IAAI,QAAQ,QAAQ,IAAI;AAAA;AAK7C,QAAI,CAAC,SAAS,YAAY;AACxB;AAAA;AAGF,mBAAO;AAEP,UAAM,EAAE,QAAQ,WAAW;AAE3B,UAAM,MAAoB,eAAO,UAAU;AAE3C,QAAI,IAAI,KAAK,QAAQ;AACnB,qBAAO,IAAI,KAAK,KAAK;AAAA;AAGvB,QAAI,QAAQ;AACV,UAAI,CAAC,IAAI,OAAO,QAAQ;AAEtB,cAAM,cAAc;AAAA,UAClB,OAAO;AAAA,UACP,aAAa;AAAA,UACb,SAAS;AAAA;AAEX,kBAAU,OAAO,UAAU;AAC3B;AAAA,iBACS,UAAU,OAAO,UAAU,CAAC,IAAI,IAAI;AAE7C,cAAM,YAAY,IAAI,OAAO;AAC7B,cAAM,cAAc;AAAA,UAClB,OAAO,UAAU,WAAW;AAAA,UAC5B,aAAa,UAAU,WAAW;AAAA,UAClC,SAAS,IAAI;AAAA;AAGf,YAAI,KAAK,UAAU;AACjB,gBAAM,iBAAiB,iBAAc,IAAI,SAAS,SAAS,UAAU;AAErE,oBAAU,OAAO,UAAU;AAAA,eACtB;AAAA,YACH,SAAS;AAAA;AAAA,eAEN;AACL,oBAAU,OAAO,UAAU;AAAA;AAG7B,cAAM,SAAS,iBAAiB;AAChC,kBAAU,EAAE,SAAS,iBAAiB,MAAM,QAAQ,MAAM;AAC1D;AAAA,aACK;AACL,kBAAU,QAAQ;AAElB,kBAAU,EAAE,SAAS,iBAAiB,MAAM,QAAQ,MAAM;AAC1D;AAAA;AAAA;AAKJ,QAAI,IAAI,IAAI;AACV,kBAAY;AAEZ,gBAAU,UAAU;AAEpB,UAAI,WAAW;AACb;AAAA;AAAA,WAEG;AAEL,cAAQ,IAAI,MAAM,2BAA2B,KAAK,UAAU;AAC5D,gBAAU,QAAQ;AAAA;AAAA;AAAA;AAKxB,IAAO,qBAAQ;;;ACzJf,YAAsB;AACtB,cAAwB;;;ACFxB,WAAsB;AACtB,cAAwB;AAMxB,IAAM,WAAW,MAAc;AAC7B,MAAI,OAAO;AACX,QAAM,WAAW;AACjB,WAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AAC3B,YAAQ,SAAS,OAAO,KAAK,MAAM,KAAK,WAAW,SAAS;AAAA;AAE9D,SAAO;AAAA;AAqBT,sBAAsB,OAA4B,UAAiC;AAEjF,QAAM,YAAY,CAAC,cAA2B;AAC5C,UAAM,WAAY,WAAU,WAAW,YAAY,UAAU,OAAO,MAAM,WAAW,QAAQ,OAAO;AAGpG,WAAO,MAAM,QAAQ,aAAa,AAAO,YAAI,KAAK,AAAK,UAAK,UAAU;AAAA;AAGxE,MAAI;AAEF,QAAI,OAAO,MAAM,cAAc,AAAK,UAAK,UAAU,eAAe;AAGlE,UAAM,WAAW,GAAG,AAAO,YAAI,KAAK,AAAK,UAAK,UAAU,UAAU,KAAK,EAAE,QAAQ;AACjF,WAAO,KAAK,QAAQ,UAAU,qBAAqB;AAGnD,UAAM,SAAmB;AACzB,UAAM,SAAmB;AAGzB,QAAI,qBAAqB;AACzB,QAAI,gBAAwC,mBAAmB,KAAK;AACpE,QAAI,eAAe;AACjB,YAAM,QAAgB;AACtB,aAAO,KAAK;AACZ,YAAM,MAAM,UAAU,cAAc;AAEpC,aAAO,KAAK,QAAQ,cAAc,IAAI,GAAG,eAAe;AAAA;AAG1D,QAAI,uBAAuB;AAC3B,QAAI,kBAA0C,qBAAqB,KAAK;AACxE,QAAI,iBAAiB;AACnB,YAAM,QAAgB;AACtB,aAAO,KAAK;AACZ,YAAM,MAAM,UAAU,gBAAgB;AAEtC,aAAO,KAAK,QAAQ,gBAAgB,IAAI,GAAG,eAAe;AAAA;AAI5D,QAAI,sCAAsC,mCAAmC,QAAQ;AACnF,iBAAW,aAAa,mCAAmC,MAAM,MAAM;AAErE,YAAI,UAAU,MAAM,SAAS;AAC3B,iBAAO,KAAK;AAAA,eACP;AACL,iBAAO,KAAK;AAAA;AAAA;AAAA;AAMlB,QAAI;AACJ,QAAI;AACF,YAAM,eAAe,AAAK,UAAK,UAAU;AACzC,YAAM,eAAe,MAAM,cAAc,cAAc;AACvD,iBAAW,KAAK,MAAM;AAAA,aACf,GAAP;AACA,YAAM,IAAI,MAAM;AAAA;AAIlB,UAAM,eAAe;AACrB,WAAO,KAAK;AACZ,UAAM,aAAa,UAAU,SAAS,MAAM;AAC5C,WAAO,KAAK,QAAQ,UAAU,sBAAsB,sBAAsB;AAE1E,QAAI,sBAAsB;AAC1B,QAAI,iBAAyC,oBAAoB,KAAK;AACtE,QAAI,gBAAgB;AAClB,YAAM,OAAO,UAAU,eAAe;AAEtC,aAAO,KAAK,QAAQ,eAAe,IAAI;AAAA;AAGzC,QAAI,0BAA0B;AAC9B,QAAI,qBAA6C,wBAAwB,KAAK;AAC9E,QAAI,oBAAoB;AACtB,YAAM,OAAO,UAAU,mBAAmB;AAE1C,aAAO,KAAK,QAAQ,mBAAmB,IAAI;AAAA;AAK7C,UAAM,eAAe,CAAC,QAAgB,IAAI;AAC1C,UAAM,cAAc,OAAO,IAAI,CAAC,UAAkB,aAAa,SAAS,UAAU,KAAK;AACvF,UAAM,aAAa,OAAO,IAAI,cAAc,KAAK;AAEjD,UAAM,gBACJ;AAAA,MACE;AAAA,MACA,gBAAgB;AAAA,MAChB;AAAA,MAEA,YAAY,MAAM,QAAQ;AAAA,MAE1B,WAAW,MAAM,QAAQ;AAAA,MACzB,cAAc,eAAe;AAAA,MAE7B,aAAa,MAAM,QAAQ;AAAA,MAC3B,KAAK,QAAQ;AAEjB,WAAO,KAAK,QAAQ,WAAW,uDAAuD;AAGtF,UAAM,QAAQ,OAAO;AAAA,WACd,OAAP;AACA,mBAAO,UAAU,MAAM;AACvB,YAAQ;AAAA;AAAA;AAIZ,IAAO,iBAAQ;;;ADrIf,IAAM,QAAQ,EAAE,QAAQ;AAExB,IAAM,qBAAqB,CAAC,EAAE,eAAe,cAAyC;AAEpF,MAAI,sBAAsB,IAAI;AAG9B,QAAM,cAAmC;AAEzC,gCAAmD;AACjD,UAAM,WAAW;AACjB,UAAM,QAAQ;AACd,UAAM,SAAS;AAAA,MAEb,eAAe;AAAA,MAEf,oBAAoB,CAAC,AAAO,YAAI,KAAK,AAAK,WAAK,eAAe;AAAA,MAE9D,yBAAyB;AAAA,MAEzB,mBAAmB;AAAA;AAErB,UAAM,SAAS;AACf,WAAO,AAAO,eAAO,mBAAmB,UAAU,OAAO,AAAO,mBAAW,KAAK;AAAA;AAGlF,MAAI,QAA6B;AAIjC,QAAM,aACJ,MAAM;AACJ,UAAM;AACN,UAAM,SAAS;AAAA,KAEjB,MACA;AAIF,QAAM,UAAU,QAAQ;AACxB,QAAM,QAAO,CAAC,WACZ,MAAM,QAAQ,YAAY;AAAA,OACrB;AAAA,IACH,QAAQ;AAAA;AAGZ,QAAM,QAAQ,oBAAoB,SAAS,MAAM;AASjD,QAAM,WAAW,AAAK,WAAK,eAAe;AAC1C,iBAAO,OAAO;AAEd,SAAO;AAAA,IACL;AAAA,IACA,eAAe;AACb,MAAO,iBAAS,eAAe,0BAA0B;AAAA,QACvD,aAAa;AAAA,QACb,QAAQ,CAAC,EAAE,MAAM,OAAO,EAAE,MAAM;AAAA;AAKlC,UAAI,SAAS,MAAM,SAAS;AAC1B,YAAI,KAAK,QAAQ,oBAAoB,YAAY,KAAM;AACrD,UAAO,eAAO,uBAAuB;AAAA;AAEvC,cAAM,OAAO,AAAO,mBAAW;AAAA,aAC1B;AACL,gBAAQ;AAAA;AAEV,4BAAsB,IAAI;AAAA;AAAA,IAE5B;AAAA,IACA;AAAA;AAAA;AAIJ,IAAO,iBAAQ;;;AErGf,oBAA0B;AAG1B,IAAM,cACJ;AAEK,IAAM,aAAa,OAAO,SAA2E;AAC1G,MAAI;AACF,UAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,GAAG;AACpD,QAAI,CAAC,QAAQ;AACX,YAAM,QAAQ,OAAO,MAAM;AAC3B,UAAI,OAAO;AACT,cAAM,gBAAgB,MAAM,GAAG,MAAM,KAAK,MAAM,GAAG,GAAG,KAAK;AAC3D,eAAO,EAAE,SAAS,eAAe,OAAO;AAAA;AAAA;AAG5C,WAAO,EAAE,SAAS,MAAM,OAAO;AAAA,WACxB,OAAP;AACA,WAAO,EAAE,SAAS,MAAM;AAAA;AAAA;AAIrB,IAAM,kBAAkB,OAAO,gBAAwB,oBAAsD;AAElH,SAAO,6BAAU,gBAAgB;AAAA;;;ACnB5B,IAAM,YAAY;AAEzB,IAAM,gBAAgB,YAAmC;AAEvD,QAAM,EAAE,WAAW,MAAM,KAAK,EAAE,SAAS;AACzC,MAAI,QAAQ;AACV,mBAAO,UAAU;AACjB,UAAM,IAAI,MAAM;AAAA;AAAA;AAIpB,IAAM,mBAAmB,OAAO,QAAgB,QAAQ,MAA6B;AACnF,MAAI,QAAQ,GAAG;AACb,mBAAO;AACP;AAAA;AAEF,MAAI;AAGF,UAAM,EAAE,WAAW,MAAM,KAAK,EAAE,SAAS,6BAA6B;AACtE,QAAI,CAAC,QAAQ;AACX,YAAM,IAAI,MAAM;AAAA;AAAA,WAEX,OAAP;AACA,mBAAO,8BAA8B,MAAM;AAE3C,UAAM;AACN,WAAO,iBAAiB,QAAQ,EAAE;AAAA;AAAA;AAQ/B,oBAAoB,QAAuC;AAChE,SAAO,iBAAiB;AAAA;AAQ1B,0BAAiC,SAAwC;AACvE,QAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,mBAAmB;AACpE,MAAI,QAAQ;AACV,mBAAO,UAAU;AACjB,UAAM,IAAI,MAAM;AAAA;AAElB,iBAAO,iBAAiB;AAAA;AAG1B,uBAAqD;AACnD,MAAI;AAEF,UAAM,EAAE,WAAW,MAAM,KAAK,EAAE,SAAS;AACzC,QAAI,CAAC,QAAQ;AACX;AAAA;AAEF,mBAAO,UAAU;AAAA,WACV,OAAP;AACA,mBAAO,UAAU,MAAM;AAAA;AAEzB,QAAM,IAAI,MAAM;AAAA;AAGlB,sBAA6C;AAC3C,QAAM,EAAE,SAAS,YAAY,OAAO,aAAa,MAAM,WAAW;AAClE,MAAI,UAAU;AACZ,UAAM,IAAI,MAAM,4BAA4B,SAAS;AAAA;AAEvD,MAAI,CAAC,YAAY;AACf,UAAM,IAAI,MAAM;AAAA;AAElB,QAAM,mBAAmB,MAAM,gBAAgB,YAAY;AAC3D,MAAI;AACJ,MAAI,kBAAkB;AAEpB,UAAM,aAAa,MAAM,KAAK,EAAE,SAAS;AACzC,aAAS,WAAW;AAAA,SACf;AAEL,UAAM,aAAa,MAAM,KAAK,EAAE,SAAS;AACzC,aAAS,WAAW;AAAA;AAGtB,MAAI,QAAQ;AACV,UAAM,IAAI,MAAM,2BAA2B;AAAA;AAAA;AAI/C,iCAA+D;AAC7D,QAAM,aAAa,OAAO;AAC1B,MAAI,CAAC,YAAY;AACf,UAAM;AAAA;AAAA;AAIV,mCAA0C,MAA8C;AAEtF,QAAM,qBAAqB,MAAM,KAAK,EAAE,SAAS,qCAAqC,KAAK;AAC3F,MAAI,mBAAmB,QAAQ;AAE7B,UAAM,IAAI,MAAM,mBAAmB;AAAA;AAGrC,QAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,qCAAqC,KAAK,OAAO,KAAK;AACvG,MAAI,QAAQ;AACV,UAAM,IAAI,MAAM;AAAA;AAElB,MAAI,CAAC,UAAU,CAAC,OAAO,QAAQ;AAC7B,UAAM,IAAI,MAAM;AAAA;AAAA;AAIpB,yBAAgC,MAAqC;AACnE,QAAM,EAAE,WAAW,MAAM,KAAK,EAAE,SAAS,kBAAkB,aAAa,qBAAqB;AAC7F,MAAI,QAAQ;AACV,UAAM,gBAAgB,OAAO,MAAM,GAAG;AACtC,UAAM,sBAAsB,OAAO,MAAM;AAGzC,QAAI,CAAC,iBAAiB,CAAC,qBAAqB;AAC1C,qBAAO,UAAU;AACjB,YAAM,IAAI,MAAM;AAAA;AAAA;AAAA;AAKtB,mCAA4D;AAC1D,MAAI;AACF,UAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS;AACjD,QAAI,QAAQ;AACV,aAAO;AAAA;AAIT,WAAO,CAAC,CAAC,OAAO,MAAM;AAAA,WACf,OAAP;AACA,mBAAO,SAAS,MAAM;AACtB,WAAO;AAAA;AAAA;AAIX,mCAA0C,MAAqC;AAE7E,QAAM,YAAY,MAAM;AAGxB,MAAI,WAAW;AAEb;AAAA;AAEF,QAAM,UAAU;AAAA;AAyBlB,gCAAuC,MAAsC;AAC3E,MAAI;AAEF,UAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,mCAAmC;AACpF,QAAI,QAAQ;AACV,aAAO;AAAA;AAGT,WAAO;AAAA,WACA,OAAP;AACA,mBAAO,UAAU,MAAM;AAEvB,WAAO;AAAA;AAAA;AAIX,sCAA6C,SAAmC;AAC9E,MAAI;AAEF,UAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,sBAAsB;AACvE,QAAI,QAAQ;AACV,aAAO;AAAA;AAET,WAAO,CAAC,CAAC,OAAO;AAAA,WACT,OAAP;AACA,mBAAO,UAAU,MAAM;AAEvB,WAAO;AAAA;AAAA;AAIX,iCAAwC,QAAkC;AACxE,MAAI;AAEF,UAAM,EAAE,QAAQ,WAAW,MAAM,KAAK,EAAE,SAAS,cAAc;AAC/D,QAAI,QAAQ;AACV,aAAO;AAAA;AAET,WAAO,CAAC,CAAC,OAAO;AAAA,WACT,OAAP;AACA,WAAO;AAAA;AAAA;;;AC7NX,IAAM,qBAAqB,OAAO,SAAmC;AACnE,QAAM,UAAyB,MAAM,AAAI,iBAAiB;AAC1D,MAAI,CAAC,SAAS;AACZ,WAAO;AAAA;AAET,QAAM,UAAkB,MAAM,AAAI,uBAAuB;AACzD,SAAO;AAAA;AAGF,IAAM,cAAc,OAAO,UAAoB,OAAsB;AAC1E,MAAI,WAAW,QAAQ,QAAQ;AAE7B,eAAW,UAAU,SAAS;AAC5B,YAAM,eAAe,MAAM,mBAAmB;AAC9C,UAAI,CAAC,cAAc;AACjB,cAAM,AAAI,WAAW;AAAA;AAAA;AAAA;AAAA;;;AClB7B,eAA0B;AAC1B,cAAwB;AAQxB,IAAM,gBAAuD;AAE7D,IAAM,iBAAiB,CAAC,YAAoB;AAC1C,gBAAc,SAAS;AACvB,SAAO,cAAc;AAAA;AAGhB,IAAM,eAAe,CAAC,WAAqB,OAAa;AAC7D,MAAI,CAAC,SAAS,QAAQ;AAEpB,eAAW,WAAW,OAAO,KAAK,gBAAgB;AAChD,qBAAe;AAAA;AAAA;AAGnB,aAAW,WAAW,UAAU;AAC9B,QAAI,CAAC,cAAc,UAAU;AAG3B,YAAM,YAAgC,AAAS,eAAM,SAAS;AAAA,QAC5D,KAAK;AAAA,QACL,UAAU;AAAA;AAIZ,YAAM,WAAwB;AAG9B,gBAAU,GAAG,UAAU,CAAC,OAAM,UAAU;AACtC,cAAM,MAAM,CAAC,IAAI;AACjB,YAAI,CAAC,YAAY,WAAW,MAAM,KAAM;AACtC,UAAO,iBAAS,eAAe,SAAS,UAAU;AAAA,YAChD,WAAW;AAAA,cACT,WAAW,MAAM;AAEf,+BAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AASzB,oBAAc,WAAW;AAAA;AAAA;AAAA;AAKxB,IAAM,gBAAgB,MAAY;AACvC,aAAW,WAAW,OAAO,KAAK,gBAAgB;AAChD,mBAAe;AAAA;AAAA;;;AC3DnB,mBAAqB;AACrB,cAAwB;AAGxB,IAAM,YAAY,OAAO,QAAkB,OAAsB;AAC/D,MAAI,CAAC,MAAM,QAAQ;AACjB;AAAA;AAEF,aAAW,YAAY,OAAO;AAC5B,QAAI;AACF,YAAM,mBAAkE,AAAO,kBAAU;AACzF,UAAI,CAAC,oBAAoB,CAAC,iBAAiB,QAAQ;AACjD,cAAM,IAAI,MAAM;AAAA;AAElB,YAAM,KAAa,iBAAiB,GAAG,IAAI;AAC3C,YAAM,mBAAmB,uBAAK,IAAI;AAClC,YAAM,MAAM,MAAM,AAAO,kBAAU,iBAAiB;AACpD,YAAM,AAAO,eAAO,iBAAiB,KAAK,AAAO,mBAAW;AAAA,aACrD,OAAP;AACA,qBAAO,uBAAuB,aAAa,MAAM;AAAA;AAAA;AAAA;AAKvD,IAAO,oBAAQ;;;ACpBf,IAAM,cAAc,OAAO,aAAqB,OAAsB;AACpE,MAAI,CAAC,WAAS,QAAQ;AACpB;AAAA;AAEF,aAAW,WAAW,YAAU;AAC9B,UAAM,WAAU;AAAA,MACd,OAAO;AAAA,MACP,aAAa;AAAA;AAEf,mBAAO,YAAY;AACnB,SAAK,EAAE,MAAM,iBAAiB,SAAS,EAAE,SAAS,KAAK,UAAS,QAAQ;AACxE,QAAI;AACJ,QAAI;AACF,eAAS,MAAM,KAAK,EAAE;AACtB,UAAI,OAAO,QAAQ;AACjB,cAAM,IAAI,MAAM,OAAO;AAAA;AAEzB,qBAAO,mBAAmB,OAAO;AAAA,aAC1B,OAAP;AACA,qBAAO,mBAAmB,MAAM;AAChC,WAAK,EAAE,MAAM,gBAAgB,SAAS,EAAE,SAAS,KAAK,UAAS,QAAQ;AACvE;AAAA;AAEF,SAAK,EAAE,MAAM,mBAAmB,SAAS,EAAE,SAAS,KAAK,UAAS,QAAQ;AAAA;AAAA;AAI9E,IAAO,sBAAQ;;;AC/Bf,cAAwB;AASxB,IAAM,oBAAoB,OAAO,aAA+B,OAAsB;AACpF,MAAI,CAAC,WAAS,QAAQ;AACpB;AAAA;AAEF,aAAW,WAAW,YAAU;AAC9B,QAAI,OAAO,YAAY,UAAU;AAE/B,YAAM,AAAO,iBAAS,eAAe;AAAA,eAC5B,MAAM,QAAQ,UAAU;AAEjC,YAAM,CAAC,MAAM,UAAU;AACvB,YAAM,AAAO,iBAAS,eAAe,MAAM;AAAA;AAAA;AAAA;AAKjD,IAAO,4BAAQ;;;ACxBf,cAAwB;AAGjB,IAAM,UAAU,CAAC,WAA4B;AAClD,EAAO,iBAAS,eAAe,SAAS,UAAU,iCAAQ;AAAA;;;ACJ5D,wBAAkB;AAIlB,IAAM,iBAAiB;AAAA,EACrB,MAAM;AAAA,EACN,OAAO;AAAA,EACP,UAAU;AAAA,EACV,eAAe;AAAA,EACf,gBAAgB;AAAA,EAChB,mBAAmB;AAAA;AAIrB,IAAI;AAEG,IAAM,eAAe,CAAC,kBAAoC;AAC/D,MAAI,CAAC,cAAc,KAAK;AACtB;AAAA;AAGF,gBAAc,cAAc;AAG5B,QAAM,SAAS,cAAc;AAC7B,aAAW,aAAa,OAAO,KAAK,UAAU,KAAK;AACjD,mBAAe,aAAa,OAAO;AAAA;AAAA;AAIvC,IAAM,sBAAsB,OAAU,eAAiC;AACrE,MAAI,CAAC,aAAa;AAChB;AAAA;AAGF,QAAM,UAAU,EAAE,gBAAgB;AAElC,MAAI,eAAe;AACjB,YAAQ,yBAAyB;AAAA;AAGnC,QAAM,OAAO,KAAK,UAAU;AAE5B,MAAI;AACF,UAAM,YAAY,MAAM,+BAAM,aAAa;AAAA,MACzC,QAAQ;AAAA,MACR;AAAA,MACA;AAAA;AAEF,QAAI,CAAC,UAAU,IAAI;AACjB,YAAM,IAAI,MAAM;AAAA;AAElB,mBAAO,2BAA2B,yBAAyB,KAAK,UAAU;AAAA,WACnE,KAAP;AACA,mBAAO,mCAAmC,yBAAyB,KAAK,UAAU;AAAA;AAAA;AAS/E,IAAM,SAAS,CAAC,UAAkC;AACvD,MAAI,eAAe,MAAM;AACvB,wBAAsC;AAAA;AAAA;AAQnC,IAAM,UAAU,CAAC,UAAmC;AACzD,MAAI,eAAe,OAAO;AACxB,wBAAuC;AAAA;AAAA;AAQpC,IAAM,aAAa,CAAC,UAAmC;AAC5D,MAAI,eAAe,UAAU;AAC3B,wBAA0C;AAAA;AAAA;AAMvC,IAAM,iBAAiB,CAAC,UAA0C;AACvE,MAAI,eAAe,eAAe;AAChC,wBAA8C;AAAA;AAAA;AAM3C,IAAM,kBAAkB,CAAC,UAA2C;AACzE,MAAI,eAAe,gBAAgB;AACjC,wBAA+C;AAAA;AAAA;AAM5C,IAAM,qBAAqB,CAAC,UAA8C;AAC/E,MAAI,eAAe,mBAAmB;AACpC,wBAAkD;AAAA;AAAA;;;ACjG/C,IAAM,UAAS,OAAO,UAAyB,eAAsC;AAC1F,QAAM,YAAY,qCAAS;AAC3B,QAAM,oBAAY,qCAAS;AAC3B,QAAM,0BAAkB,qCAAS;AACjC,EAAS,OAAO;AAAA,IACd;AAAA,IACA,iBAAiB;AAAA;AAAA;AAWd,IAAM,eAAe,OAAO,aAA2C;AAC5E,QAAM,YAAY,qCAAS;AAC3B,QAAM,kBAAU,qCAAS;AACzB,QAAM,aAAa,qCAAS;AAC5B,QAAM,oBAAY,qCAAS;AAC3B,QAAM,0BAAkB,qCAAS;AAAA;AAI5B,IAAM,kBAAkB,OAAO,aAA2C;AAC/E,QAAM,AAAI;AACV,QAAM,YAAY,qCAAS;AAC3B,QAAM,kBAAU,qCAAS;AACzB,QAAM,oBAAY,qCAAS;AAC3B,QAAM,0BAAkB,qCAAS;AACjC,QAAM;AAAA;AAID,IAAM,WAAU,OAAO,UAAyB,eAAsC;AAC3F,QAAM;AACN,QAAM,oBAAY,qCAAS;AAC3B,QAAM,0BAAkB,qCAAS;AACjC,EAAS,QAAQ;AAAA,IACf;AAAA;AAAA;AAKG,IAAM,cAAa,OAAO,UAAyB,eAAsC;AAC9F,QAAM,oBAAY,qCAAS;AAC3B,QAAM,0BAAkB,qCAAS;AACjC,EAAS,WAAW;AAAA,IAClB;AAAA;AAAA;AAUG,IAAM,kBAAiB,OAAO;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,MAKmB;AACnB,EAAI,WAAW,kBAAkB;AACjC,EAAU,QAAQ,iBAAiB,EAAE,YAAY,QAAQ,SAAS,SAAS;AAC3E,EAAS,eAAe;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA;AAAA;AAKG,IAAM,mBAAkB,OAAO;AAAA,EACpC;AAAA,EACA;AAAA,MAImB;AACnB,EAAU,QAAQ,kBAAkB,EAAE,YAAY,SAAS,SAAS;AACpE,EAAS,gBAAgB;AAAA,IACvB;AAAA,IACA;AAAA;AAAA;AAKG,IAAM,sBAAqB,OAAO,EAAE,iBAAwD;AACjG,EAAU,QAAQ,qBAAqB,EAAE,YAAY,SAAS;AAC9D,EAAS,mBAAmB;AAAA,IAC1B;AAAA;AAAA;;;AC7GJ,eAAwB;;;ACUxB,oBAAiB;AAAA,EAKf,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,KAMC;AAMI,eAAM,YAAwB;AACnC,UAAI,sBAAsB;AACxB,YAAI;AAEF,gBAAM,cAAc,MAAM,UAAS,sBAAsB,GAAG,KAAK;AACjE,cAAI,CAAC,aAAa;AAChB,kBAAM,IAAI,MAAM;AAAA;AAElB,gBAAM,OAAU,KAAK,MAAM;AAE3B,cAAI,MAAM;AAER,kBAAM,OAAO,OAAO,KAAK;AACzB,gBAAI,KAAK,QAAQ;AACf,qBAAO;AAAA;AAAA;AAAA,iBAGJ,KAAP;AACA,yBAAO,yCAAyC,wBAAwB,KAAK,kBAAkB,IAAI;AAAA;AAAA;AAGvG,YAAM,QAA4B,MAAM,KAAK,QAAQ,IAAI,KAAK;AAC9D,UAAI,OAAO;AAET,YAAI;AACF,iBAAO,KAAK,MAAM;AAAA,iBACX,KAAP;AACA,yBAAO,qDAAqD,UAAU,IAAI;AAAA;AAAA;AAI9E,aAAO,KAAK;AAAA;AAEP,eAAM,CAAC,UAAmB;AAC/B,YAAM,cAAc,KAAK,UAAU;AACnC,WAAK,QAAQ,OAAO,KAAK,KAAK;AAC9B,WAAK,mBAAmB;AAAA;AAEnB,kBAAS,OAAO,UAA4B;AACjD,YAAM,UAAU,MAAM,KAAK;AAC3B,YAAM,OAAO,KAAK,UAAU;AAAA,WACvB;AAAA,WACA;AAAA;AAEL,YAAM,KAAK,QAAQ,OAAO,KAAK,KAAK;AAEpC,WAAK,mBAAmB;AAAA;AAcnB,iBAAQ,MAAM;AACnB,WAAK,IAAI,KAAK;AAAA;AAlEd,SAAK,UAAU;AACf,SAAK,MAAM;AACX,SAAK,WAAW;AAChB,SAAK,eAAe;AAAA;AAAA,EAkDf,mBAAmB,MAAc;AAEtC,QAAI,sBAAsB;AACxB,UAAI;AACF,mBAAU,MAAM,sBAAsB,GAAG,KAAK;AAAA,eACvC,KAAP;AACA,uBACE,6CAA6C,wBAAwB,KAAK,kBAAkB,IAAI;AAAA;AAAA;AAAA;AAAA;AAU1G,IAAO,kBAAQ;;;AC5Ff,IAAM,eAA2B;AAAA,EAC/B,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,UAAU;AAAA;AAIZ,qBAAe;AAAA,EAGb,cAAc;AA2BP,eAAM,MAAkB;AAC7B,aAAO,KAAK;AAAA;AAEP,eAAM,CAAC,UAAkC;AA7ClD;AA8CI,WAAK,QAAQ;AACb,iBAAK,YAAL,mBAAc,IAAI;AAClB,aAAO,KAAK;AAAA;AAEP,iBAAQ,MAAkB;AAC/B,aAAO,KAAK,IAAI;AAAA;AAnChB,SAAK,QAAQ;AAAA;AAAA,EAEf,YAAY,gBAAgC,UAA6B;AACvE,SAAK,UAAU,IAAI,gBAAoB;AAAA,MACrC,KAAK,qBAAqB,SAAS,MAAM,SAAS;AAAA,MAClD,UAAU;AAAA,MACV,SAAS;AAAA,MACT;AAAA;AAAA;AAAA,QAGE,aAAa,gBAAgC,UAA4C;AAE7F,SAAK,YAAY,gBAAgB;AAEjC,UAAM,YAAY,SAAS,OAAO,SAAS,SAAS,OAAO,KAAK;AAChE,WAAO,KAAK,IAAI;AAAA,MACd,SAAS,wCAAW,OAAM;AAAA,MAC1B,QAAQ,wCAAW,MAAM,UAAS,UAAU,MAAM,GAAG,KAAK;AAAA,MAC1D,UAAU;AAAA;AAAA;AAAA,QAGR,iBAAiB,gBAAgC,UAA4C;AArCrG;AAsCI,SAAK,YAAY,gBAAgB;AACjC,UAAM,WAAwB,MAAM,YAAK,YAAL,mBAAc,UAAU;AAC5D,WAAO,KAAK,IAAI;AAAA;AAAA;AAepB,IAAO,mBAAQ;;;AClDf,qBAAe;AAAA,EAGb,YAAY,gBAAgC;AADpC,iBAA4B;AAa7B,eAAM,MAA0B;AACrC,aAAO,KAAK;AAAA;AAEP,eAAM,CAAC,UAAoC;AAChD,WAAK,QAAQ;AACb,WAAK,QAAQ,IAAI;AAAA;AAEZ,iBAAQ,MAAY;AACzB,WAAK,IAAI;AAAA;AAnBT,SAAK,UAAU,IAAI,gBAA4B;AAAA,MAC7C,KAAK;AAAA,MACL,UAAU;AAAA,MACV,SAAS;AAAA,MACT,cAAc;AAAA;AAGhB,SAAK,QAAQ,MAAM,KAAK,CAAC,UAA8B;AACrD,WAAK,QAAQ;AAAA;AAAA;AAAA;AAenB,IAAO,mBAAQ;;;AC1Bf,oBAAc;AAAA,EAIZ,YAAY,gBAAgC;AAMrC,iBAAQ,OAAO,aAA6D;AACjF,WAAK,SAAS,IAAI;AAClB,YAAM,WAAuB,MAAM,KAAK,SAAS,aAAa,KAAK,gBAAgB;AACnF,aAAO,EAAE;AAAA;AAEJ,sBAAa,OAAO,aAA6D;AACtF,YAAM,WAAuB,MAAM,KAAK,SAAS,iBAAiB,KAAK,gBAAgB;AACvF,aAAO,EAAE;AAAA;AAXT,SAAK,iBAAiB;AACtB,SAAK,WAAW,IAAI,iBAAS;AAC7B,SAAK,WAAW,IAAI;AAAA;AAAA;AAaxB,IAAO,kBAAQ;;;AC3Bf,cAAwB;AAMxB,yBAAkB;AAGlB,IAAM,YAAY,OAAO,YAAoC;AAT7D;AAUE,MAAI;AAEF,UAAM,oBAAoB,CAAC,eAAe;AAC1C,QAAI,mBAAmB;AACrB,YAAM,QAAwB;AAAA,QAC5B,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,UACP;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA;AAAA;AAIlB,WAAK,EAAE,MAAM,gBAAgB,SAAS,EAAE;AACxC;AAAA;AAGF,UAAM,OAAM;AAAA,MACV,WAAW,AAAO,YAAI;AAAA,MACtB,WAAW,AAAO,YAAI;AAAA;AAIxB,UAAM,WAA+B,QAAQ,SAAS;AAGtD,QAAI,CAAC,YAAY,CAAC,SAAS,SAAS;AAClC,UAAI,cAAc;AAChB,uBAAO,gCAAgC;AAEvC,YAAI;AACF,gBAAM,cAAc,MAAM,gCAAM;AAChC,gBAAM,YAAwB,MAAM,YAAY;AAChD,yBAAO,aAAa,6CAAU,YAAV,mBAAmB,UAAU,uCAAU;AAC3D,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA,iBACO,GAAP;AAEA,gBAAM,IAAI,MAAM,oCAAoC,4BAA4B,EAAE;AAAA;AAAA;AAItF,WAAK,EAAE,MAAM,sBAAsB,SAAS,EAAE;AAC9C;AAAA;AAIF,UAAM,EAAE,aAAa,MAAM,QAAQ,WAAW;AAC9C,mBAAO,4CAA4C,qCAAU,gBAAgB,qCAAU;AAEvF,SAAK,EAAE,MAAM,wBAAwB,SAAS,EAAE,WAAK,UAAU;AAAA,WACxD,GAAP;AACA,UAAM,QAAQ;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,EAA+B,EAAE;AAAA;AAE5C,SAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AAAA;AAAA;AAIrD,IAAO,oBAAQ;;;ACvEf,eAAwB;AAIxB,qBAA0B;;;ACF1B,eAAwB;AAWxB,IAAM,iBAAiB,OAAO,EAAE,MAAM,wBAA8E;AAClH,MAAI,CAAC,mBAAmB;AAEtB,UAAM,YAAmC,MAAM,AAAI,kBAAkB,MACnE,CAAC,UAAkC;AAAA,MACjC,MAAM;AAAA,MACN,SAAS,MAAM;AAAA,MACf,SAAS,CAAC,EAAE,OAAO,SAAS,YAAY;AAAA;AAI5C,QAAI,WAAW;AACb,aAAO;AAAA;AAIT,UAAM,qBAA4C,MAAM,AAAI,oBAAoB,KAAK,OAAO,MAAM,MAChG,CAAC,UAAkC;AAAA,MACjC,MAAM;AAAA,MACN,SAAS,MAAM;AAAA,MACf,SAAS,CAAC,EAAE,OAAO,SAAS,YAAY;AAAA;AAI5C,QAAI,oBAAoB;AACtB,aAAO;AAAA;AAIT,UAAM,sBAA6C,MAAM,AAAI,oBAAoB,KAAK,OAAO,KAAK,KAAK,MACrG,CAAC,UAAkC;AAAA,MACjC,MAAM;AAAA,MACN,SAAS,MAAM;AAAA;AAInB,QAAI,qBAAqB;AACvB,aAAO;AAAA;AAAA;AAIX,QAAM,AAAO,kBAAS,eAAe,SAAS,oBAAoB,EAAE,MAAM;AAE1E,MAAI,CAAC,qBAAqB;AAExB,UAAM,gBAAgB,CAAC,aAA2C;AAEhE,UAAI,SAAS,IAAI,WAAW,QAAQ;AAClC,eAAO;AAAA;AAET,aAAO;AAAA;AAIT,IAAO,mBAAU,sBAAsB,CAAC,aAAkC;AACxE,UAAI,cAAc,WAAW;AAC3B,QAAO,kBAAS,eAAe,SAAS;AAAA;AAAA;AAAA;AAAA;AAMhD,IAAO,yBAAQ;;;AD/Df,IAAM,sBAAsB,OAAO,QAAkB,YAAoC;AAZzF;AAaE,MAAI;AACF,UAAM,OAAoB,OAAO,QAAQ;AAEzC,YAAQ,kBAAkB;AAAA,MACxB,YAAY,KAAK;AAAA,MACjB,iBAAiB,KAAK;AAAA,MACtB,eAAe,KAAK,QAAQ;AAAA;AAI9B,UAAM,qBAAqB,iBAAK,WAAL,mBAAa,gBAAb,mBAA0B;AACrD,QAAI,oBAAoB;AACtB,YAAM,YAAY,AAAO,oBAAW,aAAa;AACjD,UAAI,WAAW;AACb,cAAM,oBAAoB,UAAU,YAAY;AAChD,cAAM,YAAY,8BAAU,mBAAmB;AAC/C,YAAI,CAAC,WAAW;AACd,gBAAM,SAAwB;AAAA,YAC5B,MAAM;AAAA,YACN,SAAS,sBAAsB,kCAAkC;AAAA;AAEnE,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAAA;AAAA;AAMN,UAAM,QAAQ,MAAM;AAGpB,UAAM,eAAe,KAAK,OAAO;AACjC,QAAI,gBAAgB,aAAa,QAAQ;AACvC,iBAAW,OAAO,cAAc;AAE9B,cAAM,EAAE,SAAS,OAAO,aAAa,MAAM,WAAW,IAAI;AAC1D,YAAI,UAAU;AAEZ,gBAAM,SAAwB;AAAA,YAC5B,MAAM;AAAA,YACN,SAAS,SAAS;AAAA,YAClB,SAAS;AAAA,cACP;AAAA,gBACE,OAAO;AAAA,gBACP,YAAY;AAAA;AAAA;AAAA;AAIlB,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAEF,YAAI,CAAC,SAAS;AAEZ,gBAAM,SAAwB;AAAA,YAC5B,MAAM;AAAA,YACN,SAAS,IAAI,WAAW,YAAY,IAAI;AAAA,YACxC,SAAS;AAAA,cACP;AAAA,gBACE,OAAO;AAAA,gBACP,YAAY;AAAA;AAAA;AAAA;AAIlB,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAIF,cAAM,sBAAsB,MAAM,gBAAgB,SAAS,IAAI;AAE/D,YAAI,CAAC,qBAAqB;AACxB,gBAAM,SAAwB;AAAA,YAC5B,MAAM;AAAA,YACN,SAAS,YAAY,IAAI,wBAAwB,IAAI,8BAA8B;AAAA,YACnF,SAAS;AAAA,cACP;AAAA,gBACE,OAAO;AAAA,gBACP,YAAY;AAAA;AAAA;AAAA;AAIlB,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAGF,YAAI,wBAAwB,MAAM;AAChC,gBAAM,SAAwB,uBAAuB;AAAA,YACnD,MAAM;AAAA,YACN,SAAS,iDAAiD,IAAI;AAAA,YAC9D,SAAS;AAAA,cACP;AAAA,gBACE,OAAO;AAAA,gBACP,YAAY;AAAA;AAAA;AAAA;AAIlB,eAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAAA;AAAA;AAKN,UAAM,QAA+B,MAAM,uBAAe,EAAE,QAAQ,MAAM,CAAC,WAAkB;AAAA,MAC3F,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,EAAiC,OAAM;AAAA;AAIlD,QAAI,SAAS,MAAM,MAAM;AACvB,WAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AACnD;AAAA;AAIF,QAAI,WAAK,WAAL,mBAAa,SAAS;AACxB,mBAAa,KAAK,OAAO;AAAA;AAI3B,SAAK,EAAE,MAAM;AAAA,WACN,GAAP;AACA,UAAM,QAAQ;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,GAAuC,EAAE;AAAA;AAEpD,SAAK,EAAE,MAAM,2BAA2B,SAAS,EAAE;AAAA;AAAA;AAIvD,IAAO,8BAAQ;;;AE9If,eAAwB;AAUxB,IAAM,2BAA2B,OAAO,QAAkB,YAAoC;AAV9F;AAWE,MAAI;AACF,UAAM,qBAAyC,QAAQ,SAAS;AAChE,mBAAO,aAAa,+DAAoB,YAApB,mBAA6B,UAAU,yDAAoB;AAC/E,QAAI,CAAC,oBAAoB;AACvB,YAAM,IAAI,MAAM;AAAA;AAGlB,IAAO,kBAAS,eAAe,SAAS,sBAAsB,OAAO,QAAQ;AAC7E,UAAM,uBAAe;AAAA,MACnB,MAAM;AAAA,MACN,mBAAmB;AAAA;AAIrB,QAAI,yBAAmB,WAAnB,mBAA2B,SAAS;AACtC,mBAAa,mBAAmB,OAAO;AAAA;AAIzC,UAAM,kBAAkB,+DAAoB,WAApB,mBAA4B;AACpD,QAAI,iBAAiB;AACnB,YAAM,AAAM,YACV,EAAE,UAAU,mDAAiB,UAAU,gBAAgB,mDAAiB,kBACxE,yDAAoB;AAAA;AAAA,WAGjB,GAAP;AACA,UAAM,QAAQ;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,GAAkD,EAAE;AAAA;AAE/D,SAAK,EAAE,MAAM,mBAAmB,SAAS,EAAE;AAAA;AAAA;AAI/C,IAAO,mCAAQ;;;ACxCf,IAAM,kBAAkB,YAA2B;AACjD,MAAI;AAEF,UAAM,mBAAmB,MAAM;AAC/B,QAAI,CAAC,kBAAkB;AACrB,YAAM,QAAwB;AAAA,QAC5B,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,UACP;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA,UAEd;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA;AAAA;AAIlB,WAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AACjD;AAAA;AAIF,UAAM,EAAE,SAAS,OAAO,aAAa,MAAM,WAAW;AACtD,QAAI,UAAU;AAEZ,YAAM,QAAwB;AAAA,QAC5B,MAAM;AAAA,QACN,SAAS,SAAS;AAAA,QAClB,SAAS;AAAA,UACP;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA;AAAA;AAIlB,WAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AACjD;AAAA;AAEF,QAAI,CAAC,SAAS;AACZ,YAAM,QAAwB;AAAA,QAC5B,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,UACP;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA;AAAA;AAIlB,WAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AACjD;AAAA;AAGF,UAAM,0BAA0B,MAAM,kBAAkB;AACxD,UAAM,2BAA2B,MAAM,kBAAkB;AAEzD,QAAI,CAAC,2BAA2B,CAAC,0BAA0B;AACzD,UAAI,UAAU;AACd,UAAI,CAAC;AAAyB,mBAAW;AACzC,UAAI,CAAC;AAA0B,mBAAW;AAC1C,YAAM,QAAwB;AAAA,QAC5B,MAAM;AAAA,QACN;AAAA,QACA,SAAS;AAAA,UACP;AAAA,YACE,OAAO;AAAA,YACP,YAAY;AAAA;AAAA;AAAA;AAIlB,WAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AACjD;AAAA;AAGF,SAAK,EAAE,MAAM;AAAA,WACN,GAAP;AACA,UAAM,QAAQ;AAAA,MACZ,MAAM;AAAA,MACN,SAAS,EAAE;AAAA;AAEb,SAAK,EAAE,MAAM,yBAAyB,SAAS,EAAE;AAAA;AAAA;AAIrD,IAAO,0BAAQ;;;ACrFf,IAAM,cAAc,MAAM;AAAA;AAM1B,IAAM,QAAQ,OAAO,EAAE,QAAQ,WAAiC;AAC9D,QAAM,SAAS;AAEf,MAAI;AAGF,UAAM,KAAK,EAAE,SAAS,cAAc,MAAM;AAG1C,UAAM,YAAY,MAAM,KAAK,EAAE,SAAS;AACxC,UAAM,cAAc,UAAU;AAE9B,UAAM,YAAY,MAAM,KAAK,EAAE,SAAS,mBAAmB,MAAM;AACjE,QAAI,CAAC,aAAa,CAAC,UAAU,UAAU,CAAC,UAAU,OAAO,QAAQ;AAC/D,YAAM,IAAI,MAAM;AAAA,eACP,CAAC,UAAU,OAAO,MAAM,IAAI,OAAO,UAAU;AACtD,YAAM,IAAI,MAAM,OAAO;AAAA;AAIzB,UAAM,KAAK;AAAA,MACT,SAAS;AAAA;AAGX,UAAM,KAAK;AAAA,MACT,SAAS;AAAA,OACR,MAAM;AAGT,UAAM,KAAK;AAAA,MACT,SAAS;AAAA,OACR,MAAM;AACT,UAAM,WAAW,cAAc,MAAM;AAErC,UAAM,KAAK;AAAA,MACT,SAAS,iBAAiB;AAAA;AAE5B,UAAM,KAAK;AAAA,MACT,SAAS,mBAAmB;AAAA;AAI9B,UAAM,KAAK;AAAA,MACT,SAAS,sBAAsB;AAAA;AAEjC,UAAM,KAAK;AAAA,MACT,SAAS,sBAAsB;AAAA;AAGjC,UAAM,KAAK;AAAA,MACT,SAAS,oBAAoB;AAAA;AAAA,WAExB,OAAP;AACA,mBAAO,oBAAoB,MAAM;AAAA;AAAA;AAIrC,IAAO,gBAAQ;;;ACnEf,IAAM,oBAAoB,CAAC,UAAsB,aAAyC;AAH1F;AAIE,MAAI,CAAC,UAAU;AACb,UAAM,IAAI,MAAM;AAAA;AAElB,QAAM,EAAE,WAAW;AAEnB,QAAM,EAAE,SAAS,WAAW;AAE5B,MAAI,QAA8B,OAAO,KAAK,CAAC,MAAM,YAAY,EAAE;AACnE,MAAI,CAAC,OAAO;AACV,UAAM,IAAI,MAAM,2BAA2B;AAAA;AAI7C,MAAI,CAAC,MAAM,SAAS,CAAC,MAAM,MAAM,QAAQ;AACvC,QAAI,MAAM,SAAS,MAAM,MAAM,SAAS;AAEtC,YAAM,eAAe,MAAM,MAAM;AACjC,aAAO,aAAa,aAAa,SAAS;AAAA,WACrC;AAGL,YAAM,aAAa,OAAO,UAAU,CAAC,MAAgB,MAAM,OAAO,EAAE;AACpE,UAAI,aAAa,GAAG;AAClB,gBAAQ,OAAO,aAAa;AAAA,aACvB;AAEL,cAAM,gBAAgB,eAAS,OAAO,UAAhB,mBAAuB;AAC7C,YAAI,CAAC,eAAe;AAClB,gBAAM,IAAI,MAAM;AAAA;AAElB,eAAO,cAAc,cAAc,SAAS;AAAA;AAAA;AAAA;AAKlD,QAAM,OAAO,MAAM,MAAM,KAAK,CAAC,MAAM,WAAW,EAAE;AAClD,MAAI,CAAC,MAAM;AACT,UAAM,IAAI,MAAM,0BAA0B;AAAA;AAE5C,QAAM,UAAU,YAAK,UAAL,mBAAY,YAAW;AACvC,MAAI,CAAC,QAAQ,QAAQ;AACnB,UAAM,IAAI,MAAM,4BAA4B;AAAA;AAE9C,SAAO,QAAQ,QAAQ,SAAS;AAAA;AAGlC,IAAO,mBAAQ;;;ACpCf,IAAM,aAAa,OAAO,QAAqB,YAAoC;AAdnF;AAgBE,QAAM,WAA+B,QAAQ,SAAS;AACtD,QAAM,WAAuB,OAAO,WAAW,OAAO,WAAW,QAAQ,SAAS;AAGlF,QAAM,OAAe,iBAAwB,UAAU;AAEvD,QAAM,SAAS,qCAAU,OAAO,KAAK;AAErC,MAAI,CAAC,QAAQ;AACX,mBAAO;AACP;AAAA;AAIF,QAAM,cAAM,EAAE,QAAQ;AAGtB,QAAM,eAAe,2CAAU,WAAV,mBAAkB;AACvC,MAAI,cAAc;AAChB,UAAM,AAAM,SACV,EAAE,UAAU,6CAAc,UAAU,gBAAgB,6CAAc,kBAClE,qCAAU;AAAA;AAAA;AAKhB,IAAO,qBAAQ;;;ACvCR,IAAM,aAAa,OAAO,WAAoC;AACnE,QAAM,UAAU,OAAO,QAAQ;AAC/B,QAAM,WAAW;AAAA;;;AbQnB,oBAAiC;AAAA,EAE/B,YAAY,gBAAgC;AAMrC,mBAAU,OAAO,WAAoC;AAC1D,UAAI,OAAO,WAAW,YAAY;AAEhC;AAAA;AAIF,YAAM,aAAqB,OAAO,WAAW,WAAW,SAAS,OAAO;AAExE,UAAI,eAAe,cAAc;AAG/B,uBAAO,OAAO;AACd;AAAA;AAGF,qBAAO;AAEP,cAAQ;AAAA,aACD;AACH,UAAQ,kBAAU,KAAK;AACvB;AAAA,aAGG;AACH,UAAQ,4BAAoB,QAAQ,KAAK;AACzC;AAAA,aACG;AACH,UAAQ,iCAAyB,QAAQ,KAAK;AAC9C;AAAA,aACG;AACH,UAAQ;AACR;AAAA,aACG;AACH;AACA;AAAA,aAEG;AAAA,aACA;AACH,gBAAM,AAAO,kBAAS,eAAe,SAAS,sBAAsB,OAAO,QAAQ;AACnF,gBAAM,AAAM,aAAa,OAAO,QAAQ;AACxC;AAAA,aAEG;AACH,gBAAM,AAAO,kBAAS,eAAe,SAAS,sBAAsB,OAAO,QAAQ;AACnF,gBAAM,AAAM,gBAAgB,OAAO,QAAQ;AAC3C;AAAA,aACG;AAEH,gBAAM,KAAK,QAAQ,SAAS,IAAI,OAAO,QAAQ;AAC/C;AAAA,aACG;AACH,UAAQ,WAAW;AACnB;AAAA,aACG;AACH,UAAQ,QAAQ;AAChB;AAAA,aACG;AACH,UAAQ,mBAAW,EAAE,MAAM,YAAY,KAAK;AAC5C;AAAA,aACG;AACH,UAAQ,mBAAW,EAAE,MAAM,YAAY,UAAU,OAAO,QAAQ,YAAY,KAAK;AACjF;AAAA,aACG;AACH,gBAAM,AAAM,gBAAe,OAAO;AAClC;AAAA,aACG;AACH,gBAAM,AAAM,iBAAgB,OAAO;AACnC;AAAA,aACG;AACH,gBAAM,AAAM,oBAAmB,OAAO;AACtC;AAAA;AAEA,yBAAO,6BAA6B;AACpC;AAAA;AAAA;AA9EJ,SAAK,UAAU,IAAI,gBAAQ;AAAA;AAAA;AAmF/B,IAAO,kBAAQ;;;Ac3FR,IAAM,WAAW;AAAA,EACtB,OAAO;AAAA,EACP,oBAAoB;AAAA,EACpB,UAAU;AAAA,EACV,sBAAsB;AAAA,EACtB,OAAO;AAAA;AAQT,IAAI,eAAe,CAAC,WAA2B;AAAA;AAMxC,IAAM,OAAO,CAAC,WAA2B;AAE9C,iBAAO,GAAG,OAAO,WAAW,WAAW,SAAS,OAAO;AACvD,eAAa;AAAA;AAGR,IAAM,iBAAiB,CAAC,iBAA6D;AAC1F,QAAM,EAAE,eAAe,mBAAmB;AAE1C,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,QAAM,UAAU,IAAI,gBAAQ;AAE5B,QAAM,QAAQ,YAAY;AACxB,QAAI,WAAW,QAAQ,MAAM,QAAQ;AACnC,cAAQ;AAAA,WACH;AAEL,gBAAU,MAAM,eAAc;AAAA,QAC5B;AAAA,QACA;AAAA;AAIF,qBAAe,QAAQ;AAAA;AAAA;AAK3B;AAEA,SAAO;AAAA,KACJ,SAAS,QAAQ;AAAA,KACjB,SAAS,qBAAqB,OAAO;AAAA,MACpC;AAAA,MACA;AAAA,UAII;AACJ,UAAI,CAAC,mBAAmB;AACtB,cAAM,eAAe,KAAK,OAAO;AACjC,YAAI,cAAc;AAChB,gBAAM,AAAM,QAAO,cAAc,KAAK;AAAA;AAAA;AAG1C,mBAAa,mBAAiB,MAAM;AAAA,QAClC,WAAW,CAAC,aAAyB;AACnC,yBAAO,uBAAuB,KAAK,UAAU;AAE7C,kBAAQ,QAAQ,SAAS,IAAI,KAAK,UAAU,UAAU;AACtD,eAAK,EAAE,MAAM,aAAa,SAAS,EAAE,UAAU,KAAK,UAAU,UAAU;AAAA;AAAA,QAE1E,QAAQ,CAAC,UAAsB,gBAAkC;AAE/D,eAAK,EAAE,MAAM,aAAa,SAAS,EAAE,UAAU,MAAM;AAAA;AAAA,QAEvD,SAAS,CAAC,aAAyB;AAEjC,gBAAM,UAAU;AAChB,eAAK,EAAE,MAAM,cAAc,SAAS,EAAE,UAAU;AAAA;AAAA,QAElD,OAAO,CAAC,aAAyB;AAE/B,eAAK,EAAE,MAAM,cAAc,SAAS,EAAE;AAAA;AAAA,QAExC,gBAAgB,CAAC,EAAE,cAAc;AAC/B,eAAK,EAAE,MAAM,wBAAwB,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA,KAIrD,SAAS,uBAAuB,CAAC,aAAyB;AAEzD,wBAAkB;AAClB,cAAQ,QAAQ,SAAS,IAAI;AAAA;AAAA,KAE9B,SAAS,WAAW,CAAC;AAAA,MACpB;AAAA,MACA;AAAA,QACiE,OAAO;AACxE,iBAAW,EAAE,UAAU,iBAAiB,WAAW,uCAAW,WAAW;AAAA;AAAA,KAE1E,SAAS,QAAQ,MAAM;AACtB,WAAK,EAAE,MAAM;AAAA;AAAA;AAAA;;;AtC5GnB,IAAI,eAAe,MAAM;AAAA;AAKlB,IAAM,YAAW,CAAC,cAA6C;AAEpE,EAAO,kBAAS,eAAe,0BAA0B;AAAA,IACvD,aAAa;AAAA,IACb,QAAQ,CAAC,EAAE,MAAM,OAAO,EAAE,MAAM;AAAA;AAIlC,QAAM,aAAW,eAAe;AAAA,IAC9B,eAAe,UAAU;AAAA,IAEzB,gBAAgB,UAAU;AAAA;AAG5B,QAAM,YAAY,CAAC,QAAa;AAC9B,cAAU,cAAc,KAAK;AAAA;AAI/B,aAAW,OAAO,YAAU;AAC1B,UAAM,UAA6B,AAAO,kBAAS,gBAAgB,KAAK,WAAS;AACjF,cAAU;AAAA;AAGZ,EAAU,SAAS;AAEnB,iBAAe,MAAM;AAGnB,eAAW,cAAc,UAAU,eAAe;AAChD,iBAAW;AAAA;AAGb,IAAU;AAAA;AAAA;AAKP,IAAM,cAAa,MAAY;",
  "names": []
}
